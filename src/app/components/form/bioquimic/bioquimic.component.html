<div [ngClass]="desactive ? 'd-none' : 'd-block'">
  <ion-grid class="form-component" [id]="this.data?.id" [name]="data.name" [ngClass]="data?.hidden ? 'd-none' : 'd-block'">
    <ion-row class="form-question">
      <div  class="text-index">{{data.index}}</div>
      <div style="display: flex;">
        <ion-text *ngIf=" this.data.required" color="danger" style="font-size:20px; margin-right: 4px;">*</ion-text>
        <app-tooltip *ngIf="this.data?.tooltip !== '' " style="margin-right: 4px;margin-top: 2px;" [info]="this.data.tooltip" ></app-tooltip>
        <div [innerHtml]="this.label | safeHtml"></div>
      </div>
    </ion-row>
    <!-- <form [formGroup]="sliderForm"> -->
    <ion-note class="ion-padding" color="danger">{{this.error_msg}}</ion-note>
    <div *ngIf="this.slider === true && !this.isVertical; else verticalSlider">
      <ion-item lines="none" [ngClass]="error ? 'form-input-error' : 'form-input'">
        <ion-input  mode="ios" (ionBlur)="checkLastValue()" (ionInput)="setValue($event)" (ionChange)="checkValue()" 
        [value]="this.value" [min]="min" [max]="max" maxlength="20"
        type="number"
        inputmode="decimal" [placeholder]="this.data?.placeholder" required="this.data?.required"></ion-input>
      </ion-item>
      <ion-item lines="none">
        <ion-range mode="ios" (ionChange)="setValue($event)" (touchend)="sendValue($event)" [value]="this.value" [min]="min" [max]="max" [step]="step" snaps="true" [pin]="true">
          <ion-label slot="start">{{min}}</ion-label>
          <ion-label slot="end">{{max}}</ion-label>
        </ion-range>
      </ion-item>
    </div>

    <ng-template #verticalSlider>
      <div *ngIf="this.slider === true && this.isVertical; else noSlider">
        <ion-row class="ion-no-padding">
          <ion-col size="9">
            <ion-item mode="ios" lines="none" [ngClass]="error ? 'form-input-error' : 'form-input'">
              <ion-input (ionBlur)="checkLastValue()" (ionInput)="setValue($event)" (ionChange)="checkValue()" 
              [value]="this.value" [min]="min" [max]="max" maxlength="20"
              type="number"
              inputmode="decimal" [placeholder]="this.data?.placeholder" required="this.data?.required">
            </ion-input>
            </ion-item>
          </ion-col>
          <ion-col size="3" style="height: 300px;">
            k
            <ngx-slider [(value)]="value1" [options]="this.options" 
              (valueChange)="onValueChange($event)" (userChange)="this.update()"
              (userChangeEnd)="sendValue($event)">
            </ngx-slider>
            j
          </ion-col>
        </ion-row>
      </div>

    </ng-template>

    <ng-template #noSlider>
      <ion-item lines="none" [ngClass]="error ? 'form-input-error' : 'form-input'">
        <ion-input #ionInputEl
        mode="ios" [min]="min" [max]="max" [step]="step" [value]="this.value"  maxlength="10" 
        type="number"  inputmode="decimal"
         (ionBlur)="checkLastValue()" (ionInput)="setValue1($event)" (ionChange)="checkValue()" [placeholder]="this.data?.placeholder" required="this.data?.required"></ion-input>
      </ion-item>
    </ng-template>
  </ion-grid>
</div>