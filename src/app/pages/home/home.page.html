<ion-header mode="ios">
  <ion-toolbar mode="ios">
    <ion-row style="height: 80px; justify-content: center;">

      <ion-col size="7.5" class="alingLeftTop">
        <p class="greeting" [innerHtml]="this.greeting"> </p>
      </ion-col>

      <ion-col size="2.0"
        style="padding-top: 0%; padding-right: 0%; display: flex; align-items: center; padding-left: 3%; margin-top: 3%;"
        class="ion-text-end">
        <ion-tab-button style="margin-top: 1%; padding: 0%;" routerLink="list-notifications" mode="ios">
          <ion-badge class="bell" [ngStyle]="{'font-size': (this.numNotification >99)? '10.5px':'12px'}"
            *ngIf="pusherNotification" mode="ios" color="danger">{{this.numNotification >99? '99+': this.numNotification
            }}</ion-badge>

          <ion-icon class="icon-notifications" style="margin-left: -5px;"
            src="../../assets/icons/notifications.svg"></ion-icon>

        </ion-tab-button>
      </ion-col>

      <ion-col size="2.5"
        style="padding-right: 0; padding-left: 1px; display: flex; align-items: center; padding-left: 3%; margin-top: 3%;">
        <ion-tab-button style="margin-top: 1%; padding: 0%;" routerLink="/profile" mode="ios">
          <ion-icon class="icon-menu" style="margin-left: -5px;" src="../../assets/icons/menu.svg"></ion-icon>
        </ion-tab-button>
      </ion-col>
    </ion-row>
  </ion-toolbar>
</ion-header>


<ion-content mode="md">


  <ng-container *ngIf="this.isLoading && this.isLoadingNumNotifications; else finishedLoading">
    <div class="spin">
      <ion-spinner name="bubbles"></ion-spinner>
    </div>
  </ng-container>


  <ng-template #finishedLoading>

    
    <ion-grid mode="md" class="ion-padding-top">
      <!-- CAREGIVER -->
      <ng-container *ngIf="!this.authService.isFamily; else familyUnitActivated">
        <ng-container *ngIf="this.listFamilyUnit?.length > 0; else caregiversAvailable">
          <ion-row>
            <ion-text class="txtTitle" style="white-space: nowrap">
              {{ 'home.caregiver_title' | translate}}</ion-text>            
          </ion-row>
          <ng-container *ngIf="this.listFamilyUnit?.length > 1; else onlyOneCaregiver">
            <ion-row>
              <ion-col size="12">
                <ion-searchbar mode="ios" show-cancel-button="always" (ionCancel)="onCancel($event)"
                  (ionFocus)="activateList()" [debounce]="1000" (ionInput)="handleInput($event)"
                  style="padding-left: 0px; padding-right: 0px;"></ion-searchbar>

                <ion-list *ngIf="this.activateFocus" class="dependants-list ion-no-padding">
                  <ion-radio-group mode="ios" value="space-between" (ionChange)="onCaregiverSelect($event)">

                    <div *ngFor="let result of results; let i = index; let isLast=last">
                      <ion-item slot="end" lines="none" class="caregiver-item2">
                        <ion-radio mode="ios" value="space-between" justify="space-between" value="{{i}}" checked="true"
                          style="padding-right: 5%; padding-left: 5%;">
                          <p class="caregiver-txt">{{ result.name }}
                            <span class="birth-txt" *ngIf="result.birthdate">{{ result.birthdate }}</span>
                          </p>
                        </ion-radio>
                      </ion-item>
                    </div>

                  </ion-radio-group>
                </ion-list>
              </ion-col>
            </ion-row>

          </ng-container>

          <ng-template #onlyOneCaregiver>
            <ion-card>
              <ion-card-content class="ion-no-padding" style="padding-top: 0px;">
                <ion-item class="caregiver-item" (click)="this.alertCaregiver(this.listFamilyUnit[0])" lines="none">
                  <ion-thumbnail class="thumbnail" slot="start">
                    <img alt="Silhouette of mountains" [src]="this.listFamilyUnit[0]?.thumbnail" />
                  </ion-thumbnail>
                  <ion-label>{{this.listFamilyUnit[0]?.name}}</ion-label>

                  <ion-icon slot="end" size="small" src="assets/icons/challenge_card_btn.svg"></ion-icon>
                </ion-item>
              </ion-card-content>
            </ion-card>
          </ng-template>

        </ng-container>

        <ng-template #caregiversAvailable>
  
        </ng-template>

        </ng-container>

        <ng-template #familyUnitActivated>

          <ion-row>
            <br>
            <ion-text class="txtTitle" style="white-space: nowrap">
              {{ 'home.back_caregiver' | translate}}</ion-text>
          </ion-row>

          <ion-card>
            <ion-card-content class="ion-no-padding" style="padding-top: 0px;">
              <ion-item class="caregiver-item" (click)="returnUser()" lines="none">
                <ion-thumbnail class="thumbnail" slot="start">
                  <img alt="Silhouette of mountains" [src]="this.authService.user.selectedCaregiverResponsible?.image" />
                </ion-thumbnail>
                <ion-label>{{this.authService.user.selectedCaregiverResponsible?.name}}</ion-label>

                <ion-icon slot="end" size="small" src="assets/icons/challenge_card_btn.svg"></ion-icon>
              </ion-item>
            </ion-card-content>
          </ion-card>
        </ng-template>
      

      
      <!-- GOALS -->
      <ng-container *ngIf="nChallengesNotCompleted() !== 0">
        <ion-row class="ion-padding-top">
          <ion-col size="6">
            <ion-text class="txtTitle">{{ 'health_path.goals' | translate}}</ion-text>
          </ion-col>

          <ion-col size="6">
            <ion-text class="seeAll" style="display:flex; justify-content: end; padding-right: 5%;" routerLink="/profile/goals">{{
              'health_path.see_all_goals' | translate}}</ion-text>
          </ion-col>
        </ion-row>

        <ion-row mode="md" *ngIf="this.challenges?.length > 0">
          <swiper-container [slidesPerView]="nChallengesNotCompleted() == 1 ? 1:1.05"
            [config]="this.sliderChallengesConfigHorizontal">
            <ng-container *ngFor="let challenge of this.challenges">
              <swiper-slide *ngIf="!challenge.completed" class="ion-no-padding">

                <ion-card class="customCardHealthPath">
                  <ion-item lines="none" mode="md" class="noMargin" (click)="navigateToChallengesPage(challenge)"
                    routerLinkActive="active-item">

                    <div class="slidersHeader">
                      <ion-icon name="heart" class="ion-no-margin" slot="start" style="color:var(--purple)"></ion-icon>
                      <ion-text class="challenge-txt" slot="start">{{(challenge?.name )? challenge?.name:
                        ('home.health_path' |
                        translate)}}</ion-text>
                    </div>
                    <ion-icon class="icon-arrow" slot="end" size="small"
                      src="assets/icons/challenge_card_btn.svg"></ion-icon>
                  </ion-item>


                  <ion-card-content mode="md" class="ion-text-left">
                    <ion-grid class="ion-no-padding">
                      <ion-row>
                        <ion-col size="3" class="ion-no-padding" style="font-size: medium;">
                        </ion-col>
                        <ion-col size="9" class="ion-no-padding">
                          <p class="text1line"><b>{{challenge?.current_level?.name}}</b></p>
                        </ion-col>
                      </ion-row>

                      <ion-row>
                        <ion-col size="3" class="ion-no-padding"
                          style="  height: 100%; width: auto;display: block; padding-left: 5%; padding-right: 5%">
                          <ion-img class="ion-text-center" style="margin: auto;"
                            src="{{this.challenge?.current_level?.cover ? this.challenge.current_level.cover : 'assets/icons/IconGoal.svg'}}"></ion-img>
                        </ion-col>
                        <ion-col size="9">
                          <ion-row style="display: inline-flex !important; margin-bottom: 4%;"
                            class="challenge-description">
                            {{'health_path.goal_txt1' | translate}}&nbsp;<strong>{{
                              challenge?.current_level?.current_score
                              }}
                              {{'game.points' | translate}}</strong>
                            <div *ngIf="challenge?.current_level?.percentage_completed < 100">,
                              {{'health_path.goal_txt2'
                              |
                              translate}} {{ challenge?.current_level?.score_required -
                              challenge?.current_level?.current_score }} {{'health_path.goal_txt3' | translate}}</div>
                            <div *ngIf="challenge?.current_level?.percentage_completed < 100">{{'health_path.goal_txt4'
                              |
                              translate}} ðŸŽ‰</div>
                            <br>
                          </ion-row>

                          <ion-row style="margin-bottom: 5%;">
                            <ion-progress-bar class="progress-bar"
                              value="{{ challenge?.current_level?.percentage_completed > 0 ? challenge?.current_level?.percentage_completed / 100 : 0 }}">
                            </ion-progress-bar>
                          </ion-row>


                        </ion-col>

                        <ion-row (click)="navigateToChallengeDetailPage(challenge)" routerLinkActive="active-item"
                          style="width: 100%;">
                          <a class="a-type1" style="padding-left: 15%;">{{
                            'health_path.detail' | translate }} <b> {{'health_path.see_more' | translate }}! </b> </a>

                        </ion-row>

                      </ion-row>
                    </ion-grid>
                  </ion-card-content>
                </ion-card>
              </swiper-slide>
            </ng-container>
          </swiper-container>
        </ion-row>

      </ng-container>

      <!-- TEMPORARY Prescribed apps TRAK-->
      <ion-row mode="md" class="paddingTopNoMarginBottom" *ngIf="this.prescribedApps?.length !== 0">

        <ion-text mode="md" class="txtTitle" style="white-space: nowrap" *ngIf="this.prescribedApps?.length > 0">
          {{ 'home.prescribed_apps_title' | translate}}</ion-text>

        <swiper-container mode="md" [config]="this.config" [slidesPerView]="2" *ngIf="this.prescribedApps?.length > 0">
          <swiper-slide mode="md" *ngFor="let slide of this.prescribedApps" class="ion-no-padding">

            <!--  <ng-container *ngIf="slide.iframe_url !== null else openMarketApp">
                <ion-card style="background: white; box-shadow: none;" [href]="slide.iframe_url" >
                  <img [src]="slide.icon" />
                </ion-card>
              </ng-container>  #openMarketApp-->

            <!-- <ng-template > -->
            <ion-card mode="md" class="prescribbedAppsCard" (click)="openActionPrescribedApps(slide)">
              <img style="width: auto;" [src]="slide.icon" />
            </ion-card>
            <!-- </ng-template> -->
          </swiper-slide>
        </swiper-container>
      </ion-row>

  
      <!-- TASKS OF TODAY -->
      <ion-row class="ion-padding-top">
        <ion-text class="txtTitle" style="white-space: nowrap">
          {{ 'home.today_title' | translate}}</ion-text>
      </ion-row>

      <!-- Forms -->
      <ion-row>
        <ion-card class="vertical-card" (click)="navigateToFormsPage()">
          <ion-item lines="none" mode="md" class="noMargin">
            <div class="slidersHeader">
              <ion-img class="ion-no-margin" slot="start" src="assets/icons/checklist-pen.svg"></ion-img>
              <ion-text class="card-title" slot="start" style="color: var(--form-home-color)">{{ 'setting.subtitle_form'
                |
                translate}}</ion-text>
            </div>
            <ion-text slot="end" *ngIf="infoForms" class="hour-txt">{{infoForms?.hour}}</ion-text>
            <ion-icon class="icon-arrow" slot="end" size="small" src="assets/icons/challenge_card_btn.svg"></ion-icon>
          </ion-item>

          <ion-card-content>

            <ion-text style="display: flex; justify-content: start;;" *ngIf="!this.forms|| this.forms?.length == 0">
              {{ 'no_data' | translate}}
            </ion-text>

            <swiper-container #sliderForms direction="vertical" pagination="true"
              [config]="this.sliderFormsConfigVertical" (slidechange)="slideFormChange()">

              <swiper-slide style="width: 100% !important;" *ngFor="let slide of this.forms">
                <ion-grid class="zeroMarginPadding" style="width: 100%;">
                  <ion-row>
                    <ion-text style="text-align: left;margin-left: 0px;" class="txt-cards">-
                      {{slide?.form?.title}}</ion-text>
                  </ion-row>
                </ion-grid>
              </swiper-slide>

            </swiper-container>
          </ion-card-content>
        </ion-card>

      </ion-row>


      <!-- Exercises -->
      <ion-row>
        <ion-card class="vertical-card">
          <ion-item lines="none" mode="md" class="noMargin" (click)="navigateToExercises()">
            <div class="slidersHeader">
              <ion-img class="ion-no-margin" slot="start" src="assets/icons/exercises.svg"></ion-img>
              <ion-text class="card-title" slot="start" style="color: var(--exercises-home-color)">{{ 'exercices.header'
                |
                translate}}</ion-text>
            </div>
            <ion-text slot="end" *ngIf="infoExercises" class="hour-txt">{{infoExercises?.hour}}</ion-text>
            <ion-icon class="icon-arrow" slot="end" size="small" src="assets/icons/challenge_card_btn.svg"></ion-icon>
          </ion-item>


          <ion-card-content>

            <ion-text style="display: flex; justify-content: start;;"
              *ngIf="!this.exercises|| this.exercises?.length == 0 ">
              {{ 'no_data' | translate}}
            </ion-text>

            <swiper-container #sliderExercises *ngIf="this.exercises?.length > 0" direction="vertical" pagination="true"
              [config]="this.sliderExercisesConfigVertical" (slidechange)="slideExerciseChange()">

              <swiper-slide style="width: 100% !important;" *ngFor="let slide of this.exercises"
                (click)="navigateToExercisesPage(slide)">
                <ion-grid class="zeroMarginPadding" style="width: 100%;">
                  <ion-row>
                    <ion-text style="text-align: left;margin-left: 0px;" class="txt-cards">-
                      {{slide?.exercise?.name}}</ion-text>
                  </ion-row>
                </ion-grid>
              </swiper-slide>
            </swiper-container>
          </ion-card-content>
        </ion-card>

      </ion-row>


      <!-- Drugs -->
      <ion-row>
        <ion-card class="vertical-card" style="max-height: 135px !important;">
          <ion-item lines="none" mode="md" class="noMargin" (click)="navigateToMedicationPage()"
            routerLinkActive="active-item">
            <div class="slidersHeader">
              <ion-img mode="md" slot="start" class="ion-no-margin" src="assets/icons/medicina.svg"></ion-img>
              <ion-text mode="md" class="card-title" slot="start" style="color: var(--medication-home-color)">{{
                'home.medication_subtitle' | translate}}</ion-text>
            </div>
            <ion-text mode="md" slot="end" *ngIf="infoDrugs" class="hour-txt">{{infoDrugs?.hour}}</ion-text>
            <ion-icon class="icon-arrow" slot="end" size="small" src="assets/icons/challenge_card_btn.svg"></ion-icon>
          </ion-item>


          <ion-card-content mode="md">

            <ion-text style="display: flex; justify-content: start; width: inherit"
              *ngIf="!this.drugs || this.drugs?.length == 0">
              {{ 'no_data' | translate}}
            </ion-text>

            <swiper-container mode="md" #sliderDrug (slidechange)="slideDrugChange()" direction="vertical"
              pagination="true" class="slider-vertical">
              <swiper-slide mode="md" *ngFor="let slide of this.drugs;">
                <ion-grid mode="md">
                  <ion-row mode="md">
                    <ion-text style="text-align: left" class="txt-cards">
                      {{(slide.alias !== null)? slide.alias: (slide?.name?.substring(25,-1) + '...') }}
                    </ion-text>
                  </ion-row>
                  <ion-row mode="md">
                    <ion-button mode="md" class="take-btn" *ngIf="slide.forgotten == 2" size="small" shape="round"
                      (click)="changeTake(slide.id, slide.state)">{{ 'button.take' | translate }}</ion-button>
                    <ion-button mode="md" *ngIf="slide.forgotten == 1" size="small" shape="round" color="danger"
                      (click)="changeTake(slide.id, slide.state)">{{ 'button.forgotten' | translate }}<ion-icon
                        style="margin-left: 5px" name="close-outline" color="light"></ion-icon>
                    </ion-button>
                    <ion-button mode="md" *ngIf="slide.forgotten == 0" size="small" shape="round" color="success"
                      (click)="changeTake(slide.id, slide.state)">{{ 'button.taked' | translate }}<ion-icon
                        style="margin-left: 5px" name="checkmark-outline" color="light"></ion-icon>
                    </ion-button>&nbsp;
                  </ion-row>
                </ion-grid>
              </swiper-slide>
            </swiper-container>
          </ion-card-content>
        </ion-card>
      </ion-row>


      <!-- Diets -->
      <ion-row>
        <ion-card class="vertical-card">
          <ion-item lines="none" mode="md" class="noMargin" routerLinkActive="active-item"
            (click)="navigateToDietsPage()">
            <div class="slidersHeader">
              <ion-img class="ion-no-margin" slot="start" src="assets/icons/food.svg"></ion-img>
              <ion-text class="card-title" slot="start" style="color: var(--diet-home-color)">{{ 'home.diet' |
                translate}}</ion-text>
            </div>
            <ion-text slot="end" *ngIf="infoDiet" class="hour-txt">{{infoDiet?.hour}}</ion-text>
            <ion-icon class="icon-arrow" slot="end" size="small" src="assets/icons/challenge_card_btn.svg"></ion-icon>
          </ion-item>


          <ion-card-content>

            <ion-text style="display: flex; justify-content: start;;" *ngIf="!this.diets|| this.diets?.length == 0 ">
              {{ 'no_data' | translate}}
            </ion-text>

            <swiper-container #sliderDiet *ngIf="this.diets?.length > 0" direction="vertical" pagination="true"
              [config]="this.sliderDietsConfigVertical" (slidechange)="slideDietChange()">

              <swiper-slide style="width: 100% !important;" *ngFor="let slide of this.diets">
                <ion-grid class="zeroMarginPadding" style="width: 100%;">
                  <ion-row>
                    <ion-text style="text-align: left;margin-left: 0px;" class="txt-cards"
                      (click)="goDetailRecipe(slide)">- {{slide?.name}}</ion-text>
                  </ion-row>
                </ion-grid>
              </swiper-slide>

            </swiper-container>
          </ion-card-content>
        </ion-card>
      </ion-row>

      <!-- Games -->
      <ion-row>
        <ion-card class="vertical-card">
          <ion-item lines="none" mode="md" class="noMargin" routerLinkActive="active-item"
            (click)="navigateToGamesPage()">
            <div class="slidersHeader">
              <ion-img class="ion-no-margin" slot="start" src="assets/icons/game-controller-1.svg"></ion-img>
              <ion-text class="card-title" slot="start" style="color: var(--games-home-color)">{{ 'home.plays_subtitle'
                |
                translate}}</ion-text>
            </div>
            <ion-text slot="end" *ngIf="infoGames" class="hour-txt">{{ infoGames?.hour}}</ion-text>
            <ion-icon class="icon-arrow" slot="end" size="small" src="assets/icons/challenge_card_btn.svg"></ion-icon>
          </ion-item>


          <ion-card-content>
            <ion-text style="display: flex; justify-content: start;;" *ngIf="this.games?.length === 0">
              {{ 'no_data' | translate}}
            </ion-text>

            <swiper-container #sliderGames *ngIf="this.games?.length > 0" (slideChange)="slideGamesChange()"
              direction="vertical" pagination="true" [config]="this.sliderGamesConfigVertical" class="slider-vertical">
              <swiper-slide *ngFor="let slide of this.games">
                <div (click)="actionButtonGames(slide.game)" class="txtTitleGoalsLittle3">
                  <ion-text class="txt-cards" style="text-align: left">{{slide.name}}</ion-text>
                </div>
              </swiper-slide>
            </swiper-container>
          </ion-card-content>
        </ion-card>
      </ion-row>



      <!-- Physical Activity -->
      <ion-row>
        <ng-container *ngIf="(!this.activity || this.activity?.length == 0); else elseBlock">
          <ion-card class="vertical-card margin-bottom" (click)="navigateToMonitoringPage()">

            <ion-item lines="none" mode="md" class="noMargin">
              <div class="slidersHeader">
                <ion-img slot="start" class="ion-no-margin" src="assets/icons/flame.svg"></ion-img>
                <ion-text class="card-title" slot="start" style="color: var(--monitoring-home-color)">{{'home.element'|
                  translate}}</ion-text>
              </div>
              <ion-icon class="icon-arrow" slot="end" size="small" src="assets/icons/challenge_card_btn.svg"></ion-icon>
            </ion-item>


            <ion-card-content>
              <ion-text style="display: flex; justify-content: start;;"
                *ngIf="!this.activity|| this.activity?.length == 0 ">
                {{ 'no_data' | translate}}
              </ion-text>
            </ion-card-content>
          </ion-card>

        </ng-container>

        <ng-template #elseBlock>
          <ion-card class="vertical-card" (click)="navigateToMonitoringPage()">
            <swiper-container #sliderPhysical pagination="true">
              <swiper-slide *ngFor="let slide of this.activity; let i = index">
                <ion-item lines="none" mode="md" class="noMargin">
                  <div class="slidersHeader">
                    <ion-img slot="start" class="ion-no-margin" src="assets/icons/flame.svg"></ion-img>
                    <ion-text class="card-title" slot="start" style="color: var(--monitoring-home-color)"> {{
                      'home.monitoring' | translate}}:
                      {{( slide?.group)? slide?.group: ('home.element'| translate)}}</ion-text>
                  </div>
                  <ion-icon class="icon-arrow" slot="end" size="small"
                    src="assets/icons/challenge_card_btn.svg"></ion-icon>
                </ion-item>

                <ion-card-content>
                  <swiper-container direction="vertical" pagination="true" [config]="this.configVertical">
                    <ion-text style="display: flex; justify-content: start;;" *ngIf="slide.elements.length === 0"
                      class="txt-cards">
                      {{ 'no_data' | translate}}
                    </ion-text>
                    <swiper-slide *ngFor="let element of slide.elements; let j = index">
                      <ion-text class="txt-cards" style="display: flex; justify-content: start;;">
                        {{ element?.name}}
                        {{ element.value }}
                        {{element.units}}
                      </ion-text>
                    </swiper-slide>
                  </swiper-container>
                </ion-card-content>
              </swiper-slide>
            </swiper-container>
          </ion-card>
        </ng-template>
      </ion-row>


      <!-- Reminders -->
      <ion-row *ngIf="this.appointment?.length > 0" class="ion-padding-top">
        <ion-text class="txtTitle">{{ 'home.reminders_title' | translate}}</ion-text>
      </ion-row>

      <!-- Agendas -->
      <ion-row>
        <swiper-container [slidesPerView]="this.appointment?.length == 1 ? 1:1.1">
          <swiper-slide swiperSlide *ngFor="let slide of this.appointment">


            <ion-card class="customCardAppointment">
              <ion-item mode="md" class="noMargin">
                <div class="slidersHeader">
                  <ion-title class="appointment-txt">Appointment</ion-title>
                </div>
                <ion-icon class="icon-arrow" slot="end" size="small"
                  src="assets/icons/challenge_card_btn.svg"></ion-icon>
              </ion-item>

              <div class="txtTitleGoalsLittle3" *ngIf="!this.appointment || this.appointment?.length == 0 ">
                {{ 'no_data' | translate}}
              </div>

              <ion-card-content routerLink="/agenda/reminder/detail" routerLinkActive="active-item"
                [state]="{ event: slide}">
                <ion-grid>
                  <ion-row class="alingLeft zeroMarginPadding">
                    <ion-col size="2.5" class="alingLeft zeroMarginPadding" style="display: flex; align-items: center;">
                      <ion-img src="assets/icons/agenda_new.svg"></ion-img>
                    </ion-col>
                    <ion-col size="9.5" class="alingLeft zeroMarginPadding" style="padding-top: 3%;">
                      <ion-text class="datetxt ion-margin-start">

                        {{ formatSelectedDate(slide.start_date_iso8601) | titlecase
                        }}
                      </ion-text>
                      <br>
                      <ion-text class="date-txt ion-margin-start">
                        {{slide.title}}
                      </ion-text>
                      <br>
                      <ng-container *ngIf="slide?.staff.length > 0; else noProfesional">
                        <div *ngFor="let doctor of slide.staff;">
                          <ion-text class="staff-txt ion-margin-start">
                            {{doctor.name}} - <b>{{ 'appointment.field_specially' | translate }}</b>
                          </ion-text>
                          <br>
                        </div>
                      </ng-container>

                      <ng-template #noProfesional>
                        <ion-text class="staff-txt ion-margin-start">
                          <b>{{ 'appointment.no_field_specially' | translate }}</b>
                        </ion-text>
                      </ng-template>

                      <ion-row>
                        <a class="see-more-appointment ion-margin-start">{{ 'health_path.see_more' | translate}}!</a>
                      </ion-row>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </ion-card-content>
            </ion-card>
          </swiper-slide>
        </swiper-container>
      </ion-row>



      
      <!-- ADVICES -->
      <ng-container *ngIf="this.advices?.length > 0">
        <ion-row class="ion-padding-top">
          <ion-col size="6">
            <ion-text class="txtTitle">{{ 'home.advices' | translate}}</ion-text>
          </ion-col>
  
          <ion-col size="6">
            <ion-text routerLink="/advices" class="seeAll"
              style="display:flex; justify-content: end; padding-right: 5%;">{{
              'home.see_advices' | translate}}</ion-text>
          </ion-col>
        </ion-row>
  
  
        <ion-row>
          <swiper-container [slidesPerView]="this.advices?.length == 1 ? 1:1.2">
            <swiper-slide swiperSlide *ngFor="let slide of this.advices">
              <ion-card>
                <img class="imagefitAdvices" alt="Silhouette of mountains"
                  [src]="slide?.image?.thumbnailTemporaryUrl ? slide?.image?.thumbnailTemporaryUrl : 'assets/images/default-advice-img.png'" />
                <ion-card-header>
                  <ion-title class="txt-card-advices">{{this.slide.name}}</ion-title>
                </ion-card-header>
                <ion-card-content style="padding-top: 0px;">
                  <ion-toolbar>
                    <ion-buttons slot="end">
                      <ion-button color="primary" shape="round" fill="solid" routerLink="/advices/advices-detail"
                        [state]="{ id: slide?.id }" routerLinkActive="active-item"
                        style="width:120px; text-transform: capitalize; padding-left: 2%; padding-right: 2%;">
                        {{'health_path.see_more' | translate}}
                      </ion-button>
                    </ion-buttons>
                  </ion-toolbar>
                </ion-card-content>
              </ion-card>
            </swiper-slide>
          </swiper-container>
        </ion-row>
      </ng-container>
      


    </ion-grid>

  </ng-template>
</ion-content>
<ion-footer>
  <ion-toolbar>
    <app-tabs #tabs></app-tabs>
  </ion-toolbar>
</ion-footer>