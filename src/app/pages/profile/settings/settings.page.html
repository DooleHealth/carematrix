<ion-header>
  <ion-toolbar mode="ios">
    <ion-buttons slot="start">
      <ion-back-button text=""></ion-back-button>
    </ion-buttons>
    <ion-title class="toolbarTitle">{{ 'setting.title_setting' | translate}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen>
  <div class="txtTitleSetting"></div>
    <ion-text class="toolbarTitle" style="padding-left: 3%;">{{ 'setting.title_security' | translate}}</ion-text>
    <ion-card class="cardProfile">
          <ion-list [lines]="isTwoFactor? 'full': 'none' ">
            <ion-item (click)="changePassword()" >
              <ion-label>{{ 'setting.password.title_change_password' | translate}}</ion-label>
              <ion-icon src="assets/icons/challenge_card_btn.svg" slot="end" size="small"></ion-icon>
            </ion-item>
            <ion-item [lines]="isFaID? 'full': 'none' " *ngIf="isTwoFactor">
              <ion-toggle slot="end" color="success" [(ngModel)]="authentication" (ionChange)="changeAuthentication()" checked>{{ 'setting.subtitle_authentication' | translate}}</ion-toggle>
            </ion-item>
            <ion-item lines="none" *ngIf="isFaID">
              <ion-toggle slot="end" color="success" [(ngModel)]="faceId" (ionChange)="changeFaceId()" checked>{{ 'setting.subtitle_face_id' | translate}}</ion-toggle>
            </ion-item>

          </ion-list>
    </ion-card>

    <ion-text class="toolbarTitle" style="padding-left: 3%;">{{ 'setting.title_languages' | translate}}</ion-text>
    <ion-card class="cardProfile">
          <ion-list>
            <ion-item lines="none">

              <ion-select [(ngModel)]="language" (ionChange)="changeLanguages()" interface="action-sheet"  okText="{{ 'button.ok' | translate}}" cancelText="{{ 'button.cancel' | translate}}" placeholder="{{'add_health_card.placeholder_select' | translate}}" label="{{ 'setting.subtitle_languages'| translate}}">
                <ion-select-option *ngFor="let language of listLanguage" [value]="language">{{language.name}}</ion-select-option>
              </ion-select>
            </ion-item>

          </ion-list>
    </ion-card>

    <ng-container *ngIf="this.enableGoogleFitSettings">
      <ion-text class="txtTitle2">Google Fit</ion-text>
      <ion-card class="cardProfile">
        <ion-list>
          <ion-item lines="none"  *ngIf="!this.connected" [button]="true" (click)="doGoogleFitAction()">
            <ion-label> {{'google-fit.connect_to' | translate}}</ion-label>
          </ion-item>
  
          <ion-item lines="none" *ngIf="this.connected" [button]="true" (click)="openAppConfig()">
            <ion-label> {{'google-fit.disconnect' | translate}} {{'google-fit.app' | translate}} </ion-label>
          </ion-item>
        </ion-list>
      </ion-card>
    </ng-container>

    <ion-text class="txtTitle">{{ 'setting.title_notification' | translate}}</ion-text>
    <ion-card class="cardProfile">
          <ion-list lines="full">
            <notification-options *ngFor="let notification of this.optionList; let i = index"
              [notification]="notification"
              [lines]="(this.optionList.length-1) == i ? 'none': '' "
              (setNotification)="sendConfigution($event)"
              (onExpand)="changeStateOptionsNoti(notification)"
              [appAndMail]="optAppAndEmail"
            ></notification-options>
          </ion-list>
    </ion-card>

    <div *ngIf="this.modeDevelop">
      <ion-text class="txtTitle2">{{ 'Desarrollador' | translate}}</ion-text>
      <ion-card class="cardProfile">
            <ion-list>
              <ion-item lines="none">

                <ion-select label="BO" [(ngModel)]="this.api" (ionChange)="changeEndPoint($event)" interface="action-sheet"  okText="{{ 'button.ok' | translate}}" cancelText="{{ 'button.cancel' | translate}}" placeholder="{{'add_health_card.placeholder_select' | translate}}">
                  <ion-select-option *ngFor="let api of listEndPoint; let index = i" [value]="api">{{api.name}}</ion-select-option>
                </ion-select>
              </ion-item>

            </ion-list>
      </ion-card>
    </div>


</ion-content>

