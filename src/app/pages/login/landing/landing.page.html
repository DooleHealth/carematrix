<ion-content fullscreen>
    <div class="main-container">
        <img style="padding-top: 40%;" src="/assets/images/logo.svg" />
        <ion-grid>
            <ion-col>
                <form [formGroup]="loginForm" (ngSubmit)="doDooleAppLogin()">
                    <ion-item-divider>
                        <ion-icon name="person"></ion-icon>
                        <ion-input type="text" placeholder="{{'landing.user_placeholder' | translate }}"
                            formControlName="username">
                        </ion-input>
                    </ion-item-divider>
                    <ion-item-divider>
                        <ion-icon name="lock-closed"></ion-icon>
                        <app-show-hide-password >
                            <ion-input type="password" placeholder="{{'landing.password_placeholder' | translate }}"
                                formControlName="password">
                            </ion-input>
                        </app-show-hide-password>
                    </ion-item-divider>
                    <ion-text (click)="passwordRecovery()">
                        <a>{{ 'landing.password_recovery' | translate}}</a>
                    </ion-text>


                    <ion-button type="submit" size="medium"
                        [disabled]="!loginForm.valid || this.numFailLogin >= NUM_FAIL_LOGIN"
                        [color]="this.isProd? 'primary':'tertiary' " expand="block" class="enter-btn">
                        {{ 'landing.button_signin' | translate}}</ion-button>
                </form>
                <div *ngIf="this.numFailFingerP < NUM_FAIL_LOGIN" style="margin-top: 5%;">
                    <div *ngIf="this.hasBiometricAuth">
                        <ion-button expand="block" [disabled]="this.numFailFingerP >= NUM_FAIL_LOGIN" size="medium"
                            (click)="doBiometricLogin()">
                            <ion-icon slot="start" name="finger-print-outline"></ion-icon>
                            {{ 'landing.biometrics' | translate }}
                        </ion-button>
                    </div>
                </div>

                <div *ngIf="this.numFailLogin >= 3" style="margin-top: 10%;">
                    <ion-text>
                        <a>{{ 'landing.blocked_login' | translate}}</a>
                    </ion-text>
                </div>
            </ion-col>
        </ion-grid>

    </div>
</ion-content>
<ion-footer class="ion-no-border justify-content-center">
    <ion-toolbar>
        <ion-title size="small" (click)="showAppUsageTips()" class="text-align-center">
            <a>{{ 'landing.about_app' | translate}}</a>
        </ion-title>
    </ion-toolbar>
</ion-footer>