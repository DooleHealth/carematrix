{"version":3,"sources":["webpack:///src/app/pages/login/legal/legal.page.html","webpack:///src/app/pages/login/legal/legal.page.ts","webpack:///src/app/pages/login/legal/legal.page.scss","webpack:///src/app/pages/login/legal/legal.module.ts","webpack:///src/app/pages/login/legal/legal-routing.module.ts"],"names":["Storage","LegalPage","router","translate","alertController","dooleService","KEY_LOCAL_STORAGE","isChecked","getLegalInformation","getAPILegalInformation","subscribe","res","console","log","legal","err","code","message","sendLegalConformation","postAPILegalConfirmation","success","navigate","presentAlert","get","key","then","data","showIntro","Boolean","value","selector","template","LegalPageModule","imports","declarations","routes","path","component","loadChildren","m","SmsPageModule","LegalPageRoutingModule","forChild","exports"],"mappings":"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","file":"legal-legal-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button\\n            [text]=\\\"buttonText\\\"\\n            [icon]=\\\"buttonIcon\\\">\\n        </ion-back-button>\\n      </ion-buttons>\\n    <ion-title class=\\\"toolbarTitle\\\" >{{ 'legal.header' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen>\\n  <div class=\\\"main-container\\\" *ngIf=\\\"this.legal !== undefined\\\">\\n    <p align=\\\"center\\\">\\n      <strong>{{this.legal.title}}</strong>\\n  </p>\\n  <div *ngFor=\\\"let paragraph of legal.introduction\\\">\\n    <p>\\n        <em>\\n            {{paragraph}}\\n        </em>\\n    </p>\\n    <p>\\n        <em> </em>\\n    </p>\\n  </div>\\n\\n    <div *ngFor=\\\"let section of legal.sections\\\">\\n        <p>\\n            <strong>{{section.title}}</strong>\\n        </p>\\n        <div *ngIf=\\\"section.description !== undefined\\\">\\n            <p *ngFor=\\\"let description of section.description\\\">\\n                {{description}}\\n            </p>\\n        </div>\\n    </div>\\n\\n  <p>\\n      <strong>1.1.- Identificación de responsables:</strong>\\n  </p>\\n  <p>\\n      El responsable del tratamiento es la Fundación FLS de Lucha contra el Sida,\\n      las enfermedades infecciosas y la promoción de la salud y la ciencia, con\\n      domicilio en Badalona (08916), Ctra. de Canyet s / n - Hosp. Univ. Germans\\n  Trias i Pujol, 2ª planta Maternal, teléfono: (+34) 934 657 897    <strong></strong>\\n  </p>\\n  <p>\\n      El delegado de protección de datos es CIPDI Tratamiento de la Infomación SL\\n  Puede contactar con el delegado al correo electrónico    <a href=\\\"mailto:lopd@flsida.org\\\">lopd@flsida.org</a>\\n  </p>\\n  <p>\\n      <strong>1.2.- Finalidades de tratamiento y base jurídica</strong>\\n  </p>\\n  <p>\\n      <strong>1.2.1.- Finalidad general.</strong>\\n  </p>\\n  <p>\\n      Los datos que nos facilite mediante esta aplicación, los que nos envíe a\\n      nuestra dirección de correo electrónico y los que se puedan generar\\n      mientras mantenga relación con el responsable del tratamiento se\\n      incorporarán, <em>tal como nos las ceda</em>, a una base de datos\\n      titularidad del responsable del tratamiento.\\n      <em>\\n          Para poder utilizar la aplicación puede ser necesario ponerla en\\n          contacto en su nombre con los datos de su proveedor de servicios de\\n          salud o socio-sanitarios. Al aceptar estas cláusulas usted autoriza\\n          este tratamiento de datos.\\n      </em>\\n  </p>\\n  <p>\\n      <em>Sólo utilizaremos los datos para prestarle los servicios</em>\\n      que nos solicite y para enviar información de nuestras actividades por\\n      correo electrónico o dirección postal.\\n  </p>\\n  <p>\\n      La base jurídica de este tratamiento será la relación contractual que\\n      mantenga con el responsable del tratamiento y el consentimiento que otorga\\n      al aceptar este aviso.\\n  </p>\\n  <p>\\n      <strong>1.2.2.- Tratamiento de imágenes</strong>\\n  </p>\\n  <p>\\n      Desde la propia aplicación usted puede personalizar su perfil de usuario y\\n      puede subir a su perfil fotografías de sus pruebas o informes.\\n  </p>\\n  <p>\\n      El tratamiento de estas imágenes está legitimado con el consentimiento de\\n      los afectados o en aplicación del artículo 8 de la LO 1/1982 de protección\\n      del derecho al honor, la intimidad y la propia imagen\\n  </p>\\n  <p>\\n      <strong>1.3.- Categorías de destinatarios</strong>\\n      .\\n  </p>\\n  <p>\\n      Para dar cumplimiento a las anteriores finalidades tendrán acceso a sus\\n      datos:\\n  </p>\\n  <p>\\n      ● El personal debidamente autorizado por la dirección del responsable del\\n      tratamiento\\n  </p>\\n  <p>\\n  ● Los proveedores necesarios para dar cumplimiento a su demanda.    <em>La Fundación</em> ha firmado contratos de confidencialidad con todos\\n      estos proveedores y, en especial, con aquellos que se dedican al\\n      alojamiento de datos.\\n  </p>\\n  <p>\\n      ● La administración pública en el ámbito de sus competencias.\\n  </p>\\n  <p>\\n      Puede ampliar esta información consultando al DPO\\n  </p>\\n  <p>\\n      <strong>1.4.- Transferencia internacional de datos</strong>\\n  </p>\\n  <p>\\n      Para desarrollar sus funciones el responsable del tratamiento no cede, ni\\n      deposita datos fuera de la Unión Europea.\\n  </p>\\n  <p>\\n      <strong>1.5.- Plazo de conservación de la información.</strong>\\n  </p>\\n  <p>\\n      El responsable del tratamiento conservará su información mientras no\\n      revoque el consentimiento otorgado en aceptar esta cláusula.\\n  </p>\\n  <p>\\n      <strong>1.6.- Derechos como afectado</strong>\\n  </p>\\n  <p>\\n      Tiene derecho a acceder, rectificar, suprimir, oponerse a que sus datos se\\n      traten, a limitar el tratamiento, a pedir la portabilidad de los datos, a\\n      no ser sometido a decisiones individuales automatizadas y a revocar el\\n      consentimiento que otorga.\\n  </p>\\n  <p>\\n      Para ejercer estos derechos puede dirigirse por escrito a las direcciones\\n      del responsable del tratamiento que constan en este aviso legal.\\n  </p>\\n  <p>\\n      <strong> 1.7.- Derecho de reclamación.</strong>\\n  </p>\\n  <p>\\n      El organismo competente para conocer de la correcta aplicación de las\\n      normas sobre tratamiento de la información es la Autoridad de Protección de\\n      Datos, con domicilio en la Calle Jorge Juan n. 6 de Madrid.\\n  </p>\\n  <p>\\n      <strong>1.8.- Obligaciones del afectado.</strong>\\n  </p>\\n  <p>\\n      El afectado debe aportar información veraz y actualizada en todos los\\n      procesos de recogida de datos, siendo él el único responsable de la\\n      vulneración de esta obligación.\\n      <em>\\n          Además debe considerar que aquellos datos que aporte en nombre propio\\n          relacionados con su salud o situación sociosanitaria pueden tener\\n          implicaciones en las decisiones del profesional que las reciba por lo\\n          que la equivocación o engaño serán responsabilidad del usuario.\\n      </em>\\n  </p>\\n  <p>\\n      En los formularios de recogida de datos están marcados los datos que son\\n      obligatorios aportar, en función de la demanda que haga el afectado. La\\n      falta de la aportación de estos datos puede suponer la imposibilidad de\\n      participar de la actividad o proporcionar el servicio que se solicita.\\n  </p>\\n  <p>\\n      <strong>1.9.- Elaboración de perfiles</strong>\\n  </p>\\n  <p>\\n      Para el cumplimiento de los objetivos del responsable del tratamiento y,\\n      sobre todo, para hacer una atención más personalizada, cuidadosa y eficaz\\n      del usuario, a veces, es necesario elaborar perfiles de los destinatarios\\n  de los servicios. En ningún caso, la elaboración del perfil    <em>se hace de manera exclusivamente automatizada.</em>\\n  </p>\\n  <p>\\n      <strong>2. CONSENTIMIENTO DEL USUARIO</strong>\\n  </p>\\n  <p>\\n      Se entiende que el usuario acepta las condiciones establecidas\\n      <em>\\n          si pulsa el botón 'ACEPTAR' que se encuentra en todos los formularios\\n          de recogida de datos, o si envía un mensaje por cualquiera de los\\n          sistemas de comunicación existentes en la propia App o por correo\\n          electrónico.\\n      </em>\\n  </p>\\n  <p>\\n      <strong> </strong>\\n  </p>\\n  <p>\\n      <strong>3. SEGURIDAD</strong>\\n      <em></em>\\n  </p>\\n  <p>\\n      <em>\\n          Los datos personales se guardan en la base de datos general de\\n          administración de la Fundación que, en todo caso, garantiza las medidas\\n          técnicas y organizativas para preservar la integridad y la seguridad de\\n          la información que trata.\\n      </em>\\n  </p>\\n  <p>\\n      <strong> </strong>\\n  </p>\\n  <ion-item lines=\\\"none\\\">\\n  <ion-checkbox color=\\\"primary\\\" [(ngModel)]=\\\"this.isChecked\\\" style=\\\"margin-right: 5px;\\\"></ion-checkbox>\\n  <ion-label>{{ 'legal.acept_conditions_label' | translate}}</ion-label>\\n</ion-item>\\n  <ion-button type=\\\"button\\\" color=\\\"primary\\\" expand=\\\"block\\\" class=\\\"enter-btn\\\" (click)=\\\"acceptLegalConditions()\\\" [disabled]=\\\"!this.isChecked\\\">\\n    {{ 'legal.next_button' | translate}}\\n</ion-button>\\n  </div>\\n</ion-content>\\n\";","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Plugins } from '@capacitor/core';\nimport { AlertController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { LegalInformation } from 'src/app/models/legal-information';\nimport { DooleService } from 'src/app/services/doole.service';\nconst { Storage } = Plugins;\n\n@Component({\n  selector: 'app-legal',\n  templateUrl: './legal.page.html',\n  styleUrls: ['./legal.page.scss'],\n})\nexport class LegalPage implements OnInit {\n  KEY_LOCAL_STORAGE = 'showIntro';\n  legal: LegalInformation;\n  isChecked = false;\n  constructor(\n    public router: Router,    \n    private translate: TranslateService,\n    private alertController: AlertController,\n    private dooleService: DooleService) { }\n\n  ngOnInit() {\n    this.getLegalInformation()\n  }\n\n  getLegalInformation(){\n    this.dooleService.getAPILegalInformation().subscribe(\n      async (res: any) =>{\n        console.log('[LegalPage] getAPILegalInformation()', await res);\n        this.legal = res as LegalInformation\n        //this.showInformation()\n       },(err) => { \n          console.log('getAll ERROR(' + err.code + '): ' + err.message); \n          throw err; \n      });\n  }\n\n  acceptLegalConditions(){\n      this.sendLegalConformation()\n  }\n\n  sendLegalConformation(){\n    this.dooleService.postAPILegalConfirmation(this.isChecked).subscribe(\n    async (res: any) =>{\n      console.log('[LegalPage] sendLegalConformation()', await res);\n      let legal = (res as any).success\n      if(legal){\n        this.router.navigate(['/sms']);\n      }\n      //else this.dooleService.presentAlert(\"Server response is false \")\n\n     },(err) => { \n        console.log('getAll ERROR(' + err.code + '): ' + err.message); \n        this.dooleService.presentAlert(err.message)\n        throw err; \n    });\n  }\n\n  async getStorage(){\n    Storage.get({key: this.KEY_LOCAL_STORAGE}).then((data)=>{\n      //console.log(`[IntroPage] ngOnInit()`,data.value.toString());\n      let  showIntro = Boolean(data.value)\n      if(showIntro){\n        console.log(`[IntroPage] ngOnInit() localStorage`,showIntro);\n              this.router.navigate(['/home/initial']);\n      }else{\n        this.router.navigate(['/intro']);\n      }\n    })\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsZWdhbC5wYWdlLnNjc3MifQ== */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LegalPageRoutingModule } from './legal-routing.module';\n\nimport { LegalPage } from './legal.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    LegalPageRoutingModule\n  ],\n  declarations: [LegalPage]\n})\nexport class LegalPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LegalPage } from './legal.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LegalPage\n  },\n  {\n    path: 'sms',\n    loadChildren: () => import('../sms/sms.module').then( m => m.SmsPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LegalPageRoutingModule {}\n"]}