{"version":3,"sources":["./src/app/pages/login/sms/sms-routing.module.ts","./src/app/pages/login/sms/sms.page.scss","./src/app/pages/login/sms/sms.page.ts","./src/app/pages/login/sms/sms.module.ts","./src/app/pages/login/sms/sms.page.html"],"names":[],"mappings":"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","file":"sms-sms-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SmsPage } from './sms.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SmsPage\n  },\n  {\n    path: 'verification',\n    loadChildren: () => import('../verification/verification.module').then( m => m.VerificationPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SmsPageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzbXMucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DooleService } from 'src/app/services/doole.service';\nimport { Plugins } from '@capacitor/core';\nconst { Storage } = Plugins;\n\n@Component({\n  selector: 'app-sms',\n  templateUrl: './sms.page.html',\n  styleUrls: ['./sms.page.scss'],\n})\nexport class SmsPage implements OnInit {\n  COUNTRY_CODE = \"+34\"\n  isSubmitted= false\n  telephone = new FormControl('', [Validators.required, Validators.minLength(9)]);\n  constructor(\n    public router: Router,    \n    private translate: TranslateService,\n    private alertController: AlertController,\n    private dooleService: DooleService\n  ) { }\n\n  ngOnInit() {\n  }\n\n  goVerification(){\n    console.log('[LegalPage] goVerification()', this.telephone.value);\n    this.isSubmitted = true\n    if(!this.telephone.invalid){\n      this.presentAlertConfirm()\n    }\n  }\n\n  async presentAlertConfirm() {\n    const telephoneTemp =  this.COUNTRY_CODE + this.telephone.value\n    const alert = await this.alertController.create({\n      cssClass: 'my-alert-class',\n      header: this.COUNTRY_CODE +\" \"+  this.telephone.value,\n      message: this.translate.instant(\"sms.alert_message\"),\n      buttons: [\n        {\n          text: this.translate.instant(\"sms.ko_button\"),\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: this.translate.instant(\"sms.ok_button\"),\n          handler: () => {\n            console.log('Confirm Okay');\n            this.sendTelephone(telephoneTemp);\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n\n  sendTelephone(telephone){\n    this.dooleService.postAPIsmsVerification(telephone).subscribe(\n      async (res: any) =>{\n        console.log('[LegalPage] sendTelephone()', await res);\n        let  isSuccess = res.success \n        if(isSuccess){\n          this.saveTelephone()\n          this.router.navigateByUrl(\"verification\")\n        }else{\n          console.log('[LegalPage] sendTelephone() Unsuccessful response', await res);\n        }\n       },(err) => { \n          console.log('[LegalPage] sendTelephone() ERROR(' + err.code + '): ' + err.message); \n          throw err; \n      });\n  }\n\n  async saveTelephone(){\n    await Storage.set({\n     key: 'telephone',\n     value: this.COUNTRY_CODE + this.telephone.value\n   });\n   console.log(`[VerificationPage] saveTelephone()`);\n }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SmsPageRoutingModule } from './sms-routing.module';\n\nimport { SmsPage } from './sms.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    TranslateModule,\n    SmsPageRoutingModule\n  ],\n  declarations: [SmsPage]\n})\nexport class SmsPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button [text]=\\\"buttonText\\\" [icon]=\\\"buttonIcon\\\">\\n      </ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"toolbarTitle\\\">{{ 'sms.header' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content fullscreen>\\n  <div class=\\\"main-container\\\">\\n    <ion-grid>\\n      <h2 class=\\\"bold\\\">{{ 'sms.title' | translate}}</h2>\\n      <ion-text>{{ 'sms.text1' | translate}}</ion-text>\\n      <ion-col>\\n        <div style=\\\"padding-top: 15%;\\\">\\n          <ion-item-divider>  \\n            <span>+34 </span>          \\n            <ion-input type=\\\"tel-country-code\\\" (ionInput)=\\\"isSubmitted = false\\\" [formControl]=\\\"telephone\\\" maxlength=\\\"9\\\"  required></ion-input>\\n            <ion-label class=\\\"error ion-padding\\\" color=\\\"danger\\\" *ngIf=\\\"isSubmitted && this.telephone.hasError('required')\\\">\\n              {{ 'sms.error_required' | translate}}\\n            </ion-label>\\n            <ion-label class=\\\"error ion-padding\\\" color=\\\"danger\\\" *ngIf=\\\"isSubmitted && this.telephone.hasError('minlength')\\\">\\n              {{ 'sms.error_min_lenght' | translate}}\\n            </ion-label>\\n          </ion-item-divider>\\n          <ion-button type=\\\"button\\\" color=\\\"primary\\\" expand=\\\"block\\\" style=\\\"margin-top:15%;\\\" (click)=\\\"goVerification()\\\">\\n            {{ 'sms.next_button' | translate}}\\n          </ion-button>\\n          <div style=\\\"padding-top:5%;\\\">\\n            <ion-text>{{ 'sms.text2' | translate}}</ion-text>\\n          </div>\\n        </div>\\n      </ion-col>\\n    </ion-grid>\\n  </div>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}