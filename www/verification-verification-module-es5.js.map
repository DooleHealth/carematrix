{"version":3,"sources":["webpack:///src/app/pages/login/verification/verification.page.ts","webpack:///src/app/pages/login/verification/verification.module.ts","webpack:///src/app/pages/login/verification/verification-routing.module.ts","webpack:///src/app/pages/login/verification/verification.page.scss","webpack:///src/app/pages/login/verification/verification.page.html"],"names":["Storage","VerificationPage","router","translate","alertController","dooleService","KEY_TELEPHONE_STORAGE","isSubmitted","code","required","minLength","console","log","value","invalid","checkCode","postAPIsmsConfirmation","subscribe","res","isSuccess","success","navigateByUrl","presentAlert","instant","err","message","telephone","postAPIsmsVerification","messagge","get","key","then","data","sendTelephone","selector","template","VerificationPageModule","imports","declarations","routes","path","component","loadChildren","m","IntroPageModule","VerificationPageRoutingModule","forChild","exports"],"mappings":"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","file":"verification-verification-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Plugins } from '@capacitor/core';\nimport { AlertController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DooleService } from 'src/app/services/doole.service';\nconst { Storage } = Plugins;\n@Component({\n  selector: 'app-verification',\n  templateUrl: './verification.page.html',\n  styleUrls: ['./verification.page.scss'],\n})\nexport class VerificationPage implements OnInit {\n  KEY_TELEPHONE_STORAGE = 'telephone';\n  isSubmitted= false\n  code = new FormControl('', [Validators.required, Validators.minLength(4)]);\n  constructor(\n    public router: Router,    \n    private translate: TranslateService,\n    private alertController: AlertController,\n    private dooleService: DooleService\n  ) { }\n\n  ngOnInit() {\n  }\n\n\n  goIntro(){\n    console.log('[VerificationPage] goIntro()', this.code.value);\n    this.isSubmitted = true\n    if(!this.code.invalid){\n      this.checkCode(this.code.value)\n    }\n  }\n\n  checkCode(code){\n    this.dooleService.postAPIsmsConfirmation(code).subscribe(\n      async (res: any) =>{\n        console.log('[VerificationPage] checkCode()', await res);\n        let  isSuccess = res.success \n        if(isSuccess){\n          this.router.navigateByUrl(\"intro\")\n        }else{\n          this.dooleService.presentAlert(this.translate.instant(\"verification.alert_message\"))\n        }\n       },(err) => { \n          console.log('VerificationPage checkCode()  ERROR(' + err.code + '): ' + err.message); \n          throw err; \n      });\n  }\n\n\n  sendTelephone(telephone){\n    console.log('[VerificationPage] sendTelephone()',telephone );\n    this.dooleService.postAPIsmsVerification(telephone).subscribe(\n      async (res: any) =>{\n        console.log('[LegalPage] sendTelephone()', await res);\n        let  isSuccess = res.success \n        if(isSuccess){\n          let messagge = this.translate.instant(\"verification.send_telephone_alert_message\")\n          await  this.dooleService.presentAlert(messagge)\n        }\n       },(err) => { \n          console.log('getAll ERROR(' + err.code + '): ' + err.message); \n          throw err; \n      });\n  }\n\n  async getVerificationCode(){\n    console.log('[VerificationPage] getVerificationCode()' );\n    Storage.get({key: this.KEY_TELEPHONE_STORAGE}).then((data)=>{\n      let  telephone = data.value\n      this.sendTelephone(telephone)\n    })\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { VerificationPageRoutingModule } from './verification-routing.module';\n\nimport { VerificationPage } from './verification.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    TranslateModule,\n    VerificationPageRoutingModule\n  ],\n  declarations: [VerificationPage]\n})\nexport class VerificationPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { VerificationPage } from './verification.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VerificationPage\n  },\n  {\n    path: 'intro',\n    loadChildren: () => import('../../onboarding/intro/intro.module').then( m => m.IntroPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class VerificationPageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ2ZXJpZmljYXRpb24ucGFnZS5zY3NzIn0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button [text]=\\\"buttonText\\\" [icon]=\\\"buttonIcon\\\">\\n      </ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"toolbarTitle\\\">{{ 'verification.header' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content fullscreen>\\n  <div class=\\\"main-container\\\">\\n    <ion-grid>\\n      <h2 class=\\\"bold\\\">{{ 'verification.title' | translate}}</h2>\\n      <ion-text>{{ 'verification.text1' | translate}}</ion-text><a (click)=\\\"getVerificationCode()\\\">aqu√≠.</a>\\n      <ion-col>\\n        <div style=\\\"padding-top: 15%;\\\">\\n          <ion-item-divider>\\n            <ion-input placeholder=\\\"\\\" [formControl]=\\\"code\\\" maxlength=\\\"4\\\" (ionInput)=\\\"isSubmitted = false\\\" required></ion-input>\\n            <ion-label class=\\\"error ion-padding\\\" color=\\\"danger\\\" *ngIf=\\\"isSubmitted && this.code.hasError('required')\\\">\\n              {{ 'verification.error_required' | translate}}\\n            </ion-label>\\n            <ion-label class=\\\"error ion-padding\\\" color=\\\"danger\\\" *ngIf=\\\"isSubmitted && this.code.hasError('minlength')\\\">\\n              {{ 'verification.error_min_lenght' | translate}}\\n            </ion-label>\\n          </ion-item-divider>\\n          <ion-button type=\\\"button\\\" color=\\\"primary\\\" expand=\\\"block\\\" style=\\\"margin-top:15%;\\\" (click)=\\\"goIntro()\\\">\\n            {{ 'verification.next_button' | translate}}\\n          </ion-button>\\n        </div>\\n      </ion-col>\\n    </ion-grid>\\n  </div>\\n</ion-content>\";"]}