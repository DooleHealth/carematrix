{"version":3,"sources":["webpack:///src/app/pages/login/landing/landing.page.html","webpack:///src/app/pages/login/landing/landing-routing.module.ts","webpack:///src/app/pages/login/landing/landing.page.scss","webpack:///src/app/pages/login/landing/landing.page.ts","webpack:///src/app/pages/login/landing/landing.module.ts"],"names":["routes","path","component","loadChildren","then","m","LegalPageModule","LandingPageRoutingModule","imports","forChild","exports","Storage","LandingPage","router","route","translate","loadingController","location","authService","alertController","ngZone","languageService","validation_messages","type","message","loginForm","username","compose","required","password","create","header","buttons","res","present","redirectLoader","console","log","dismiss","submitError","run","navigate","text","instant","spinner","cssClass","backdropDismiss","loader","currentUrl","login","value","subscribe","dismissLoading","error","condicion","redirectLoggedUserToHomePage","data","set","key","selector","template","LandingPageModule","declarations"],"mappings":"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","file":"pages-login-landing-landing-module-es5.js","sourcesContent":["export default \"<ion-content fullscreen>\\n    <div class=\\\"main-container\\\">\\n        <img style=\\\"padding-top: 40%;\\\" src=\\\"/assets/images/logo.svg\\\" />\\n        <ion-grid>\\n            <ion-col>\\n                <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"doDooleAppLogin()\\\">\\n                    <ion-item-divider>\\n                        <ion-icon name=\\\"person\\\"></ion-icon>\\n                        <ion-input type=\\\"text\\\" placeholder=\\\"{{'landing.user_placeholder' | translate }}\\\" formControlName=\\\"username\\\" >\\n                        </ion-input>\\n                    </ion-item-divider>\\n                    <ion-item-divider>\\n                        <ion-icon name=\\\"lock-closed\\\"></ion-icon>\\n                        <app-show-hide-password>\\n                            <ion-input type=\\\"password\\\" placeholder=\\\"{{'landing.password_placeholder' | translate }}\\\" formControlName=\\\"password\\\">\\n                            </ion-input>\\n                        </app-show-hide-password>\\n                    </ion-item-divider>\\n                    <ion-text (click)=\\\"passwordRecovery()\\\">\\n                        <a>{{ 'landing.password_recovery' | translate}}</a>\\n                    </ion-text>\\n                  \\n                    <!-- <ion-button type=\\\"submit\\\" color=\\\"primary\\\" expand=\\\"block\\\" class=\\\"enter-btn\\\" routerLink=\\\"legal\\\">\\n                        Iniciar sesi√≥n\\n                    </ion-button> -->\\n\\n                    <ion-button type=\\\"submit\\\" size=\\\"medium\\\" [disabled]=\\\"!loginForm.valid\\\"\\n                    color=\\\"primary\\\" expand=\\\"block\\\" class=\\\"enter-btn\\\">\\n                    {{ 'landing.button_signin' | translate}}</ion-button>\\n       \\n                    <ion-button expand=\\\"block\\\" color=\\\"transparent\\\" class=\\\"buttonLink\\\">\\n                        {{ 'landing.button_registre' | translate}}\\n                    </ion-button>\\n                </form>\\n            </ion-col>\\n        </ion-grid>\\n    </div>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LandingPage } from './landing.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LandingPage\n  },\n  {\n    path: 'legal',\n    loadChildren: () => import('../legal/legal.module').then( m => m.LegalPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LandingPageRoutingModule {}\n","export default \".enter-btn {\\n  margin-top: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2xhbmRpbmcucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtBQUNKIiwiZmlsZSI6ImxhbmRpbmcucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmVudGVyLWJ0bntcbiAgICBtYXJnaW4tdG9wOiAxMCU7XG59Il19 */\";","import { Component, NgZone, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Location } from '@angular/common';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Plugins } from '@capacitor/core';\nimport { LanguageService } from 'src/app/services/language.service';\nconst { Storage } = Plugins;\n\n\n@Component({\n  selector: 'app-landing',\n  templateUrl: './landing.page.html',\n  styleUrls: ['./landing.page.scss'],\n})\nexport class LandingPage implements OnInit {\n  loginForm: FormGroup;\n  submitError: string;\n  redirectLoader: HTMLIonLoadingElement;\n  validation_messages = {\n    'username': [\n      { type: 'required', message: 'login.username_val' }\n    ],\n    'password': [\n      { type: 'required', message: 'login.password_val' },\n    ]\n  };\n  constructor(\n    public router: Router,\n    public route: ActivatedRoute,\n    public translate: TranslateService,\n    public loadingController: LoadingController,\n    public location: Location,\n    private authService: AuthenticationService,\n    public alertController: AlertController,\n    private ngZone: NgZone,\n    public languageService: LanguageService,\n  ) {\n    this.loginForm = new FormGroup({\n      username: new FormControl('', \n      Validators.compose([\n        Validators.required\n      ])),\n      password: new FormControl('',\n        Validators.compose([\n        Validators.required])\n      )\n    });\n   }\n\n  ngOnInit() {\n  }\n\n  showAlert(message:string) {\n    this.alertController.create({\n      header: 'Error',\n      message: message,\n      buttons: ['OK']\n    }).then(res => {\n      res.present();\n    });\n  }\n\n  async dismissLoading() {\n   \n    if (this.redirectLoader) {\n      console.log(\"dismissLoading\");\n      this.redirectLoader.dismiss();\n    }\n  }\n\n\n\n  resetSubmitError() {\n    this.submitError = null;\n  }\n\n    // Once the auth provider finished the authentication flow, and the auth redirect completes,\n  // hide the loader and redirect the user to the profile page\n  redirectLoggedUserToHomePage() {\n    console.log('[LandingPage] redirectLoggedUserToHomePage()');\n    //this.dismissLoading();\n    // As we are calling the Angular router navigation inside a subscribe method, the navigation will be triggered outside Angular zone.\n    // That's why we need to wrap the router navigation call inside an ngZone wrapper\n    this.ngZone.run(() => {      \n      //this.router.navigate(['app/home']);\n      this.router.navigate(['home']);\n    });\n  }\n\n  doDooleAppLogin() : void {\n    let text = this.translate.instant('login.submit');\n    this.loadingController.create({\n      spinner: 'lines',\n      message: text + 'DooleApp',\n      cssClass: 'custom-loading',\n      backdropDismiss:false\n    }).then((loader) => {\n      const currentUrl = this.location.path();\n      this.redirectLoader = loader;\n      this.redirectLoader.present();\n      this.authService.login(this.loginForm.value).subscribe(async (res) => {\n        console.log('[LandingPage] doDooleAppLogin()', await res);\n        this.dismissLoading();\n        //this.checkConditionLegal(res.condicion_legal)\n        this.router.navigate(['/legal']);\n\n      }, async (error) => {\n       console.log('doDooleAppLogin() ERROR', await error);\n       this.dismissLoading();\n       throw error;\n     });\n    });\n   \n  }\n\n  checkConditionLegal(condicion){\n      if(!condicion)\n      this.router.navigate(['/legal']);\n      else this.redirectLoggedUserToHomePage();\n  }\n\n  private async saveInLocalStorage(data: any){\n    /**\n     * On iOS this plugin  Storage will use UserDefaults and on Android SharedPreferences. \n     * Stored data is cleared if the app is uninstalled.\n     */\n    await Storage.set({\n      key: 'mutua',\n      value: data\n    });\n  }\n\n\n  passwordRecovery(){\n    console.log('[LandingPage] passwordRecovery()');\n  }\n \n\n \n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LandingPageRoutingModule } from './landing-routing.module';\n\nimport { LandingPage } from './landing.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LandingPage\n  }\n];\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    TranslateModule,\n    ComponentsModule,\n    RouterModule.forChild(routes),\n    LandingPageRoutingModule\n  ],\n  declarations: [LandingPage]\n})\nexport class LandingPageModule {}\n"]}