{"version":3,"sources":["webpack:///src/app/pages/home/healthcare/doctors/doctors.page.html","webpack:///src/app/pages/home/healthcare/doctors/doctors.page.scss","webpack:///src/app/pages/home/healthcare/doctors/doctors.page.ts","webpack:///src/app/pages/home/healthcare/doctors/doctors.module.ts","webpack:///src/app/pages/home/healthcare/doctors/doctors-routing.module.ts"],"names":["DoctorsPage","healthcareService","router","loadingController","appointments","authenticationService","callNumber","languageService","location","backgroundImage","providerCenter","history","state","visibility","fetching","getProvider","getBookmarks","subscribe","bookmarks","providerCards","forEach","p","filter","b","getCode","CODI_CENTR","IS_BOOKMARK","error","specialty","CODI_SERV","codi_metge","provider","CEN","request","getLanguageAPI","quadre","getDoctorCard","data","console","log","checkBookmark","back","toggle","id_agenda","CITA_ONLINE","codi_servei","navigate","isOnline","appointmentType","item","params","id_usuari_mgc","accio","especialitat","centre","metge","isDoctor","setBookmark","query","LATITUD","LONGITUD","window","open","phoneNumber","then","res","err","selector","template","animations","opacity","DoctorsPageModule","imports","providers","declarations","routes","path","component","DoctorsPageRoutingModule","forChild","exports"],"mappings":"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","file":"doctors-doctors-module-es5.js","sourcesContent":["export default \"<custom-header></custom-header>\\n<ion-content class=\\\"back\\\" [ngStyle]=\\\"{'background': 'url(' + backgroundImage + ')'}\\\" fullscreen>\\n  <page-header title=\\\"{{ 'quadres.quadre_' + this.healthcareService.tipus_registre | translate}}\\\" icon=\\\"assets/icons/i_quadre_{{ this.healthcareService.tipus_registre }}.svg\\\">\\n  </page-header>\\n  <div class=\\\"main-container\\\"> \\n    <ion-text>\\n      <a routerLink='/app/home/healthcare/medical-specialties'> {{ 'commons.home'  | translate  }} </a> >\\n      <a routerLink='/app/home/healthcare/locations'> {{ this.healthcareService.specialty?.NOM_SERVEI}} </a> \\n      > <a routerLink='/app/home/healthcare/providers'> {{ this.healthcareService.location?.POBLACIO }} </a> \\n      <div *ngIf=\\\"this.providerCenter\\\">\\n        > <a routerLink='/app/home/healthcare/centers'> {{ this.providerCenter.NOM_CEN_JU }} </a> \\n      </div>\\n      > <span> {{ this.healthcareService.provider?.getName() }} </span> <br><br>\\n      \\n\\n      \\n      <ion-row class=\\\"preferent\\\" *ngIf=\\\" this.healthcareService.provider?.getPreferent() == '1'\\\" >{{'centers.consultor-center'| translate }}</ion-row>\\n\\n    </ion-text><br>\\n    <ng-container *ngIf=\\\"this.fetching else showProviders\\\">\\n      <div style=\\\"margin: 20px 40px; text-align: center\\\">\\n        <ion-spinner color=\\\"primary\\\"></ion-spinner>\\n      </div>\\n    </ng-container>\\n    <ng-template #showProviders>\\n    <ion-text>{{ 'centers.subtitle'| translate }}</ion-text>\\n  <ng-container *ngFor=\\\"let item of providerCards\\\">\\n   \\n    <div *ngIf=\\\"validateSpecialty(item.CODI_SERV)\\\">\\n     \\n        <ion-card  style=\\\"margin-right: 0%; margin-left:0%;\\\">\\n        \\n          <ion-card-header>\\n            <ion-text style=\\\"font-weight: 800; color: black; font-size: medium;\\\" class=\\\"title\\\">{{ item.NOM_CEN_JU }}\\n            <ion-icon class=\\\"texto2\\\" *ngIf=\\\"!item.IS_BOOKMARK\\\"size=\\\"small\\\" src=\\\"assets/icons/estrella_desactivada.svg\\\" (click)=\\\"setBookmark(item)\\\" ></ion-icon>\\n            <ion-icon class=\\\"texto2\\\" *ngIf=\\\"item.IS_BOOKMARK\\\"size=\\\"small\\\" src=\\\"assets/icons/estrella_activada.svg\\\" (click)=\\\"setBookmark(item)\\\" ></ion-icon>\\n          </ion-text>\\n          \\n          </ion-card-header>\\n          <ion-card-content>\\n            <!-- <ion-row class=\\\"preferent\\\" *ngIf=\\\"item.getPreferent() == '1'\\\" >CENTRE/METGE CONSULTOR</ion-row> -->\\n            <ion-row> {{ item.ADRECA_CEN }} </ion-row>\\n            <ion-row> {{ item.CODI_POBLE }} {{ item.POBLACIO }}</ion-row>\\n            <ion-row> {{ item.TELEFON_1 }} </ion-row>\\n            <ion-row style=\\\"text-align: center; align-items: center;\\\">\\n              <ion-col size=\\\"4\\\" style=\\\"margin-left: -4%;\\\">\\n                <ion-button class=\\\"cuadreBtn\\\" size=\\\"large\\\" expand=\\\"block\\\"  (click)=\\\"openMap(item)\\\">\\n                  <div style=\\\"font-size:10px;\\\">\\n                    <ion-icon class=\\\"cuadreIcon\\\" src=\\\"assets/icons/mapa.svg\\\" (click)=\\\"openMap(item)\\\"></ion-icon>\\n                    {{ 'centers.map'|translate}}\\n                  </div>\\n                </ion-button>\\n              </ion-col>\\n              <ion-col size=\\\"4\\\">\\n                <ion-button class=\\\"cuadreBtn\\\" size=\\\"large\\\" expand=\\\"block\\\"   (click)=\\\"makeCall(item.TELEFON_1)\\\">\\n                  <div style=\\\"font-size:10px;\\\">\\n                    <ion-icon class=\\\"cuadreIcon\\\" src=\\\"assets/icons/trucar_petit.svg\\\" (click)=\\\"makeCall(item.TELEFON_1)\\\"></ion-icon>\\n                    {{ 'centers.call' | translate }}\\n                  </div>\\n                </ion-button>\\n              </ion-col>\\n              <ion-col size=\\\"4\\\" style=\\\"margin-right: -7%;\\\">\\n                <div *ngIf=\\\"item.isAvailableForAppointment()\\\">\\n                  <ion-button class=\\\"cuadreBtn\\\" size=\\\"large\\\" expand=\\\"block\\\"    (click)=\\\"getAppointment(item)\\\">\\n                    <div style=\\\"font-size:10px;\\\">\\n                    <ion-icon class=\\\"cuadreIcon\\\" src=\\\"assets/icons/calendari.svg\\\"></ion-icon>\\n                    {{ 'centers.appointment' | translate }}<br>\\n                  </div>\\n                </ion-button>\\n                </div>\\n              </ion-col>\\n            </ion-row>\\n          </ion-card-content>\\n        </ion-card>\\n    \\n    </div>\\n   \\n</ng-container>\\n</ng-template>\\n</div> \\n</ion-content>\\n\";","export default \"ion-content {\\n  --background: none;\\n  background-position: center top;\\n  background-repeat: no-repeat !important;\\n  background-size: cover !important;\\n}\\n\\nion-img {\\n  width: 30%;\\n}\\n\\nion-card {\\n  border-bottom: 2pt solid #006488;\\n  border-radius: 0%;\\n}\\n\\nion-button div {\\n  display: flex;\\n  flex-flow: column nowrap;\\n  align-items: center;\\n  font-size: 7pt;\\n}\\n\\nion-button {\\n  width: 80px;\\n}\\n\\nion-button ion-icon {\\n  zoom: 1.5;\\n}\\n\\nion-icon {\\n  padding-bottom: 5px;\\n}\\n\\n.texto2 {\\n  position: absolute;\\n  top: 14px;\\n  right: 15px;\\n  color: black;\\n  font-weight: 900;\\n  overflow: hidden;\\n}\\n\\n.preferent {\\n  color: white;\\n  background: #d6006d !important;\\n  padding-left: 10%;\\n  padding-right: 10%;\\n  padding-top: 2%;\\n  padding-bottom: 1%;\\n}\\n\\n.icon-title {\\n  width: 80px;\\n  height: auto;\\n  display: block;\\n  margin-left: -6%;\\n  margin-top: -14%;\\n  margin-right: auto;\\n  z-index: -2;\\n}\\n\\n.texto1 {\\n  position: absolute;\\n  top: 2px;\\n  right: 3px;\\n  color: black;\\n  font-weight: 900;\\n  overflow: hidden;\\n}\\n\\n.title {\\n  font-size: 10pt !important;\\n}\\n\\n.Pref {\\n  color: white;\\n  --background:#D6006D;\\n}\\n\\n.cuadreBtn {\\n  --background:#D9E7EA;\\n  color: black;\\n  font-size: larger !important;\\n  --margin-bottom:30px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2RvY3RvcnMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSwrQkFBQTtFQUNBLHVDQUFBO0VBQ0EsaUNBQUE7QUFDRjs7QUFFQTtFQUNFLFVBQUE7QUFDRjs7QUFFQTtFQUNFLGdDQUFBO0VBQ0EsaUJBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSx3QkFBQTtFQUNBLG1CQUFBO0VBQ0EsY0FBQTtBQUNGOztBQUNBO0VBQ0UsV0FBQTtBQUVGOztBQUFBO0VBQ0UsU0FBQTtBQUdGOztBQURBO0VBQ0UsbUJBQUE7QUFJRjs7QUFEQTtFQUNFLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtBQUlGOztBQURBO0VBQ0UsWUFBQTtFQUNBLDhCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtBQUlGOztBQURBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtBQUlGOztBQURBO0VBQ0Usa0JBQUE7RUFDQSxRQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0FBSUY7O0FBREE7RUFDRSwwQkFBQTtBQUlGOztBQUZBO0VBQ0UsWUFBQTtFQUNBLG9CQUFBO0FBS0Y7O0FBSEE7RUFDRSxvQkFBQTtFQUNBLFlBQUE7RUFDRCw0QkFBQTtFQUNDLG9CQUFBO0FBTUYiLCJmaWxlIjoiZG9jdG9ycy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogbm9uZTtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIHRvcDtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdCAhaW1wb3J0YW50O1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyICFpbXBvcnRhbnQ7XG59XG5cbmlvbi1pbWcge1xuICB3aWR0aDogMzAlO1xufVxuXG5pb24tY2FyZCB7XG4gIGJvcmRlci1ib3R0b206IDJwdCBzb2xpZCAjMDA2NDg4O1xuICBib3JkZXItcmFkaXVzOiAwJTtcbn1cblxuaW9uLWJ1dHRvbiBkaXYge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWZsb3c6IGNvbHVtbiBub3dyYXA7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogN3B0O1xufVxuaW9uLWJ1dHRvbiB7XG4gIHdpZHRoOiA4MHB4O1xufVxuaW9uLWJ1dHRvbiBpb24taWNvbiB7XG4gIHpvb206IDEuNTtcbn1cbmlvbi1pY29uIHtcbiAgcGFkZGluZy1ib3R0b206IDVweDtcbn1cblxuLnRleHRvMiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAxNHB4O1xuICByaWdodDogMTVweDtcbiAgY29sb3I6IGJsYWNrO1xuICBmb250LXdlaWdodDogOTAwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4ucHJlZmVyZW50IHtcbiAgY29sb3I6IHdoaXRlO1xuICBiYWNrZ3JvdW5kOiAjZDYwMDZkICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctbGVmdDogMTAlO1xuICBwYWRkaW5nLXJpZ2h0OiAxMCU7XG4gIHBhZGRpbmctdG9wOiAyJTtcbiAgcGFkZGluZy1ib3R0b206IDElO1xufVxuXG4uaWNvbi10aXRsZSB7XG4gIHdpZHRoOiA4MHB4O1xuICBoZWlnaHQ6IGF1dG87XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogLTYlO1xuICBtYXJnaW4tdG9wOiAtMTQlO1xuICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gIHotaW5kZXg6IC0yO1xufVxuXG4udGV4dG8xIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDJweDtcbiAgcmlnaHQ6IDNweDtcbiAgY29sb3I6IGJsYWNrO1xuICBmb250LXdlaWdodDogOTAwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4udGl0bGUge1xuICBmb250LXNpemU6IDEwcHQgIWltcG9ydGFudDtcbn1cbi5QcmVme1xuICBjb2xvcjogd2hpdGU7XG4gIC0tYmFja2dyb3VuZDojRDYwMDZEO1xufVxuLmN1YWRyZUJ0bntcbiAgLS1iYWNrZ3JvdW5kOiNEOUU3RUE7XG4gIGNvbG9yOiBibGFjaztcbiBmb250LXNpemU6IGxhcmdlciFpbXBvcnRhbnQ7XG4gIC0tbWFyZ2luLWJvdHRvbTozMHB4O1xufVxuXG4iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LoadingController } from '@ionic/angular';\nimport { AppointmentService } from 'src/app/services/appointment.service';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\nimport { HealthcareService } from 'src/app/services/healthcare.service';\nimport { DoctorCardRequest, Provider } from 'src/app/shared/classes/credential-data';\nimport { CallNumber } from '@ionic-native/call-number/ngx';\nimport { LanguageService } from 'src/app/pages/language/language.service';\nimport { getRandomBackground } from 'src/app/shared/classes/utils';\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nimport { throwError } from 'rxjs';\nimport { Location } from '@angular/common';\n@Component({\n  selector: 'app-doctors',\n  templateUrl: './doctors.page.html',\n  styleUrls: ['./doctors.page.scss'],\n  animations: [\n    trigger('fetchData', [\n      state('shown', style({ opacity: 1 })),\n      state('hidden', style({ opacity: 0 })),\n      transition('* => *', animate('2000ms'))\n    ])\n  ]\n})\nexport class DoctorsPage implements OnInit {\n  backgroundImage: string = getRandomBackground();\n  bookmarks: Provider[];\n  providerCards: Provider[];\n  providerCenter = history.state.providerCenter;\n  visibility: string = 'hidden';\n  fetching:boolean = true;\n  constructor(public healthcareService: HealthcareService,\n    private router: Router,\n    private loadingController: LoadingController,\n    private appointments : AppointmentService,\n    private authenticationService : AuthenticationService,\n    private callNumber: CallNumber,\n    public languageService: LanguageService,\n    private location: Location\n  ) { \n    \n  }\n\n  async ngOnInit() {\n    await this.getProvider();\n  }\n\n  async checkBookmark(){\n     \n    this.authenticationService.getBookmarks().subscribe(\n      async (bookmarks: Provider[]) => {\n       \n        this.providerCards.forEach((p) => {\n          bookmarks.filter((b) => {\n            if(p.getCode() == b.getCode() && p.CODI_CENTR == b.CODI_CENTR) \n              p.IS_BOOKMARK = true;\n          })\n         })\n      },\n      (error) => {\n       throw error;\n      },\n      () => {\n      \n      });\n  }\n\n  validateSpecialty(specialty:string){\n    return (this.healthcareService.specialty.CODI_SERV == specialty);\n  }\n  async getProvider() {\n\n    let codi_metge: string = this.healthcareService.provider.CEN === 'XXX' ? this.healthcareService.provider.CODI_CENTR : this.healthcareService.provider.CEN;\n    let request =  this.healthcareService.provider.CEN === 'XXX' ? { \"especialitat\":this.healthcareService.specialty.CODI_SERV,\"codi_centre\": codi_metge} : new DoctorCardRequest(this.languageService.getLanguageAPI(), this.healthcareService.quadre, codi_metge, this.healthcareService.specialty.CODI_SERV);\n\n    this.healthcareService.getDoctorCard(request).subscribe(\n      async (data: Provider[]) => {\n        console.log(\"data: \", data);\n        this.providerCards = data;\n        this.checkBookmark();\n      },\n      async (error) => {\n        this.location.back();\n        throw error;\n      },\n      () => {\n        this.toggle();\n      });\n  }\n\n  public getAppointment(provider : Provider){\n   \n    this.appointments.id_agenda = provider.CITA_ONLINE;\n    this.appointments.codi_servei = provider.CODI_SERV;\n\n    \n    // Redirecto to appointments with MGC (appointmentType = 5)\n    this.router.navigate(['/app/home/healthcare/appointments'],{ state: { isOnline: false, appointmentType: '5'} }); \n    \n  }\n\n  async setBookmark(item : Provider){\n\n    let params ={ \n      id_usuari_mgc: this.authenticationService.id_usuari_mgc,\n      accio: item.IS_BOOKMARK ? \"baixa\" : \"alta\",\n      especialitat: this.healthcareService.specialty.CODI_SERV,\n      centre:item.CODI_CENTR,\n      metge:item.getCode()\n    };\n\n    if(item.isDoctor())\n      params.metge = item.CEN\n\n    item.IS_BOOKMARK  = !item.IS_BOOKMARK;\n    console.log(\"params\", params);\n    this.authenticationService.setBookmark(params).subscribe(\n      async (data: Provider[]) => {\n        console.log(\"data\", data);\n       \n      },\n      async (error) => {\n        return throwError(await error);\n      },\n      () => {\n      });\n  }\n\n  public openMap(provider : Provider){\n\n    let query = provider.LATITUD+','+provider.LONGITUD;\n    window.open('https://www.google.com/maps/search/?api=1&query=' + query,\n     '_system', 'location=yes'); \n  }\n\n  public makeCall(phoneNumber:string){\n    this.callNumber.callNumber(phoneNumber, true)\n    .then(res => console.log('Launched dialer!', res))\n    .catch(err => console.log('Error launching dialer', err));\n  }\n  toggle(){\n    this.fetching = !this.fetching;\n  }\n  \n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { DoctorsPageRoutingModule } from './doctors-routing.module';\nimport { DoctorsPage } from './doctors.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { Ng2SearchPipeModule } from 'ng2-search-filter';\nimport { CallNumber } from '@ionic-native/call-number/ngx';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DoctorsPageRoutingModule,\n    TranslateModule,\n    Ng2SearchPipeModule,\n    ComponentsModule\n  ],\n  providers:[CallNumber],\n  declarations: [DoctorsPage]\n})\nexport class DoctorsPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DoctorsPage } from './doctors.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DoctorsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DoctorsPageRoutingModule {}\n"]}