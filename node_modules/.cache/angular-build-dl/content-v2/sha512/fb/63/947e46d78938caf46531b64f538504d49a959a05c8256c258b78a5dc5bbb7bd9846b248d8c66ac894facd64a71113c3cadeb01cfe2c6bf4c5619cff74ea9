{"version":3,"sources":["./src/app/pages/landing/credential/credential.page.ts","./src/app/pages/landing/credential/credential.page.html","./src/app/pages/landing/credential/credential.module.ts","./src/app/pages/landing/credential/credential.page.scss","./src/app/pages/landing/credential/credential-routing.module.ts"],"names":[],"mappings":"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","file":"pages-landing-credential-credential-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AuthenticationService } from '../../../services/authentication.service';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { getRandomBackground } from 'src/app/shared/classes/utils';\n\n@Component({\n  selector: 'app-credential',\n  templateUrl: './credential.page.html',\n  styleUrls: ['./credential.page.scss'],\n})\nexport class CredentialPage implements OnInit {\n  backgroundImage: string = getRandomBackground();\n  credentials: FormGroup;\n  header : string;\n  resource:string;\n  route:string;\n  constructor( \n    private fb: FormBuilder,\n    private authService: AuthenticationService,\n    private router: Router,\n    private loadingController: LoadingController,\n    public translate: TranslateService,\n    public alertController: AlertController) { }\n\n  ngOnInit() {    \n    this.credentials = this.fb.group({\n      mutua: ['', [Validators.required]] \n    });\n   \n\n    console.log(\"this.authService.action:\", this.authService.action);\n    // Based on user action, get API resource\n    switch(this.authService.action){\n      case 'signUpUser':\n        this.resource = 'registre';\n        this.route = 'identity';\n        this.header = 'landing.registre';\n        break;\n      case 'passwordRecovery':\n        this.resource = 'contrasenya';\n        this.route = 'email';\n        this.header = 'landing.password';\n        break;\n      case 'addSocialAuth':\n        this.resource = 'credencial';\n        this.route = 'email';\n        this.header = 'landing.social';\n        break;\n      default:\n        console.log(\"this: \",this.authService.action);\n      \n    }\n    \n    \n  }\n\n  async validateCredential() {\n\n    const loading = await this.loadingController.create();\n    await loading.present();\n    \n    this.authService.validateCredentials(this.credentials.value, this.resource).subscribe(\n      async (data) => {\n        await loading.dismiss();\n        console.log('data: ', this.credentials.get('mutua').value);\n        this.authService.mutua = this.credentials.get('mutua').value;\n        this.authService.tiene_email  = data.tiene_email;\n        this.authService.id_usuari_mgc  = data.id_usuari_mgc;\n        this.authService.email  = data.email;\n       \n        this.router.navigate([this.route]);\n        \n      },\n      (error) => {\n        // Called when error\n        loading.dismiss();\n        \n        this.showAlert(this.translate.instant('login.fail'));\n        //console.log(\"error credencial:\", error);\n        //throw error;\n        \n      },\n       () => {\n        // Called when operation is complete (both success and error)\n        loading.dismiss();\n      });\n      \n  }\n\n  \n  showAlert(message:string) {\n\n    this.alertController.create({\n      header: 'Error',\n      message: message,\n      buttons: ['OK']\n    }).then(res => {\n\n      res.present();\n\n    });\n\n  }\n\n\n}\n","export default \"<ion-header>\\n  <ion-toolbar class=\\\"header-one\\\">\\n  \\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-icon class=\\\"icon_person\\\" src=\\\"assets/icons/usuari.svg\\\"></ion-icon>\\n      <!-- <img class=\\\"icon_new\\\" src=\\\"assets/icons/usuari.svg\\\"/> -->\\n      \\n    </ion-buttons>\\n    <ion-buttons slot=\\\"primary\\\"style=\\\"margin-right: 5%;\\\">\\n      <ion-back-button text=\\\"\\\" defaultHref=\\\"/landing\\\" ></ion-back-button> \\n    </ion-buttons>\\n    \\n    <ion-title>{{ this.header | translate }}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content [ngStyle]=\\\"{'background': 'url(' + this.backgroundImage + ')'}\\\" fullscreen>\\n  <div class=\\\"landing-container\\\">\\n    <form (ngSubmit)=\\\"validateCredential()\\\" [formGroup]=\\\"credentials\\\" class=\\\"formulario\\\">\\n      <div class=\\\"input-group formulario\\\" >\\n        <ion-text>\\n          <p>{{ 'landing.text' | translate }} </p>\\n        </ion-text>\\n        <ion-text>\\n          <p>{{ 'landing.text_2' | translate }} </p>\\n        </ion-text>\\n        <ion-row>\\n          <ion-col col-10>\\n            <ion-img style=\\\"width: 310px; height: auto;margin-bottom: 5%;padding-left: 5%;\\\" src=\\\"assets/images/targeta_mgc.png\\\"></ion-img>\\n          </ion-col>\\n          <ion-col col></ion-col>\\n        </ion-row>\\n  \\n        <ion-item-divider><br><br><br>\\n          <ion-input formControlName=\\\"mutua\\\" placeholder=\\\"{{ 'landing.placeholder' | translate }}\\\" ></ion-input>\\n        </ion-item-divider>\\n     \\n        <ion-button type=\\\"submit\\\" expand=\\\"block\\\" color=\\\"primary\\\" [disabled]=\\\"!credentials.valid\\\">{{ 'landing.button' | translate |Â uppercase}}</ion-button>\\n        \\n    </div>\\n    </form>\\n  </div>\\n \\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { CredentialPageRoutingModule } from './credential-routing.module';\nimport { CredentialPage } from './credential.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    IonicModule,\n    FormsModule,\n    CredentialPageRoutingModule,\n    ReactiveFormsModule,\n    TranslateModule\n  ],\n  \n  declarations: [CredentialPage]\n})\nexport class CredentialPageModule {}\n","export default \"ion-item-divider {\\n  background-color: #ffffff;\\n  margin-bottom: 20px;\\n  color: #006172;\\n  max-height: 47px;\\n}\\n\\nion-content::part(background) {\\n  background: url(/assets/images/backgrounds/fons_aleatori_1.svg) no-repeat center center/cover;\\n}\\n\\n.formulario {\\n  background-color: transparent;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2NyZWRlbnRpYWwucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kseUJBQUE7RUFDSSxtQkFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtBQUNSOztBQUVJO0VBQ0ksNkZBQUE7QUFDUjs7QUFFQTtFQUNJLDZCQUFBO0FBQ0oiLCJmaWxlIjoiY3JlZGVudGlhbC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taXRlbS1kaXZpZGVye1xuICAgIGJhY2tncm91bmQtY29sb3I6I2ZmZmZmZjsgXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgICAgIGNvbG9yOiMwMDYxNzI7IFxuICAgICAgICBtYXgtaGVpZ2h0OiA0N3B4O1xufVxuaW9uLWNvbnRlbnQge1xuICAgICY6OnBhcnQoYmFja2dyb3VuZCkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoL2Fzc2V0cy9pbWFnZXMvYmFja2dyb3VuZHMvZm9uc19hbGVhdG9yaV8xLnN2Zykgbm8tcmVwZWF0IGNlbnRlciBjZW50ZXIgLyBjb3ZlcjtcbiAgICAgIH1cbiAgfVxuLmZvcm11bGFyaW97XG4gICAgYmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtcbn0iXX0= */\";","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CredentialPage } from './credential.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CredentialPage\n  },\n  {\n    path: 'email',\n    loadChildren: () => import('../email/email.module').then( m => m.EmailPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  \n})\nexport class CredentialPageRoutingModule {}\n"],"sourceRoot":"webpack:///"}