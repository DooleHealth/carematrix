(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["pages-landing-login-login-module"],{

/***/ "4fJO":
/*!***************************************************!*\
  !*** ./src/app/pages/landing/login/login.page.ts ***!
  \***************************************************/
/*! exports provided: LoginPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginPage", function() { return LoginPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _raw_loader_login_page_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! raw-loader!./login.page.html */ "mmtf");
/* harmony import */ var _login_page_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./login.page.scss */ "7Mym");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _services_authentication_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/authentication.service */ "ej43");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _firebase_auth_firebase_auth_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../firebase/auth/firebase-auth.service */ "Oc4o");
/* harmony import */ var _utils_history_helper_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/history-helper.service */ "Ib2I");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var _language_language_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../language/language.service */ "Y3yQ");
/* harmony import */ var _lock_screen_lock_screen_page__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../lock-screen/lock-screen.page */ "i4Yi");
/* harmony import */ var _ionic_native_fingerprint_aio_ngx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ionic-native/fingerprint-aio/ngx */ "59pt");
/* harmony import */ var _home_biometric_auth_biometric_auth_page__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../home/biometric-auth/biometric-auth.page */ "fSU+");
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @capacitor/core */ "gcOT");

















const { Storage } = _capacitor_core__WEBPACK_IMPORTED_MODULE_16__["Plugins"];
let LoginPage = class LoginPage {
    constructor(router, route, authService, firebaseService, ngZone, loadingController, location, historyHelper, menu, translate, languageService, alertController, modalCtrl, faio) {
        this.router = router;
        this.route = route;
        this.authService = authService;
        this.firebaseService = firebaseService;
        this.ngZone = ngZone;
        this.loadingController = loadingController;
        this.location = location;
        this.historyHelper = historyHelper;
        this.menu = menu;
        this.translate = translate;
        this.languageService = languageService;
        this.alertController = alertController;
        this.modalCtrl = modalCtrl;
        this.faio = faio;
        this.hideBackButton = history.state.hideBackButton ? 'hide' : 'show';
        this.validation_messages = {
            'username': [
                { type: 'required', message: 'login.username_val' }
            ],
            'password': [
                { type: 'required', message: 'login.password_val' },
            ]
        };
        this.loginForm = new _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormGroup"]({
            username: new _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].compose([
                _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required
            ])),
            password: new _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].compose([
                _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required
            ])),
            credencial: new _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormControl"]('mgc')
        });
        // Get firebase authentication redirect result invoken when using signInWithRedirect()
        // signInWithRedirect() is only used when client is in web but not desktop
        this.authRedirectResult = this.firebaseService.getRedirectResult()
            .subscribe((result) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            console.log("getRedirectResult: ", result);
            yield result;
            var uid = this.getUserUid(result.user.providerData);
            this.authService.setUser(uid);
            this.authService.login({ username: uid, password: '', credencial: 'google' }).subscribe((res) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                yield res;
                // Redirect user to add credential
                if (res.status == 301) {
                    this.dismissLoading();
                    this.authService.action = "addSocialAuth";
                    this.router.navigate(['credential']);
                }
                else {
                    this.setUser(res);
                    this.resetSubmitError();
                    // If Must sign agreement, redirect to /legal
                    if (res.condicion_legal == 0) {
                        console.log(res);
                        this.dismissLoading();
                        this.router.navigate(['/legal'], { state: { agreement: res.condicion_legal_contingut.contingut } });
                    }
                    else
                        this.redirectLoggedUserToHomePage();
                }
            }), (error) => {
                // Called when error
                this.manageAuthWithProvidersErrors(result.error);
                this.dismissLoading();
                // this.showAlert('Los datos son incorrectos.');
                this.showAlert(this.translate.instant('login.fail'));
                //throw new Error(error);
            });
        }), (error) => {
            this.dismissLoading();
            throw error;
        });
        // Check if url contains our custom 'auth-redirect' param, then show a loader while we receive the getRedirectResult notification
        this.route.queryParams.subscribe(params => {
            const authProvider = params['auth-redirect'];
            if (authProvider) {
                this.presentLoading(authProvider);
            }
        });
    }
    ngOnInit() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
        });
    }
    lockApp() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const modal = yield this.modalCtrl.create({
                component: _lock_screen_lock_screen_page__WEBPACK_IMPORTED_MODULE_13__["LockScreenPage"],
                backdropDismiss: false,
                componentProps: {
                    isModal: true
                }
            });
            modal.present();
            modal.onDidDismiss().then(result => {
                console.log("onDidDismiss result:", result);
            });
        });
    }
    getUserUid(providerData) {
        var uid = '';
        providerData.forEach(function (profile) {
            switch (profile.providerId) {
                case 'google.com':
                    uid = profile.uid;
                    break;
                default:
                    uid = '';
            }
        });
        return uid;
    }
    // Once the auth provider finished the authentication flow, and the auth redirect completes,
    // hide the loader and redirect the user to the profile page
    redirectLoggedUserToHomePage() {
        //this.dismissLoading();
        // As we are calling the Angular router navigation inside a subscribe method, the navigation will be triggered outside Angular zone.
        // That's why we need to wrap the router navigation call inside an ngZone wrapper
        this.ngZone.run(() => {
            // Get previous URL from our custom History Helper
            // If there's no previous page, then redirect to profile
            // const previousUrl = this.historyHelper.previousUrl || 'firebase/auth/profile';
            //
            //debugger;
            // No need to store in the navigation history the sign-in page with redirect params (it's justa a mandatory mid-step)
            // Navigate to profile and replace current url with profile
            //debugger;
            if (this.showBiometricDialog) {
                this.showBioDialog();
            }
            this.router.navigate(['app/home']);
        });
    }
    presentLoading(authProvider) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const authProviderCapitalized = authProvider[0].toUpperCase() + authProvider.slice(1);
            let text = this.translate.instant('login.submit');
            this.loadingController.create({
                spinner: 'lines',
                message: text + authProviderCapitalized,
                cssClass: 'custom-loading',
                backdropDismiss: false
            }).then((loader) => {
                const currentUrl = this.location.path();
                this.redirectLoader = loader;
                this.redirectLoader.present();
            });
        });
    }
    dismissLoading() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.redirectLoader) {
                console.log("dismissLoading");
                this.redirectLoader.dismiss();
            }
        });
    }
    // Before invoking auth provider redirect flow, present a loading indicator and add a flag to the path.
    // The precense of the flag in the path indicates we should wait for the auth redirect to complete.
    prepareForAuthWithProvidersRedirection(authProvider) {
        this.presentLoading(authProvider);
        console.log("this.location.path()", this.location.path());
        this.location.replaceState(this.location.path(), 'auth-redirect=' + authProvider, this.location.getState());
    }
    manageAuthWithProvidersErrors(errorMessage) {
        this.submitError = errorMessage;
        // remove auth-redirect param from url
        this.location.replaceState(this.router.url.split('?')[0], '');
        this.dismissLoading();
        this.showAlert(errorMessage);
        //throw new Error(errorMessage);
    }
    resetSubmitError() {
        this.submitError = null;
    }
    showAlert(message) {
        this.alertController.create({
            header: 'Error',
            message: message,
            buttons: ['OK']
        }).then(res => {
            res.present();
        });
    }
    setUser(data) {
        //console.log("setUser", data);
        this.authService.id_usuari_mgc = data.id_usuari_mgc;
        this.authService.mutua = data.mutua;
        this.authService.setUser(data.name, data.id_usuari_mgc, data.id_usuari_amiq, data.mutua, data.quadre, data.language_id);
        let language = this.authService.user.idioma;
        this.languageService.changeLanguage(language);
        localStorage.setItem('language', language);
    }
    doGoogleLogin() {
        this.resetSubmitError();
        this.prepareForAuthWithProvidersRedirection('google');
        this.firebaseService.signInWithGoogle().subscribe((result) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield result;
            console.log("signInWithGoogle: ", result);
            var uid = this.getUserUid(result.user ? result.user.providerData : result.providerData);
            this.authService.setUser(uid);
            this.authService.login({ username: uid, password: '', credencial: 'google' }).subscribe((res) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                yield res;
                // Redirect user to add credential
                if (res.status == 301) {
                    this.dismissLoading();
                    this.authService.action = "addSocialAuth";
                    this.router.navigate(['credential']);
                }
                else {
                    this.setUser(res);
                    this.resetSubmitError();
                    // If Must sign agreement, redirect to /legal
                    if (res.condicion_legal == 0) {
                        console.log(res);
                        this.dismissLoading();
                        this.router.navigate(['/legal'], { state: { agreement: res.condicion_legal_contingut.contingut } });
                    }
                    else
                        this.redirectLoggedUserToHomePage();
                }
            }), (error) => {
                // Called when error
                console.log('doMGCLogin ERROR', error);
                this.dismissLoading();
                throw error;
            });
        }), (error) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            console.log('doGoogleLogin ERROR', yield error);
            this.dismissLoading();
            throw error;
        }));
    }
    doMgcLogin() {
        let text = this.translate.instant('login.submit');
        this.loadingController.create({
            spinner: 'lines',
            message: text + 'MGC',
            cssClass: 'custom-loading',
            backdropDismiss: false
        }).then((loader) => {
            const currentUrl = this.location.path();
            this.redirectLoader = loader;
            this.redirectLoader.present();
            this.authService.login(this.loginForm.value).subscribe((res) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                console.log('doMgcLogin', res);
                if (res.status == 301 || res.status == 302 || res.status == 392) {
                    this.showAlert(this.translate.instant('login.fail'));
                    this.dismissLoading();
                }
                else {
                    this.setUser(yield res);
                    console.log("this mutua: ", res.mutua);
                    yield Storage.set({
                        key: 'mutua',
                        value: res.mutua
                    });
                    this.resetSubmitError();
                    // Must sign agreement, redirect to /legal
                    if (res.condicion_legal == 0) {
                        console.log(res);
                        this.dismissLoading();
                        this.router.navigate(['/legal'], { state: { agreement: res.condicion_legal_contingut.contingut } });
                    }
                    else
                        this.redirectLoggedUserToHomePage();
                }
            }), (error) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                console.log('doMGCLogin ERROR', yield error);
                this.dismissLoading();
                throw error;
            }));
        });
    }
    doBiometricLogin() {
        this.faio.isAvailable().then((result) => {
            console.log(result);
            this.faio.show({
                cancelButtonTitle: this.translate.instant('face-id.cancel'),
                title: this.translate.instant('face-id.title'),
                fallbackButtonTitle: this.translate.instant('face-id.fallback'),
                subtitle: this.translate.instant('face-id.subtitle'),
            })
                .then((result) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                this.presentLoading(this.translate.instant('biometrics.login'));
                this.biometricAuth = yield Storage.get({ key: 'bio-auth' });
                console.log('this.biometricAuth: ', this.biometricAuth);
                this.authService.login({ username: this.biometricAuth.value, credencial: 'biometric', password: '' }).subscribe((res) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    yield res;
                    // Redirect user to add credential
                    this.setUser(res);
                    this.resetSubmitError();
                    // If Must sign agreement, redirect to /legal
                    if (res.condicion_legal == 0) {
                        console.log(res);
                        this.dismissLoading();
                        this.router.navigate(['/legal'], { state: { agreement: res.condicion_legal_contingut.contingut } });
                    }
                    else
                        this.redirectLoggedUserToHomePage();
                }));
            }))
                .catch((error) => {
                console.log(error);
                if (error.code == -102) {
                    setTimeout(() => this.doBiometricLogin(), 500);
                }
            });
        })
            .catch((error) => {
            console.log(error);
        });
    }
    showBioDialog() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.faio.isAvailable().then(() => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                const modal = yield this.modalCtrl.create({
                    component: _home_biometric_auth_biometric_auth_page__WEBPACK_IMPORTED_MODULE_15__["BiometricAuthPage"],
                    backdropDismiss: false,
                    componentProps: {
                        isModal: true
                    }
                });
                modal.present();
            })).catch(() => {
                console.log('Bio Auth not available');
            });
        });
    }
    passwordRecovery() {
        this.authService.action = 'passwordRecovery';
        this.router.navigate(['/recovery']);
    }
    // Disable side menu for this page
    ionViewDidEnter() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.loginForm.patchValue({
                password: ''
            });
            let mutua = yield Storage.get({ key: 'mutua' });
            if (mutua) {
                console.log('patch mutua: ', mutua.value);
                this.loginForm.patchValue({
                    username: mutua.value
                });
            }
            this.menu.enable(false);
            let setting = yield Storage.get({ key: 'settings-bio' });
            this.hasBiometricAuth = setting.value == 'true';
            console.log('hasBiometricAuth: ', this.hasBiometricAuth);
            let showDialog = yield Storage.get({ key: 'show-bio-dialog' });
            this.showBiometricDialog = showDialog.value != 'false';
            console.log('showBiometricDialog: ', this.showBiometricDialog);
        });
    }
    // Restore to default when leaving this page
    ionViewDidLeave() {
        this.menu.enable(true);
        this.dismissLoading();
    }
};
LoginPage.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_8__["Router"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_8__["ActivatedRoute"] },
    { type: _services_authentication_service__WEBPACK_IMPORTED_MODULE_5__["AuthenticationService"] },
    { type: _firebase_auth_firebase_auth_service__WEBPACK_IMPORTED_MODULE_9__["FirebaseAuthService"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["NgZone"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_7__["LoadingController"] },
    { type: _angular_common__WEBPACK_IMPORTED_MODULE_6__["Location"] },
    { type: _utils_history_helper_service__WEBPACK_IMPORTED_MODULE_10__["HistoryHelperService"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_7__["MenuController"] },
    { type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__["TranslateService"] },
    { type: _language_language_service__WEBPACK_IMPORTED_MODULE_12__["LanguageService"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_7__["AlertController"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_7__["ModalController"] },
    { type: _ionic_native_fingerprint_aio_ngx__WEBPACK_IMPORTED_MODULE_14__["FingerprintAIO"] }
];
LoginPage = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'app-login',
        template: _raw_loader_login_page_html__WEBPACK_IMPORTED_MODULE_1__["default"],
        styles: [_login_page_scss__WEBPACK_IMPORTED_MODULE_2__["default"]]
    })
], LoginPage);



/***/ }),

/***/ "7Mym":
/*!*****************************************************!*\
  !*** ./src/app/pages/landing/login/login.page.scss ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (":host {\n  --page-margin: var(--app-fair-margin);\n  --page-background: var(--app-background);\n  --page-pictures-gutter: calc(var(--page-margin) / 4);\n  --page-tags-gutter: 4px;\n  --page-rating-5-color: #7ce198;\n  --page-rating-4-color: #a8e07c;\n  --page-rating-3-color: #cee07c;\n  --page-rating-2-color: #e0c77c;\n  --page-rating-1-color: #e07c7c;\n  --page-color: #ebbb00;\n  --page-color-rgb: 235, 187, 0;\n}\n\nion-toolbar {\n  --background: var(--page-background);\n}\n\nion-item-divider {\n  background-color: #d9e7ea;\n  margin-bottom: 10px;\n  border-bottom: none;\n  color: black;\n  max-height: 42px;\n  border-bottom: 2pt solid #006488;\n}\n\nion-content {\n  --background-color: red;\n}\n\n.login-content {\n  --background: var(--page-background);\n  --padding-start: var(--page-margin);\n  --padding-end: var(--page-margin);\n  --padding-top: var(--page-margin);\n  --padding-bottom: var(--page-margin);\n}\n\n.login-content .auth-title {\n  color: var(--ion-color-dark);\n  font-weight: bold;\n  margin-top: calc(var(--page-margin) / 2);\n  margin-bottom: calc(var(--page-margin) * (3 / 2));\n  letter-spacing: 0.6px;\n}\n\n.login-content .inputs-list {\n  --ion-item-background: var(--page-background);\n}\n\n.login-content .inputs-list .input-item {\n  --padding-start: 0px;\n  --padding-end: 0px;\n  --inner-padding-end: 0px;\n}\n\n.login-content .error-container .error-message {\n  margin: calc(var(--page-margin) / 2) 0px;\n  display: flex;\n  align-items: center;\n  color: var(--ion-color-danger);\n  font-size: 14px;\n}\n\n.login-content .error-container .error-message ion-icon {\n  -webkit-padding-end: calc(var(--page-margin) / 2);\n          padding-inline-end: calc(var(--page-margin) / 2);\n}\n\n.login-content .login-btn {\n  margin: calc(var(--page-margin) / 2) 0px;\n}\n\n.login-content .other-auth-options-row {\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.login-content .other-auth-options-row .signup-btn {\n  --color: var(--ion-color-secondary);\n  margin: 0px;\n}\n\n.login-content .other-auth-options-row .signup-btn:focus {\n  outline: none;\n}\n\n.login-content .social-auth-options .options-divider {\n  color: var(--ion-color-medium);\n  margin: var(--page-margin) 0px;\n  text-align: center;\n}\n\n.login-content .social-auth-options .social-auth-btn {\n  margin: 0px;\n}\n\n.login-content .social-auth-options .social-auth-btn:not(:first-child) {\n  margin-top: var(--page-margin);\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2xvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLHFDQUFBO0VBQ0Esd0NBQUE7RUFFQSxvREFBQTtFQUNBLHVCQUFBO0VBRUEsOEJBQUE7RUFDQSw4QkFBQTtFQUNBLDhCQUFBO0VBQ0EsOEJBQUE7RUFDQSw4QkFBQTtFQUVBLHFCQUFBO0VBQ0EsNkJBQUE7QUFKRjs7QUFVQTtFQUNFLG9DQUFBO0FBUEY7O0FBVUE7RUFDRSx5QkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQ0FBQTtBQVBGOztBQVVBO0VBQ0UsdUJBQUE7QUFQRjs7QUFZQTtFQUNFLG9DQUFBO0VBQ0EsbUNBQUE7RUFDQSxpQ0FBQTtFQUNBLGlDQUFBO0VBQ0Esb0NBQUE7QUFURjs7QUFXRTtFQUNFLDRCQUFBO0VBQ0EsaUJBQUE7RUFDQSx3Q0FBQTtFQUNBLGlEQUFBO0VBQ0EscUJBQUE7QUFUSjs7QUFZRTtFQUNFLDZDQUFBO0FBVko7O0FBWUk7RUFDRSxvQkFBQTtFQUNBLGtCQUFBO0VBQ0Esd0JBQUE7QUFWTjs7QUFlSTtFQUNFLHdDQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsOEJBQUE7RUFDQSxlQUFBO0FBYk47O0FBZU07RUFDRSxpREFBQTtVQUFBLGdEQUFBO0FBYlI7O0FBa0JFO0VBQ0Usd0NBQUE7QUFoQko7O0FBbUJFO0VBQ0UseUJBQUE7RUFDQSxtQkFBQTtBQWpCSjs7QUFtQkk7RUFDRSxtQ0FBQTtFQUNBLFdBQUE7QUFqQk47O0FBbUJNO0VBQ0UsYUFBQTtBQWpCUjs7QUF1Qkk7RUFDRSw4QkFBQTtFQUNBLDhCQUFBO0VBQ0Esa0JBQUE7QUFyQk47O0FBd0JJO0VBQ0UsV0FBQTtBQXRCTjs7QUF3Qk07RUFDRSw4QkFBQTtBQXRCUiIsImZpbGUiOiJsb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDdXN0b20gdmFyaWFibGVzXG4vLyBOb3RlOiAgVGhlc2Ugb25lcyB3ZXJlIGFkZGVkIGJ5IHVzIGFuZCBoYXZlIG5vdGhpbmcgdG8gZG8gd2l0aCBJb25pYyBDU1MgQ3VzdG9tIFByb3BlcnRpZXNcbjpob3N0IHtcbiAgLS1wYWdlLW1hcmdpbjogdmFyKC0tYXBwLWZhaXItbWFyZ2luKTtcbiAgLS1wYWdlLWJhY2tncm91bmQ6IHZhcigtLWFwcC1iYWNrZ3JvdW5kKTtcblxuICAtLXBhZ2UtcGljdHVyZXMtZ3V0dGVyOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDQpO1xuICAtLXBhZ2UtdGFncy1ndXR0ZXI6IDRweDtcblxuICAtLXBhZ2UtcmF0aW5nLTUtY29sb3I6ICM3Y2UxOTg7XG4gIC0tcGFnZS1yYXRpbmctNC1jb2xvcjogI2E4ZTA3YztcbiAgLS1wYWdlLXJhdGluZy0zLWNvbG9yOiAjY2VlMDdjO1xuICAtLXBhZ2UtcmF0aW5nLTItY29sb3I6ICNlMGM3N2M7XG4gIC0tcGFnZS1yYXRpbmctMS1jb2xvcjogI2UwN2M3YztcblxuICAtLXBhZ2UtY29sb3I6ICNlYmJiMDA7XG4gIC0tcGFnZS1jb2xvci1yZ2I6IDIzNSwgMTg3LCAwO1xuXG5cbn1cblxuXG5pb24tdG9vbGJhciB7XG4gIC0tYmFja2dyb3VuZDogdmFyKC0tcGFnZS1iYWNrZ3JvdW5kKTtcbn1cblxuaW9uLWl0ZW0tZGl2aWRlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNkOWU3ZWE7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIGJvcmRlci1ib3R0b206IG5vbmU7XG4gIGNvbG9yOiBibGFjaztcbiAgbWF4LWhlaWdodDogNDJweDtcbiAgYm9yZGVyLWJvdHRvbTogMnB0IHNvbGlkICMwMDY0ODg7XG59XG5cbmlvbi1jb250ZW50IHtcbiAgLS1iYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG59XG5cblxuLy8gTm90ZTogIEFsbCB0aGUgQ1NTIHZhcmlhYmxlcyBkZWZpbmVkIGJlbG93IGFyZSBvdmVycmlkZXMgb2YgSW9uaWMgZWxlbWVudHMgQ1NTIEN1c3RvbSBQcm9wZXJ0aWVzXG4ubG9naW4tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogdmFyKC0tcGFnZS1iYWNrZ3JvdW5kKTtcbiAgLS1wYWRkaW5nLXN0YXJ0OiB2YXIoLS1wYWdlLW1hcmdpbik7XG4gIC0tcGFkZGluZy1lbmQ6IHZhcigtLXBhZ2UtbWFyZ2luKTtcbiAgLS1wYWRkaW5nLXRvcDogdmFyKC0tcGFnZS1tYXJnaW4pO1xuICAtLXBhZGRpbmctYm90dG9tOiB2YXIoLS1wYWdlLW1hcmdpbik7XG5cbiAgLmF1dGgtdGl0bGUge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgbWFyZ2luLXRvcDogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcbiAgICBtYXJnaW4tYm90dG9tOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAqICgzIC8gMikpO1xuICAgIGxldHRlci1zcGFjaW5nOiAwLjZweDtcbiAgfVxuXG4gIC5pbnB1dHMtbGlzdCB7XG4gICAgLS1pb24taXRlbS1iYWNrZ3JvdW5kOiB2YXIoLS1wYWdlLWJhY2tncm91bmQpO1xuXG4gICAgLmlucHV0LWl0ZW0ge1xuICAgICAgLS1wYWRkaW5nLXN0YXJ0OiAwcHg7XG4gICAgICAtLXBhZGRpbmctZW5kOiAwcHg7XG4gICAgICAtLWlubmVyLXBhZGRpbmctZW5kOiAwcHg7XG4gICAgfVxuICB9XG5cbiAgLmVycm9yLWNvbnRhaW5lciB7XG4gICAgLmVycm9yLW1lc3NhZ2Uge1xuICAgICAgbWFyZ2luOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpIDBweDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuXG4gICAgICBpb24taWNvbiB7XG4gICAgICAgIHBhZGRpbmctaW5saW5lLWVuZDogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAubG9naW4tYnRuIHtcbiAgICBtYXJnaW46IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMikgMHB4O1xuICB9XG5cbiAgLm90aGVyLWF1dGgtb3B0aW9ucy1yb3cge1xuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcblxuICAgIC5zaWdudXAtYnRuIHtcbiAgICAgIC0tY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xuICAgICAgbWFyZ2luOiAwcHg7XG5cbiAgICAgICY6Zm9jdXMge1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC5zb2NpYWwtYXV0aC1vcHRpb25zIHtcbiAgICAub3B0aW9ucy1kaXZpZGVyIHtcbiAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbWVkaXVtKTtcbiAgICAgIG1hcmdpbjogdmFyKC0tcGFnZS1tYXJnaW4pIDBweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG5cbiAgICAuc29jaWFsLWF1dGgtYnRuIHtcbiAgICAgIG1hcmdpbjogMHB4O1xuXG4gICAgICAmOm5vdCg6Zmlyc3QtY2hpbGQpIHtcbiAgICAgICAgbWFyZ2luLXRvcDogdmFyKC0tcGFnZS1tYXJnaW4pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19 */");

/***/ }),

/***/ "XJZi":
/*!*****************************************************!*\
  !*** ./src/app/pages/landing/login/login.module.ts ***!
  \*****************************************************/
/*! exports provided: LoginPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginPageModule", function() { return LoginPageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _login_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./login.page */ "4fJO");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var src_app_components_components_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/components/components.module */ "j1ZV");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _firebase_auth_firebase_auth_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../firebase/auth/firebase-auth.service */ "Oc4o");










const routes = [
    {
        path: '',
        component: _login_page__WEBPACK_IMPORTED_MODULE_5__["LoginPage"]
    }
];
let LoginPageModule = class LoginPageModule {
};
LoginPageModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__["TranslateModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_8__["RouterModule"].forChild(routes),
            src_app_components_components_module__WEBPACK_IMPORTED_MODULE_7__["ComponentsModule"]
        ],
        providers: [_firebase_auth_firebase_auth_service__WEBPACK_IMPORTED_MODULE_9__["FirebaseAuthService"]],
        declarations: [_login_page__WEBPACK_IMPORTED_MODULE_5__["LoginPage"]]
    })
], LoginPageModule);



/***/ }),

/***/ "mmtf":
/*!*******************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/landing/login/login.page.html ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n  <ion-toolbar>\n    <ion-back-button *ngIf=\"this.hideBackButton == 'show'\" text=\"\" slot=\"start\" defaultHref=\"/landing\"></ion-back-button>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content fullscreen>\n \n    <div>\n      <ion-img *ngIf=\"this.translate.currentLang == 'ca'\" src=\"assets/images/splash_screen_salut_ca_2.png\">\n<!-- test remove later\n  <div style=\"margin-left: -22%; margin-top: -8%;\">\n      <ion-img style=\"width: 120%; padding: 0%;\" *ngIf=\"this.translate.currentLang == 'ca'\" src=\"assets/images/splash_screen_salut_ca_2.png\">\n-->\n      </ion-img>\n      <ion-img  *ngIf=\"this.translate.currentLang == 'es'\" src=\"assets/images/splash_screen_salut_es_2.png\">\n      </ion-img>\n    </div>\n   \n    <div class=\"landing-container\">\n      <ion-text >\n        {{ 'login.text' | translate }}\n      </ion-text>\n  <form [formGroup]=\"loginForm\" (ngSubmit)=\"doMgcLogin()\">\n    \n      <ion-item-divider>\n        <ion-input placeholder=\"{{ 'Núm. de Mutualista' | translate }}\" formControlName=\"username\" >\n        </ion-input>\n        <ion-icon style=\"zoom:1;\" name=\"help\" color=\"medium\" slot=\"end\" color=\"primary\"></ion-icon>\n      </ion-item-divider>\n      <!--\n        <ng-container *ngFor=\"let validation of validation_messages.username\">\n        <div class=\"error-message\" *ngIf=\"loginForm.get('username').hasError(validation.type) && (loginForm.get('username').dirty || loginForm.get('username').touched)\">\n          <ion-icon name=\"information-circle-outline\"></ion-icon>\n          <span>{{ validation.message | translate}}</span>\n        </div>\n      </ng-container>\n    -->\n      <ion-item-divider>\n        <app-show-hide-password>\n          <ion-input type=\"password\" autocomplete=\"off\" placeholder=\"{{'password.placeholder' | translate }}\" formControlName=\"password\"></ion-input>\n        </app-show-hide-password>\n      </ion-item-divider>\n      <!--<div *ngIf=\"(password.dirty || password.touched) && password.errors\" class=\"errors\">\n        <span *ngIf=\"password.errors?.required\">Password is required</span>\n        <span *ngIf=\"password.errors?.minlength\">Password needs to be 6 characters</span>\n      </div>-->\n\n    <!-- </div> -->\n\n    <div>\n      <ion-item lines=\"none\">\n        <ion-text>\n          <a (click)=\"passwordRecovery()\">{{ 'login.password_recovery' | translate}}</a></ion-text>\n        <ion-col></ion-col>\n        <ion-button type=\"submit\" size=\"medium\" color=\"primary\" [disabled]=\"!loginForm.valid\">\n          {{ 'login.button' | translate | uppercase}}</ion-button>\n      </ion-item>\n      \n    </div>\n    <div style=\"margin-top: 20%;\"> \n      <ion-card style=\"margin: 0%;\">\n        <ion-item lines=\"none\" style=\"padding-top: 0%; padding-bottom: 0%;\" (click)=\"doGoogleLogin()\" type=\"button\" expand=\"full\" >\n          <ion-icon  slot=\"start\" src=\"assets/icons/logo-googleg.svg\"></ion-icon>\n      {{ 'login.google_signin' | translate }}\n        </ion-item>\n      </ion-card>  \n    </div >\n      <div  *ngIf=\"this.hasBiometricAuth\" style=\"margin-top: 5%;\">\n        <ion-card style=\"margin: 0%;\">\n          <ion-item lines=\"none\" style=\"padding-top: 0%; padding-bottom: 0%;\" (click)=\"doBiometricLogin()\" type=\"button\" expand=\"full\" >\n            <ion-icon slot=\"start\"  name=\"finger-print-outline\"></ion-icon>\n            {{ 'biometrics.auth' | translate }}\n          </ion-item>\n          \n        </ion-card> \n      </div>\n  </form>\n</div>\n</ion-content>");

/***/ })

}]);
//# sourceMappingURL=pages-landing-login-login-module-es2015.js.map