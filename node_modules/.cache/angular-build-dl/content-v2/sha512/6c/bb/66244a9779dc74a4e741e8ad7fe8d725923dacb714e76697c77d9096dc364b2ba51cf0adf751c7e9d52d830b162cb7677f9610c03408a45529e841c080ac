{"version":3,"sources":["webpack:///src/app/pages/home/healthcare/authorizations/authorizations.module.ts","webpack:///src/app/pages/home/healthcare/authorizations/authorizations.page.ts","webpack:///src/app/pages/home/healthcare/authorizations/authorizations-routing.module.ts","webpack:///src/app/pages/home/healthcare/authorizations/authorizations.page.scss","webpack:///src/app/pages/home/healthcare/authorizations/authorizations.page.html"],"names":["AuthorizationsPageModule","imports","declarations","AuthorizationsPage","loadingController","service","auth","router","datepipe","fb","backgroundImage","authorizationFile","undefined","navigate","form","group","data_prestacio","centre","cp","observacions","date","get","value","current","Date","split","transform","setValue","params","auto","mutua","user","idioma","create","loading","present","setAuthorization","subscribe","data","dismiss","console","log","error","selector","template","providers","routes","path","component","loadChildren","then","m","FilePageModule","SuccessPageModule","AuthorizationsPageRoutingModule","forChild","exports"],"mappings":"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","file":"authorizations-authorizations-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { AuthorizationsPageRoutingModule } from './authorizations-routing.module';\nimport { AuthorizationsPage } from './authorizations.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule, \n    IonicModule,\n    ReactiveFormsModule,\n    AuthorizationsPageRoutingModule,\n    TranslateModule,\n    ComponentsModule\n  ],\n  declarations: [AuthorizationsPage]\n})\nexport class AuthorizationsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { LoadingController } from '@ionic/angular';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\nimport { HealthcareService } from 'src/app/services/healthcare.service';\nimport { IAuthorizationRequest } from 'src/app/shared/classes/credential-data';\nimport { DatePipe } from '@angular/common';\nimport { getRandomBackground } from 'src/app/shared/classes/utils';\n\n@Component({\n  selector: 'app-authorizations',\n  templateUrl: './authorizations.page.html',\n  styleUrls: ['./authorizations.page.scss'],\n  providers: [DatePipe]\n})\nexport class AuthorizationsPage implements OnInit {\n  backgroundImage: string = getRandomBackground();\n  providers: any[];\n  providerInfo: any;\n  form: FormGroup;\n  params: IAuthorizationRequest;\n  constructor(private loadingController: LoadingController, \n    public service: HealthcareService,\n    private auth: AuthenticationService,\n    private router: Router, public datepipe: DatePipe,\n    private fb: FormBuilder) { }\n\n  ngOnInit() {\n\n    if(this.service.authorizationFile === undefined)\n      this.router.navigate(['app/home/healthcare/authorizations/file']);\n\n    this.form = this.fb.group({\n      data_prestacio: [''],\n      centre: [''],\n      cp: [''],\n      observacions: ['']\n    });\n\n  }\n\n  /**\n   * setAuthorization\n   */\n  async setAuthorization() {\n    \n    let date = this.form.get('data_prestacio').value; \n    if(date){\n      var current = new Date(date.split('T')[0]);\n      let data_prestacio = this.datepipe.transform(current, 'dd/MM/YYYY');\n      this.form.get('data_prestacio').setValue(data_prestacio);\n    }\n    \n    let params = this.form.value;\n    params.auto = this.service.authorizationFile;\n    params.mutua = this.auth.user.mutua;\n    params.idioma = this.auth.user.idioma;\n    params.mutua = this.auth.user.mutua;\n   \n    const loading = await this.loadingController.create();\n    await loading.present();\n    return this.service.setAuthorization(params).subscribe(\n      async (data) => {\n        await loading.dismiss();\n        console.log(\"response: \", data);\n        this.router.navigate(['app/home/healthcare/authorizations/success']);\n      },\n      (error) => {\n        // Called when error\n        loading.dismiss();\n       throw error;\n        \n      },\n       () => {\n        // Called when operation is complete (both success and error)\n        loading.dismiss();\n      });  \n    \n  }\n\n  openCalendar(){\n    \n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AuthorizationsPage } from './authorizations.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AuthorizationsPage\n  },\n  {\n    path: 'file',\n    loadChildren: () => import('./file/file.module').then( m => m.FilePageModule)\n  },\n  {\n    path: 'success',\n    loadChildren: () => import('./success/success.module').then( m => m.SuccessPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AuthorizationsPageRoutingModule {}\n","export default \"ion-content {\\n  --background: none;\\n  background-position: center top;\\n  background-repeat: no-repeat !important;\\n  background-size: cover !important;\\n}\\n\\n.input-group {\\n  background: rgba(255, 255, 255, 0);\\n  border-radius: 0%;\\n  padding: 5%;\\n}\\n\\nform {\\n  background: rgba(255, 255, 255, 0);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2F1dGhvcml6YXRpb25zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsK0JBQUE7RUFDQSx1Q0FBQTtFQUNBLGlDQUFBO0FBQ0Y7O0FBQ0E7RUFDRSxrQ0FBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtBQUVGOztBQUFBO0VBQ0Usa0NBQUE7QUFHRiIsImZpbGUiOiJhdXRob3JpemF0aW9ucy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogbm9uZTtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIHRvcDtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdCAhaW1wb3J0YW50O1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyICFpbXBvcnRhbnQ7XG59XG4uaW5wdXQtZ3JvdXB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMCk7XG4gIGJvcmRlci1yYWRpdXM6IDAlO1xuICBwYWRkaW5nOiA1JTtcbn1cbmZvcm17XG4gIGJhY2tncm91bmQ6ICAgcmdiYSgyNTUsIDI1NSwgMjU1LCAwKTtcbn1cbiJdfQ== */\";","export default \"<custom-header></custom-header>\\n<ion-content class=\\\"back\\\" [ngStyle]=\\\"{'background': 'url(' + backgroundImage + ')'}\\\" fullscreen>\\n  <page-header title=\\\"{{'healthcare.authorizations' | translate}}\\\" icon=\\\"assets/icons/i_autoritzacions.svg\\\" info=\\\"{{ 'authorization.info' | translate}}\\\" >\\n  </page-header>\\n  <div class=\\\"main-container\\\">\\n  \\n  <form (ngSubmit)=\\\"setAuthorization()\\\" [formGroup]=\\\"form\\\">\\n    <div class=\\\"input-group\\\">\\n      <ion-text>\\n        <h3>{{ 'authorization.text' | translate }}</h3>\\n      </ion-text>\\n      <ion-text>\\n        <p>{{ 'authorization.text-data' | translate }}</p>\\n      </ion-text>\\n      <ion-item>\\n        <ion-datetime displayFormat=\\\"DD/MM/YYYY\\\" placeholder=\\\"{{ 'authorization.placeholder-data' | translate}}\\\" formControlName=\\\"data_prestacio\\\" ></ion-datetime>\\n      </ion-item>\\n      <ion-text>\\n        <p>{{ 'authorization.text-cp' | translate }}</p>\\n      </ion-text>\\n      <ion-item>\\n        <ion-input placeholder=\\\"{{ 'authorization.placeholder-cp' | translate}}\\\" formControlName=\\\"centre\\\">\\n        </ion-input>\\n      </ion-item>\\n      <!-- <p>{{ 'authorization.text-observations' | translate }}</p> -->\\n      <ion-text>\\n        <p>{{ 'authorization.text-observations' | translate }}</p>\\n      </ion-text>\\n      <ion-item>\\n        <ion-input placeholder=\\\"{{ 'authorization.placeholder-observations' | translate}}\\\"\\n          formControlName=\\\"observacions\\\"></ion-input>\\n      </ion-item>\\n    </div><ion-row><ion-col col-6></ion-col><ion-col col-6>\\n    <ion-button type=\\\"submit\\\" expand=\\\"block\\\" color=\\\"primary\\\" [disabled]=\\\"!form.valid\\\">\\n      {{ 'authorization.submit-button' | translate | uppercase}}</ion-button></ion-col></ion-row>\\n  </form>\\n</div> \\n</ion-content>\";"]}