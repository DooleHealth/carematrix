{"version":3,"sources":["webpack:///src/app/pages/home/wellbeing/metgetutor/messageslist/messageslist.page.scss","webpack:///src/app/pages/home/wellbeing/metgetutor/messageslist/messageslist.page.html","webpack:///src/app/pages/home/wellbeing/metgetutor/messageslist/messageslist.module.ts","webpack:///src/app/pages/home/wellbeing/metgetutor/messageslist/messageslist.page.ts","webpack:///src/app/pages/home/wellbeing/metgetutor/messageslist/messageslist-routing.module.ts"],"names":["MessageslistPageModule","imports","declarations","MessageslistPage","authService","loadingController","backgroundImage","k","posts","numMessages","o","Array","getData","create","loading","present","get","subscribe","data","messages","length","console","log","error","dismiss","infiniteScroll","enable","then","complete","selector","template","routes","path","component","loadChildren","m","MessagedetailPageModule","MessageslistPageRoutingModule","forChild","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCwBFA,sBAAsB;AAAA;AAAA,O;;AAAtBA,4BAAsB,6DAXlC,+DAAS;AACRC,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,0FAJO,EAKP,qFALO,EAMP,mEANO,CADD;AASRC,oBAAY,EAAE,CAAC,mEAAD;AATN,OAAT,CAWkC,GAAtBF,sBAAsB,CAAtB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCZAG,gBAAgB;AAO3B,kCAAmBC,WAAnB,EACoBC,iBADpB,EAC0D;AAAA;;AADvC,eAAAD,WAAA,GAAAA,WAAA;AACC,eAAAC,iBAAA,GAAAA,iBAAA;AAPpB,eAAAC,eAAA,GAA0B,0FAA1B;AACA,eAAAC,CAAA,GAAE,CAAF;AACA,eAAAC,KAAA,GAAa,EAAb;AAEA,eAAAC,WAAA,GAAY,CAAZ;AACA,eAAAC,CAAA,GAAI,IAAIC,KAAJ,EAAJ;AAE6D;;AARlC;AAAA;AAAA,iBAU3B,oBAAW,CAEV;AAZ0B;AAAA;AAAA,iBAc3B,2BAAe;AACb,iBAAKH,KAAL,GAAW,EAAX;AACA,iBAAKI,OAAL;AACD;AAjB0B;AAAA;AAAA,iBAoBrB,mBAAO;;;;;;;;;;AAEK,6BAAM,KAAKP,iBAAL,CAAuBQ,MAAvB,EAAN;;;AAAVC,6B;;AACN,6BAAMA,OAAO,CAACC,OAAR,EAAN;;;AAEA,2BAAKX,WAAL,CAAiBY,GAAjB,CAAqB,cAArB,EAAqCC,SAArC,CACI,UAAOC,IAAP;AAAA,+BAAgB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACd,uCAAKT,WAAL,GAAgB,MAACS,IAAI,CAACC,QAAN,MAAc,IAAd,IAAc,aAAd,GAAc,MAAd,GAAc,GAAEC,MAAhC;AAEAC,yCAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkC,KAAKb,WAAvC;AAEA,uCAAKD,KAAL,GAAWU,IAAI,CAACC,QAAhB;AACAE,yCAAO,CAACC,GAAR,CAAY,KAAKd,KAAjB;;AANc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAhB;AAAA,uBADJ,EASI,UAACe,KAAD,EAAW;AACT;AACAF,+BAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBC,KAAvB;AACA,8BAAM,IAAI,sEAAJ,CAAsBA,KAAtB,CAAN;AACD,uBAbL,EAcI,YAAM;AACJ;AACAT,+BAAO,CAACU,OAAR;AACD,uBAjBL;;;;;;;;;AAmBD;AA5C0B;AAAA;AAAA,iBA8C7B,oBAAWC,cAAX,EAA2B;AACzB,gBAAG,KAAKlB,CAAL,IAAQ,KAAKE,WAAhB,EAA4B;AAC1BgB,4BAAc,CAACC,MAAf,CAAsB,KAAtB;AACA;AACD;;AACD,iBAAKnB,CAAL,IAAQ,EAAR;AACA,iBAAKK,OAAL,GAAee,IAAf,CAAoB,YAAI;AACtBF,4BAAc,CAACG,QAAf;AACD,aAFD;AAKD;AAzD4B;;AAAA;AAAA,S;;;;gBAVrB;;gBACA;;;;AASKzB,sBAAgB,6DAL5B,gEAAU;AACT0B,gBAAQ,EAAE,kBADD;AAETC,gBAAQ,EAAR,0EAFS;;AAAA,OAAV,CAK4B,GAAhB3B,gBAAgB,CAAhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPb,UAAM4B,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,EAKrB;AACED,YAAI,EAAE,eADR;AAEEE,oBAAY,EAAE;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,mBAA+CP,IAA/C,CAAqD,UAAAQ,CAAC;AAAA,mBAAIA,CAAC,CAACC,uBAAN;AAAA,WAAtD,CAAN;AAAA;AAFhB,OALqB,CAAvB;;UAeaC,6BAA6B;AAAA;AAAA,O;;AAA7BA,mCAA6B,6DAJzC,+DAAS;AACRpC,eAAO,EAAE,CAAC,6DAAaqC,QAAb,CAAsBP,MAAtB,CAAD,CADD;AAERQ,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAIyC,GAA7BF,6BAA6B,CAA7B","file":"messageslist-messageslist-module-es5.js","sourcesContent":["export default \"app-messageslist .scroll-content {\\n  background-color: aliceblue;\\n}\\napp-messageslist .card {\\n  border-radius: 5px;\\n  padding: 10%;\\n}\\napp-messageslist .whoItem {\\n  float: left;\\n  margin-right: 5px !important;\\n  padding-top: 10% !important;\\n}\\napp-messageslist .whoItem h2 {\\n  font-size: small;\\n  font-weight: bold;\\n  text-align: center;\\n  margin-top: 7px;\\n  padding-top: 10% !important;\\n}\\napp-messageslist ion-avatar[item-start] {\\n  display: block;\\n}\\napp-messageslist .last-label {\\n  font-weight: bold;\\n  color: black;\\n}\\napp-messageslist .last-value {\\n  color: gray;\\n  margin-left: 5px;\\n}\\nion-content {\\n  --background: none;\\n  background-position: center top;\\n  background-repeat: no-repeat !important;\\n  background-size: cover !important;\\n}\\nion-list {\\n  --background: transparent !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL21lc3NhZ2VzbGlzdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0k7RUFDSSwyQkFBQTtBQUZSO0FBVUk7RUFDSSxrQkFBQTtFQUNBLFlBQUE7QUFSUjtBQVlJO0VBQ0ksV0FBQTtFQUNBLDRCQUFBO0VBQ0EsMkJBQUE7QUFWUjtBQWNJO0VBQ0ksZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLDJCQUFBO0FBWlI7QUFlSTtFQUNJLGNBQUE7QUFiUjtBQW1CSTtFQUNJLGlCQUFBO0VBQ0EsWUFBQTtBQWpCUjtBQW9CSTtFQUNJLFdBQUE7RUFDQSxnQkFBQTtBQWxCUjtBQXdCQTtFQUNJLGtCQUFBO0VBQ0EsK0JBQUE7RUFDQSx1Q0FBQTtFQUNBLGlDQUFBO0FBckJKO0FBd0JBO0VBQ0ksb0NBQUE7QUFyQkoiLCJmaWxlIjoibWVzc2FnZXNsaXN0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuYXBwLW1lc3NhZ2VzbGlzdCB7XG5cbiAgICAuc2Nyb2xsLWNvbnRlbnR7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IGFsaWNlYmx1ZTtcbiAgICB9XG5cbiAgICAvLyBpb24tYXZhdGFyIGltZ3tcbiAgICAvLyAgICAgbWFyZ2luOiAxMHB4XG4gICAgLy8gICAgIHBhZGRpbmctdG9wOiAxMCUgIWltcG9ydGFudDtcbiAgICAvLyB9XG5cbiAgICAuY2FyZHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgICBwYWRkaW5nOiAxMCU7XG4gICAgfVxuICBcblxuICAgIC53aG9JdGVte1xuICAgICAgICBmbG9hdDpsZWZ0O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweCAhaW1wb3J0YW50O1xuICAgICAgICBwYWRkaW5nLXRvcDogMTAlICFpbXBvcnRhbnQ7XG4gICAgICAgIFxuICAgIH1cblxuICAgIC53aG9JdGVtIGgye1xuICAgICAgICBmb250LXNpemU6IHNtYWxsO1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBtYXJnaW4tdG9wOiA3cHg7XG4gICAgICAgIHBhZGRpbmctdG9wOiAxMCUgIWltcG9ydGFudDtcbiAgICB9XG5cbiAgICBpb24tYXZhdGFyW2l0ZW0tc3RhcnRde1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICBcbiAgICAgICBcbiAgICAgICAgXG4gICAgfVxuXG4gICAgLmxhc3QtbGFiZWx7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICBjb2xvcjogYmxhY2s7XG4gICAgfVxuXG4gICAgLmxhc3QtdmFsdWV7XG4gICAgICAgIGNvbG9yOiBncmF5O1xuICAgICAgICBtYXJnaW4tbGVmdDogNXB4O1xuICAgIH1cblxuICAgXG4gICBcbn1cbmlvbi1jb250ZW50IHtcbiAgICAtLWJhY2tncm91bmQ6IG5vbmU7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIHRvcDtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0ICFpbXBvcnRhbnQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlciAhaW1wb3J0YW50O1xuICAgIFxuICB9XG5pb24tbGlzdHtcbiAgICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG59Il19 */\";","export default \"<custom-header></custom-header>\\n\\n<ion-content class=\\\"back\\\" [ngStyle]=\\\"{'background': 'url(' + backgroundImage + ')'}\\\" fullscreen>\\n  <page-header title=\\\"{{'menu.messages' | translate}}\\\" icon=\\\"assets/icons/i_missatges.svg\\\" >\\n  </page-header>\\n  <div class=\\\"main-container\\\">\\n \\n  <div *ngFor=\\\"let post of posts\\\" style=\\\"--background: red;\\\">\\n\\n    <!-- <ion-card [routerLink]=\\\"['messagedetail']\\\" [queryParams]=\\\"{ id: post.message.message_header_id }\\\">\\n\\n      <ion-item class=\\\"ion-padding-top\\\" lines=\\\"full\\\" >\\n        <div class=\\\"whoItem\\\" *ngFor=\\\"let who of post.recipients\\\">\\n          <ion-avatar item-start *ngIf=\\\"who.id != authService._user.id_usuari_amiq \\\">\\n            <img src=\\\"{{who.image}}\\\">\\n          </ion-avatar>\\n          <p *ngIf=\\\"who.id != authService._user.id_usuari_amiq \\\">{{who.name}}</p>\\n        </div>\\n      </ion-item>\\n\\n      <ion-card-content>\\n        <div *ngIf=\\\"post.message.temporaryUrl != ''\\\">\\n          <img src=\\\"{{ post.message.temporaryUrl }}\\\">\\n        \\n        </div>\\n\\n      <ion-text>{{post.message.content}}</ion-text>\\n\\n      </ion-card-content>\\n\\n\\n\\n      <ion-row>\\n     \\n        <ion-col>\\n          <button ion-button icon-left clear small>\\n            <div><span class=\\\"last-label\\\">{{ 'Ãšltimo mensaje'}}:</span><span\\n                class=\\\"last-value\\\">{{post.message.created_at}}</span></div>\\n          </button>\\n        </ion-col>\\n      </ion-row>\\n\\n    </ion-card> -->\\n\\n\\n    <!-- <div class=\\\"whoItem\\\" [routerLink]=\\\"['messagedetail']\\\" [queryParams]=\\\"{ id: post.message.message_header_id }\\\">\\n  <ion-list *ngFor=\\\"let who of post.recipients\\\">\\n    <ion-list-header>\\n      Recent Conversations\\n    </ion-list-header>\\n\\n    <ion-item>\\n      <ion-avatar slot=\\\"start\\\">\\n        <img src=\\\"./avatar-finn.png\\\">\\n      </ion-avatar>\\n      <ion-label>\\n        <h2>{{who.name}}</h2>\\n        <h3>I'm a big deal</h3>\\n        <p>Listen, I've had a pretty messed up day...</p>\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n</div> -->\\n   \\n      <ion-list style=\\\"background: rgba(0, 255, 115, 0)!important;\\\"  lines=\\\"none\\\">\\n        <div  *ngFor=\\\"let who of post.recipients\\\">\\n          <ion-item  *ngIf=\\\"who.id != authService.user.id_usuari_amiq\\\" [routerLink]=\\\"['messagedetail']\\\" [queryParams]=\\\"{ id: post.message.message_header_id }\\\" [state]=\\\"{name:who.name }\\\"  style=\\\"--background: rgba(255, 0, 0, 0);\\\">\\n            <ion-avatar style=\\\"margin-right: 8%;margin-bottom: 5%;\\\" item-start>\\n              <img src=\\\"{{who.image}}\\\">\\n            </ion-avatar>\\n            <ion-label>\\n              <ion-label>{{who.name | titlecase }}</ion-label>\\n              <ion-text *ngIf=\\\"post.message.content\\\" style=\\\"color: grey\\\">{{post.message.content}}</ion-text><br>\\n              <span style=\\\"color: rgb(0, 133, 167);font-size: x-small;\\\">{{post.message.created_at | date: \\\"dd/MM/yyyy\\\" }}</span>\\n            </ion-label>\\n          </ion-item>\\n        </div>\\n        \\n        <!-- <span style=\\\"color: rgb(0, 110, 255);font-size: x-small;\\\">{{post.message.created_at}}</span> -->\\n\\n      </ion-list>\\n \\n  </div>\\n</div> \\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MessageslistPageRoutingModule } from './messageslist-routing.module';\n\nimport { MessageslistPage } from './messageslist.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MessageslistPageRoutingModule,\n    ComponentsModule,\n    TranslateModule\n  ],\n  declarations: [MessageslistPage]\n})\nexport class MessageslistPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {HttpErrorResponse} from \"@angular/common/http\";\nimport {AuthenticationService} from \"../../../../../services/authentication.service\";\nimport {LoadingController} from \"@ionic/angular\";\nimport { getRandomBackground } from 'src/app/shared/classes/utils';\n\n\n@Component({\n  selector: 'app-messageslist',\n  templateUrl: './messageslist.page.html',\n  styleUrls: ['./messageslist.page.scss'],\n})\nexport class MessageslistPage implements OnInit {\n  backgroundImage: string = getRandomBackground();\n  k=0;\n  posts: any = [];\n  loading: any;\n  numMessages=0;\n  o = new Array;\n  constructor(public authService: AuthenticationService,\n              private loadingController: LoadingController) { }\n\n  ngOnInit() {\n   \n  }\n\n  ionViewDidEnter(){\n    this.posts=[];\n    this.getData();\n  }\n\n\n  async getData(){\n\n    const loading = await this.loadingController.create();\n    await loading.present();\n\n    this.authService.get('message/user').subscribe(\n        async (data) => {\n          this.numMessages=data.messages?.length;\n         \n          console.log(\"this.numMessages: \", this.numMessages);\n          \n          this.posts=data.messages;\n          console.log(this.posts);\n        },\n        (error) => {\n          // Called when error\n          console.log(\"error: \", error);\n          throw new HttpErrorResponse(error);\n        },\n        () => {\n          // Called when operation is complete (both success and error)\n          loading.dismiss();\n        });\n    \n  }\n\ndoInfinite(infiniteScroll) {\n  if(this.k>=this.numMessages){\n    infiniteScroll.enable(false);\n    return;\n  } \n  this.k+=25;\n  this.getData().then(()=>{\n    infiniteScroll.complete();\n  });\n\n  \n}\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MessageslistPage } from './messageslist.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MessageslistPage\n  },\n  {\n    path: 'messagedetail',\n    loadChildren: () => import('./messagedetail/messagedetail.module').then( m => m.MessagedetailPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MessageslistPageRoutingModule {}\n"]}