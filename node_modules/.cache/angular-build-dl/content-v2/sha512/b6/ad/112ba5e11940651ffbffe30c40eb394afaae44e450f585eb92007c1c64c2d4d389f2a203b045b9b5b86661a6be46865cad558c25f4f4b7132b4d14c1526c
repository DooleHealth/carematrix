(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["home-home-module"],{

/***/ "/rnz":
/*!*******************************************!*\
  !*** ./src/app/pages/home/home.page.scss ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".category-block {\n  background-color: rgba(255, 250, 250, 0);\n}\n\nion-item-divider {\n  background-color: #fdfdfc;\n  margin-bottom: 15px;\n  padding: 3%;\n  border-bottom: 2pt solid #006488;\n  border-radius: 5px;\n}\n\nion-content {\n  --background: linear-gradient(\n    to bottom,\n    rgba(255, 255, 255, 0) 0%,\n    rgba(217, 231, 234) 80%\n  );\n  background-repeat: no-repeat !important;\n  background-size: cover !important;\n  background-position: center !important;\n  overflow-y: hidden !important;\n}\n\nion-list {\n  --ion-background-color: transparent !important;\n}\n\nion-card-title {\n  font-size: medium;\n}\n\nion-slides {\n  margin-left: -5%;\n  margin-right: -5%;\n}\n\nion-slide {\n  padding-left: -5%;\n  padding-right: -10%;\n  margin-left: -5%;\n  margin-right: -5%;\n}\n\n.logo-header {\n  width: 170px;\n  height: auto;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.header-one {\n  --background: rgba(255, 255, 255, 0.9);\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n}\n\n.customCard {\n  height: 220px;\n  background-color: rgba(254, 255, 255, 0.74);\n  width: 220px;\n  border-radius: 0%;\n}\n\n.customCard2 {\n  height: 220px;\n  background-color: rgba(254, 255, 255, 0.74);\n  width: 220px;\n  border-radius: 0%;\n}\n\n.caja {\n  position: relative;\n  display: inline-block;\n}\n\n.texto1 {\n  position: absolute;\n  top: 14px;\n  left: 10px;\n  color: black;\n  font-weight: 900;\n  overflow: hidden;\n}\n\n.texto2 {\n  position: absolute;\n  top: 60%;\n  right: 10px;\n  left: 10px;\n  overflow: hidden;\n}\n\n.close-product {\n  float: right;\n  font-size: 20px;\n}\n\n.homeCard {\n  margin-left: 0%;\n  margin-right: 0%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2hvbWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usd0NBQUE7QUFDRjs7QUFDQTtFQUNFLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0VBQ0EsZ0NBQUE7RUFDQSxrQkFBQTtBQUVGOztBQUNBO0VBQ0U7Ozs7R0FBQTtFQUtBLHVDQUFBO0VBQ0EsaUNBQUE7RUFDQSxzQ0FBQTtFQUNBLDZCQUFBO0FBRUY7O0FBRUE7RUFDRSw4Q0FBQTtBQUNGOztBQUVBO0VBQ0UsaUJBQUE7QUFDRjs7QUFDQTtFQUNFLGdCQUFBO0VBQ0EsaUJBQUE7QUFFRjs7QUFFQTtFQUNFLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0FBQ0Y7O0FBR0E7RUFDRSxZQUFBO0VBRUEsWUFBQTtFQUNBLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FBREY7O0FBSUE7RUFDRSxzQ0FBQTtFQUNFLDRFQUFBO0FBREo7O0FBR0E7RUFDRSxhQUFBO0VBQ0EsMkNBQUE7RUFDQSxZQUFBO0VBRUEsaUJBQUE7QUFERjs7QUFHQTtFQUNFLGFBQUE7RUFDQSwyQ0FBQTtFQUNBLFlBQUE7RUFFQSxpQkFBQTtBQURGOztBQUdBO0VBQ0Usa0JBQUE7RUFDQSxxQkFBQTtBQUFGOztBQUVBO0VBQ0Usa0JBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0FBQ0Y7O0FBQ0E7RUFDQSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxXQUFBO0VBQ0EsVUFBQTtFQUNBLGdCQUFBO0FBRUE7O0FBQUE7RUFDRSxZQUFBO0VBQ0EsZUFBQTtBQUdGOztBQUFBO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0FBR0YiLCJmaWxlIjoiaG9tZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2F0ZWdvcnktYmxvY2sge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjUwLCAyNTAsIDApO1xufVxuaW9uLWl0ZW0tZGl2aWRlciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYigyNTMsIDI1MywgMjUyKTtcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgcGFkZGluZzogMyU7XG4gIGJvcmRlci1ib3R0b206IDJwdCBzb2xpZCAjMDA2NDg4O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG5cbmlvbi1jb250ZW50IHtcbiAgLS1iYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoXG4gICAgdG8gYm90dG9tLFxuICAgIHJnYmEoMjU1LCAyNTUsIDI1NSwgMCkgMCUsXG4gICAgcmdiYSgyMTcsIDIzMSwgMjM0KSA4MCVcbiAgKTtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdCAhaW1wb3J0YW50O1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciAhaW1wb3J0YW50O1xuICBvdmVyZmxvdy15OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgXG59XG5cbmlvbi1saXN0IHtcbiAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcbn1cblxuaW9uLWNhcmQtdGl0bGUge1xuICBmb250LXNpemU6IG1lZGl1bTtcbn1cbmlvbi1zbGlkZXMge1xuICBtYXJnaW4tbGVmdDogLTUlO1xuICBtYXJnaW4tcmlnaHQ6IC01JTtcbiBcbiAgXG59XG5pb24tc2xpZGUge1xuICBwYWRkaW5nLWxlZnQ6IC01JTtcbiAgcGFkZGluZy1yaWdodDogLTEwJTtcbiAgbWFyZ2luLWxlZnQ6IC01JTtcbiAgbWFyZ2luLXJpZ2h0OiAtNSU7XG4gIFxufVxuXG4ubG9nby1oZWFkZXIge1xuICB3aWR0aDogMTcwcHg7XG5cbiAgaGVpZ2h0OiBhdXRvO1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbiAgXG59XG4uaGVhZGVyLW9uZSB7XG4gIC0tYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpO1xuICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCAwIHJnYmEoMCwgMCwgMCwgMC4yKSwgMCA2cHggMjBweCAwIHJnYmEoMCwgMCwgMCwgMC4xOSk7XG59XG4uY3VzdG9tQ2FyZCB7XG4gIGhlaWdodDogMjIwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU0LCAyNTUsIDI1NSwgMC43NCk7XG4gIHdpZHRoOiAyMjBweDtcbiAgLy8gcGFkZGluZzogMTElO1xuICBib3JkZXItcmFkaXVzOiAwJTtcbn1cbi5jdXN0b21DYXJkMiB7XG4gIGhlaWdodDogMjIwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU0LCAyNTUsIDI1NSwgMC43NCk7XG4gIHdpZHRoOiAyMjBweDtcbiAgXG4gIGJvcmRlci1yYWRpdXM6IDAlO1xufVxuLmNhamF7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuLnRleHRvMXtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6MTRweDtcbiAgbGVmdDogMTBweDtcbiAgY29sb3I6IGJsYWNrO1xuICBmb250LXdlaWdodDogOTAwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuLnRleHRvMntcbnBvc2l0aW9uOiBhYnNvbHV0ZTtcbnRvcDo2MCU7XG5yaWdodDogMTBweDtcbmxlZnQ6IDEwcHg7XG5vdmVyZmxvdzogaGlkZGVuO1xufVxuLmNsb3NlLXByb2R1Y3Qge1xuICBmbG9hdDpyaWdodDsgXG4gIGZvbnQtc2l6ZTogMjBweDsgXG59XG5cbi5ob21lQ2FyZHtcbiAgbWFyZ2luLWxlZnQ6IDAlO1xuICBtYXJnaW4tcmlnaHQ6IDAlO1xufSJdfQ== */");

/***/ }),

/***/ "99Un":
/*!*******************************************!*\
  !*** ./src/app/pages/home/home.module.ts ***!
  \*******************************************/
/*! exports provided: HomePageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HomePageModule", function() { return HomePageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _home_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./home.page */ "hsj+");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var _firebase_auth_firebase_auth_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../firebase/auth/firebase-auth.service */ "Oc4o");
/* harmony import */ var src_app_components_components_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/components/components.module */ "j1ZV");
/* harmony import */ var _ionic_native_in_app_browser_ngx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ionic-native/in-app-browser/ngx */ "m/P+");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/router */ "tyNb");











const routes = [
    {
        path: '',
        component: _home_page__WEBPACK_IMPORTED_MODULE_5__["HomePage"]
    }
];
let HomePageModule = class HomePageModule {
};
HomePageModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__["TranslateModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_10__["RouterModule"].forChild(routes),
            src_app_components_components_module__WEBPACK_IMPORTED_MODULE_8__["ComponentsModule"],
        ],
        providers: [_firebase_auth_firebase_auth_service__WEBPACK_IMPORTED_MODULE_7__["FirebaseAuthService"], _ionic_native_in_app_browser_ngx__WEBPACK_IMPORTED_MODULE_9__["InAppBrowser"]],
        declarations: [_home_page__WEBPACK_IMPORTED_MODULE_5__["HomePage"]]
    })
], HomePageModule);



/***/ }),

/***/ "eUf4":
/*!*********************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/home/home.page.html ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n  <ion-toolbar class=\"header-one\">\n    <ion-buttons slot=\"primary\">\n      <ion-button>\n        <ion-menu-button auto-hide=\"false\"></ion-menu-button>\n      </ion-button>\n    </ion-buttons>\n    <a routerLink=\"/app/home\">\n      <ion-img class=\"logo-header\" *ngIf=\"this.translate.currentLang == 'ca'\"\n        src=\"assets/logos/logo_mgc_m_salut_ca_peque.png\">\n      </ion-img>\n      <ion-img class=\"logo-header\" *ngIf=\"this.translate.currentLang == 'es'\"\n        src=\"assets/logos/logo_mgc_m_salut_es_peque.png\">\n      </ion-img>\n    </a>\n  </ion-toolbar>\n\n</ion-header>\n<ion-content [ngStyle]=\"{'background': 'url(' + backgroundImage + ')'}\" fullscreen>\n  <div class=\"slides-container\">\n  <ion-text>\n    <h2>{{ 'home.greeting' | translate }} {{ this.authService.user?.username | titlecase}}</h2>\n  </ion-text>\n  <!-- Blog Content -->\n  <ion-slides [options]=\"sliderConfig\">\n    <ion-slide style=\"margin-left: 5%; padding-right: 5%;\" routerLink=\"wellbeing\" >\n      <div >\n        <ion-card class=\"customCard\">\n          <div *ngIf=\"active == false; else greenDivH\">\n            <ion-img class=\"icon-health2\" src=\"assets/icons/cara_gris.png\"></ion-img>\n            <div class=\"texto1\">{{ 'info.text2' | translate }}</div>\n            <div class=\"texto2\">{{ 'info.text3' | translate }}</div>\n          </div>\n          <ng-template #greenDivH>\n            <div class=\"caja\" *ngIf=\"(cardio == 'green' && habits =='green' && exercici =='green'); else redDivH\">\n              <ion-img class=\"icon-health2\" src=\"assets/icons/cara_verde.png\"></ion-img>\n              <div class=\"texto1\">{{ 'info.text2' | translate }}</div>\n              <div class=\"texto2\"><span style=\"color: #81BC01; font-weight: 600;\">{{ 'home.text1' | translate }}</span> {{ 'home.text2' | translate }}<span style=\"color: #81BC01; font-weight: 600;\">{{ 'home.text3' | translate }}</span>\n              </div>\n            </div>\n          </ng-template>\n          <ng-template #redDivH>\n            <div class=\"caja\" *ngIf=\"(cardio == 'red' ||  habits =='red' ||  exercici =='red');else orangeDivH\">\n              <ion-img class=\"icon-health2\" src=\"assets/icons/cara_roja.png\"></ion-img>\n              <div class=\"texto1\">{{ 'info.text2' | translate }}</div>\n              <div class=\"texto2\"><span style=\"color: #B22A2E; font-weight: 600;\">{{ 'home.text4' | translate }}</span>{{ 'home.text5' | translate }} <span style=\"color: #B22A2E; font-weight: 600;\">\n                {{ 'home.text6' | translate }}</span></div>\n            </div>\n          </ng-template>\n          <ng-template #orangeDivH>\n            <ion-img class=\"icon-health2\" src=\"assets/icons/cara_naranja.png\"></ion-img>\n            <div class=\"texto1\">{{ 'info.text2' | translate }}</div>\n\n            <div class=\"texto2\"><span style=\"color:#F5B336 ; font-weight: 600;\">{{ 'home.text7' | translate }}</span> {{ 'home.text8' | translate }} <span style=\"color:#F5B336 ; font-weight: 600;\">\n              {{ 'home.text9' | translate }}</span></div>\n          </ng-template>\n\n        </ion-card>\n      </div>\n    </ion-slide>\n    <ion-slide *ngFor=\"let agenda of this.authService.agendaUser\">\n      <ion-card class=\"customCard2\" >\n          <ion-icon name=\"close-circle\" class=\"close-product\" (click)=\"close(agenda)\"></ion-icon> \n        <ion-img style=\"padding: 5%;\" src=\"assets/icons/ilustr_metge_tutor.svg\" routerLink=\"wellbeing/agenda/agenda-detail\" [state]=\"{agenda:agenda, home:true}\"></ion-img><br>\n        <ion-card-title>{{ agenda.title }}</ion-card-title>\n        <ion-card-subtitle>{{ agenda.start_date }}</ion-card-subtitle>\n      </ion-card>\n\n    </ion-slide>\n  </ion-slides>\n</div>\n  <div class=\"home-container\">\n  <ion-item-divider routerLink=\"emergency\">\n    <ion-avatar slot=\"start\">\n      <ion-img src='../../assets/icons/i_em_trobo_malament.svg'></ion-img>\n    </ion-avatar>\n    <ion-label>\n      <ion-grid>\n        <ion-row>\n          <ion-col size=\"8\">\n            {{ 'home.emergency' | translate }}\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-label>\n  </ion-item-divider>\n  <ion-item-divider routerLink=\"healthcare\">\n    <ion-avatar slot=\"start\">\n      <ion-img src='../../assets/icons/i_assistencia_medica.svg'></ion-img>\n    </ion-avatar>\n    <ion-label>\n      <ion-grid>\n        <ion-row>\n          <ion-col size=\"8\">\n            {{ 'home.assistencia' | translate }}\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-label>\n  </ion-item-divider>\n  <ion-item-divider routerLink=\"wellbeing\">\n    <ion-avatar slot=\"start\">\n      <ion-img *ngIf=\"(active == false);else greenDiv\"src='../../assets/icons/i_la_meva_salut.svg'>\n      </ion-img>\n      <ng-template #greenDiv>\n      <ion-img *ngIf=\"(cardio == 'green' && habits =='green' && exercici =='green');else redDiv\"\n        src='../../assets/icons/i_la_meva_salut_verd.svg'></ion-img>\n      </ng-template>\n      <ng-template #redDiv>\n        <ion-img *ngIf=\"(cardio == 'red' ||  habits =='red' ||  exercici =='red');else orangeDiv\"\n          src='../../assets/icons/i_la_meva_salut_vermell.svg'></ion-img>\n      </ng-template>\n      <ng-template #orangeDiv>\n        <ion-img *ngIf=\"(cardio != '') && ( habits != '') && ( exercici != '')\"\n          src='../../assets/icons/i_la_meva_salut_groc.svg'></ion-img>\n      </ng-template>\n    </ion-avatar>\n    <ion-label>\n      <ion-grid>\n        <ion-row>\n          <ion-col size=\"8\">\n            {{ 'home.salut' | translate }}\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-label>\n  </ion-item-divider>\n  <ion-item-divider routerLink=\"proceedings\" [state]=\"{appointmentType : 'tramit' }\">\n    <ion-avatar slot=\"start\">\n      <ion-img src='../../assets/icons/i_tramits_i_gestions.svg'></ion-img>\n    </ion-avatar>\n    <ion-label>\n      <ion-grid>\n        <ion-row>\n          <ion-col size=\"8\">\n            {{ 'home.tramits' | translate }}\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-label>\n  </ion-item-divider>\n  <div style=\"margin-top: 10%;\">\n  <ion-text>\n    <h3 size=\"small\">{{ 'home.interes' | translate }}</h3>\n    <p>{{ 'home.blog' | translate }}</p>\n  </ion-text>\n\n  <!-- Media Content -->\n  <ion-card *ngFor=\"let entry of (entries ? entries.slice(0,numNews): [])\" class=\"homeCard\" [routerLink]=\"['/app/home/blogshow']\" [state]=\"{ entry: entry}\">\n    <img [src]=\"entry?.imageURL\" />\n    <ion-card-header>\n      <ion-card-subtitle>{{ this.datepipe.transform( entry.pubDate ,'dd/MM/yyyy') }}</ion-card-subtitle>\n      <ion-card-title >{{ entry.title }}</ion-card-title>\n    </ion-card-header>\n  <!--\n  <ion-card-content>\n    {{ entry.contentSnippet}}\n  </ion-card-content>\n    -->\n  </ion-card>\n\n  <ion-button type=\"button\" expand=\"block\" color=\"primary\" (click)=\"addNews()\">\n    {{ 'home.more_content' | translate | uppercase }}\n  </ion-button>\n  <div [innerHTML]=\"post\"></div>\n</div>\n</div>\n</ion-content>");

/***/ }),

/***/ "hsj+":
/*!*****************************************!*\
  !*** ./src/app/pages/home/home.page.ts ***!
  \*****************************************/
/*! exports provided: HomePage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HomePage", function() { return HomePage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _raw_loader_home_page_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! raw-loader!./home.page.html */ "eUf4");
/* harmony import */ var _home_page_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./home.page.scss */ "/rnz");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var src_app_config_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/config/constants */ "5Pvz");
/* harmony import */ var src_app_services_authentication_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/authentication.service */ "ej43");
/* harmony import */ var _firebase_auth_firebase_auth_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../firebase/auth/firebase-auth.service */ "Oc4o");
/* harmony import */ var _language_language_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../language/language.service */ "Y3yQ");
/* harmony import */ var src_app_shared_classes_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/shared/classes/utils */ "hNG5");
/* harmony import */ var src_app_services_appointment_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/app/services/appointment.service */ "Oz3r");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/snack-bar */ "dNgK");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! rxjs */ "qCKp");
















let HomePage = class HomePage {
    constructor(authService, constants, translate, languageService, datepipe, appointmentService, firebaseService, menu, snackBar) {
        this.authService = authService;
        this.constants = constants;
        this.translate = translate;
        this.languageService = languageService;
        this.datepipe = datepipe;
        this.appointmentService = appointmentService;
        this.firebaseService = firebaseService;
        this.menu = menu;
        this.snackBar = snackBar;
        this.posts = [];
        this.today = Date.now();
        this.options = [];
        this.agenda = [];
        this.entries = [];
        this.numNews = 5;
        this.rex = /<img[^>]+src="?([^"\s]+)"?\s*\/>/g;
        this.rex2 = /<img[^>]+src="(http:\/\/[^">]+)"/g;
        this.sliderConfig = {
            // initialSlide: 1.6,
            slidesPerView: 1.6,
            spaceBetween: 4,
            centeredSlides: false,
        };
        this.backgroundImage = Object(src_app_shared_classes_utils__WEBPACK_IMPORTED_MODULE_11__["getHomeBackgroundImage"])();
        this.buttons = [
            { text: 'home.emergency', route: 'emergency', image: '../../assets/icons/i_em_trobo_malament.svg' },
            { text: 'home.assistencia', route: 'healthcare', image: '../../assets/icons/i_assistencia_medica.svg' },
            { text: 'home.salut', route: 'wellbeing', image: '../../assets/icons/i_la_meva_salut.svg', isMevaSalut: true },
            { text: 'home.tramits', route: 'proceedings', image: '../../assets/icons/i_tramits_i_gestions.svg' }
        ];
    }
    ionViewDidEnter() {
        this.menu.enable(true);
        this.cardio = '';
        this.exercici = '';
        this.habits = '';
        this.getDato();
    }
    ngOnInit() {
        this.options = this.buttons;
        this.parseUrl();
        this.getAgenda();
    }
    parseUrlWrapper() {
        let parser = new RSSParser();
        return new Promise((resolve, reject) => {
            const endpoint = this.constants.get_rss_feed + this.languageService.getCurrent();
            //console.log("endpoint parse URLWrapper: ", endpoint);
            parser.parseURL(endpoint, function (err, parsed) {
                console.log("parseURL: ", parsed);
                console.log("parseURL err: ", err);
                if (err)
                    reject(err);
                else
                    resolve(parsed.items);
            });
        });
    }
    parseUrl() {
        this.parseUrlWrapper().then((entries) => {
            this.entries = entries;
            this.entries.forEach(entry => {
                var _a;
                // Extract image.src from html
                var elem = document.createElement('div');
                elem.innerHTML = entry["content:encoded"];
                let src = (_a = elem.querySelector('img')) === null || _a === void 0 ? void 0 : _a.src;
                entry['imageURL'] = src;
            });
        }).catch(error => {
            console.log(error);
            if (error.message == 'ERR_INTERNET_DISCONNECTED' || error.message == 'Timeout has occurred') {
                this.notifyUser();
            }
            else
                throw error;
        });
    }
    addNews() {
        this.numNews += 5;
    }
    //  esta es la petición para los colores del slider mevaSalut
    getDato() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.authService.get('mgc/indicadorsSalut').pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_14__["mergeMap"])((v) => !v.success ? Object(rxjs__WEBPACK_IMPORTED_MODULE_15__["throwError"])(v) : Object(rxjs__WEBPACK_IMPORTED_MODULE_15__["of"])(v))).subscribe((data) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                this.dato = data;
                this.cardio = this.dato.cardio;
                this.exercici = this.dato.exercici;
                this.habits = this.dato.habits;
                this.active = this.dato.active;
                if (this.dato === true) {
                    this.options[0].route = 'dato';
                }
            }), (error) => {
                // Called when error
                if (error.message == 'ERR_INTERNET_DISCONNECTED' || error.message == 'Timeout has occurred') {
                    this.notifyUser();
                }
                else
                    throw error;
            });
        });
    }
    notifyUser() {
        const config = new _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_13__["MatSnackBarConfig"]();
        config.panelClass = ['example-pizza-party'];
        config.verticalPosition = 'bottom';
        config.horizontalPosition = 'center';
        config.duration = 3000;
        this.snackBar.open(this.translate.instant('commons.error-network'), '', config);
    }
    getAgenda() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            //const loading = await this.loadingController.create();
            //await loading.present();
            this.authService.get('user/agenda').subscribe((data) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                var _a, _b;
                this.authService.agendaUser = [];
                this.appointmentService.agendas = data;
                this.authService.agendaUser = data.agenda;
                // remove agenda if it's set to hide
                (_a = this.authService.agendaUser) === null || _a === void 0 ? void 0 : _a.forEach(function (element, index, object) {
                    if (element.hide) {
                        object.splice(index, 1);
                    }
                });
                if (((_b = this.authService.agendaUser) === null || _b === void 0 ? void 0 : _b.length) > 0 && this.authService.agendaUser.length == 0)
                    console.log("all agendas are hidden");
            }), (error) => {
                // Called when error
                throw error;
            });
        });
    }
    close(agenda) {
        this.authService.post('user/agenda/' + agenda.id + '/hide', {}).subscribe((data) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.authService.agendaUser = this.authService.agendaUser.filter(obj => obj !== agenda);
        }), (error) => {
            // Called when error
            throw error;
        }, () => {
            // Called when operation is complete (both success and error)
        });
    }
    ;
};
HomePage.ctorParameters = () => [
    { type: src_app_services_authentication_service__WEBPACK_IMPORTED_MODULE_8__["AuthenticationService"] },
    { type: src_app_config_constants__WEBPACK_IMPORTED_MODULE_7__["Constants"] },
    { type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__["TranslateService"] },
    { type: _language_language_service__WEBPACK_IMPORTED_MODULE_10__["LanguageService"] },
    { type: _angular_common__WEBPACK_IMPORTED_MODULE_3__["DatePipe"] },
    { type: src_app_services_appointment_service__WEBPACK_IMPORTED_MODULE_12__["AppointmentService"] },
    { type: _firebase_auth_firebase_auth_service__WEBPACK_IMPORTED_MODULE_9__["FirebaseAuthService"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["MenuController"] },
    { type: _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_13__["MatSnackBar"] }
];
HomePage = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'app-home',
        template: _raw_loader_home_page_html__WEBPACK_IMPORTED_MODULE_1__["default"],
        providers: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["DatePipe"]],
        styles: [_home_page_scss__WEBPACK_IMPORTED_MODULE_2__["default"]]
    })
], HomePage);



/***/ })

}]);
//# sourceMappingURL=home-home-module-es2015.js.map