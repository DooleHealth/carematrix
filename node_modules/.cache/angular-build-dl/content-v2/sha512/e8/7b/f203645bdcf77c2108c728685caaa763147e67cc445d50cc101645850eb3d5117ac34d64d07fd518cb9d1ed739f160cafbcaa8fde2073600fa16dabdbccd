{"version":3,"sources":["webpack:///src/app/pages/home/wellbeing/diagnostictests/add/add-routing.module.ts","webpack:///src/app/pages/home/wellbeing/elements/add/add.page.html","webpack:///src/app/pages/home/wellbeing/diagnostictests/add/add.page.scss","webpack:///src/app/pages/home/wellbeing/elements/add/add.page.scss","webpack:///src/app/pages/home/wellbeing/diagnostictests/add/add.module.ts","webpack:///src/app/pages/home/wellbeing/elements/add/add.module.ts","webpack:///src/app/pages/home/wellbeing/diagnostictests/add/add.page.ts","webpack:///src/app/pages/home/wellbeing/diagnostictests/add/add.page.html","webpack:///src/app/pages/home/wellbeing/elements/add/add.page.ts","webpack:///src/app/pages/home/wellbeing/elements/add/add-routing.module.ts"],"names":["routes","path","component","loadChildren","then","m","SucessPageModule","AddPageRoutingModule","imports","forChild","exports","AddPageModule","providers","declarations","Camera","Filesystem","AddPage","authService","loadingController","router","fb","datepipe","actionSheetCtrl","doole","file","translate","chooser","backgroundImage","isNewTest","history","state","action","diagnosticTest","diagnosticType","mediaFiles","groupedElements","elementValues","images","mimes","imagesTemp","form","group","required","type","title","date","description","console","log","getTest","getTestTypes","back","get","subscribe","data","types","diagnosticTestTypes","error","id","json","diagnosticTestType","diagnosticTypeId","media","treeIterate","elements","sort","a","b","localeCompare","values","name","created_at","patchValue","split","pop","temporaryUrl","file_name","create","loading","present","value","current","Date","data_prestacio","transform","setValue","private_test","forEach","item","push","mime","endpoint","post","navigate","dismiss","buttons","header","instant","text","handler","addImage","addFile","role","actionSheet","getFile","fileUri","convertFileSrc","dataURI","savePicture","source","getPhoto","quality","allowEditing","resultType","DataUrl","image","dataUrl","filename","getTime","saveBase64","toString","res","uploadFile","err","base64","Promise","resolve","reject","realData","blob","b64toBlob","writeFile","cacheDirectory","b64Data","contentType","sliceSize","byteCharacters","atob","byteArrays","offset","length","slice","byteNumbers","Array","i","charCodeAt","byteArray","Uint8Array","Blob","e1","e2","obj","stack","property","hasOwnProperty","window","open","selector","template","route","alertController","elementList","snapshot","paramMap","tzoffset","getTimezoneOffset","localISOTime","now","toISOString","idSelected","loadElementsAvailable","undefined","alert","element","find","elem","parseFloat","max","units","min","isValid","postData","date_value","value2","msg","replaceUrl","scores","score"],"mappings":"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","file":"add-add-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddPage } from './add.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddPage\n  },\n  {\n    path: 'sucess',\n    loadChildren: () => import('./sucess/sucess.module').then( m => m.SucessPageModule)\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddPageRoutingModule {}\n","export default \"<custom-header></custom-header>\\n<ion-content [ngStyle]=\\\"{'background': 'url(' + backgroundImage + ')'}\\\" fullscreen>\\n    <page-header title=\\\"{{'side-menu.salut' | translate}}\\\" [icon]=\\\"'assets/icons/i_la_meva_salut.svg'\\\">\\n    </page-header>\\n  <div class=\\\"main-container\\\">\\n\\n    <ion-card lines=\\\"none\\\" style=\\\"padding: 4%;\\\">\\n        <div class=\\\"card-title\\\" lines=\\\"none\\\">\\n            <p>{{ 'ElementsPage.value' | translate }}</p>\\n            <h4>{{name}}</h4>\\n        </div>\\n        <ion-item lines=\\\"none\\\" *ngIf=\\\"id==null\\\">\\n            <ion-label>{{ 'ElementsPage.element' | translate }}</ion-label>\\n            <ion-select [(ngModel)]=\\\"idSelected\\\">\\n                <ion-select-option *ngFor=\\\"let item of elementList\\\" value=\\\"{{item.id}}\\\">{{item.name}}\\n                </ion-select-option>\\n            </ion-select>\\n        </ion-item>\\n\\n        <!-- </ion-card>\\n\\n    <ion-card lines=\\\"none\\\" style=\\\"padding: 4%;\\\"> -->\\n\\n        <ion-item lines=\\\"none\\\">\\n            <ion-label>{{ 'commons.date' | translate }}</ion-label>\\n            <ion-datetime displayFormat=\\\"MMM DD YYYY\\\" pickerFormat=\\\"DD/MM/YYYY\\\" [(ngModel)]=\\\"date\\\" cancelText=\\\"Cancelar\\\"\\n                doneText=\\\"Hecho\\\"></ion-datetime>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\">\\n            <ion-label>{{ 'Hora' | translate }}</ion-label>\\n            <ion-datetime displayFormat=\\\"h:mm A\\\" pickerFormat=\\\"h mm A\\\" [(ngModel)]=\\\"date\\\"\\n                cancelText=\\\"{{'Cancelar' | translate}}\\\" doneText=\\\"{{'Hecho' | translate}}\\\"></ion-datetime>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\" *ngIf=\\\"id!=20 && idSelected!=20\\\">\\n            <ion-label floating>{{ 'Valor' | translate }}</ion-label>\\n            <ion-input type=\\\"number\\\" [(ngModel)]=\\\"value\\\"></ion-input>\\n        </ion-item>\\n        <ion-item *ngIf=\\\"id==20 || idSelected==20\\\">\\n            <ion-label floating>{{ 'TA Alta' | translate }}</ion-label>\\n            <ion-input type=\\\"number\\\" [(ngModel)]=\\\"value\\\"></ion-input>\\n        </ion-item>\\n        <ion-item *ngIf=\\\"id==20 || idSelected==20\\\">\\n            <ion-label floating>{{ 'TA Baja' | translate }}</ion-label>\\n            <ion-input type=\\\"number\\\" [(ngModel)]=\\\"value2\\\"></ion-input>\\n        </ion-item>\\n        <ion-row>\\n            <ion-col>\\n                <ion-button expand=\\\"block\\\" (click)=\\\"addData()\\\">{{ 'commons.save' | translate }}</ion-button>\\n            </ion-col>\\n        </ion-row>\\n    </ion-card>\\n</div> \\n</ion-content>\";","export default \"ion-slides {\\n  max-height: 300px;\\n}\\n\\n.swiper-wrapper {\\n  max-height: 300px !important;\\n  background: #e6e6e6;\\n}\\n\\nion-slide.swiper-slide {\\n  left: 25%;\\n}\\n\\n.slide-zoom {\\n  background: #e6e6e6;\\n}\\n\\n.thumb-img {\\n  padding: 10px;\\n}\\n\\nion-content {\\n  --background: none;\\n  background-position: center top;\\n  background-repeat: no-repeat !important;\\n  background-size: cover !important;\\n}\\n\\n.input-group {\\n  border-radius: 0%;\\n}\\n\\n.buttonAdd {\\n  --background: white;\\n  color: #858484;\\n  padding-left: 50%;\\n}\\n\\n.files-section {\\n  margin: calc(var(--page-margin) * 2) var(--page-margin) var(--page-margin);\\n  padding-bottom: var(--page-margin);\\n  border-bottom: 1px solid var(--ion-color-light-shade);\\n}\\n\\n.files-section .heading-row {\\n  margin-bottom: var(--page-margin);\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n.files-section .files-row {\\n  --ion-grid-columns: 7;\\n  --ion-grid-column-padding: 0px;\\n  flex-wrap: nowrap;\\n  overflow-x: scroll;\\n  will-change: scroll-position;\\n  margin-left: calc(var(--page-margin) * -1);\\n  margin-right: calc(var(--page-margin) * -1);\\n}\\n\\n.files-section .files-row::before, .files-section .files-row::after {\\n  content: \\\"\\\";\\n  flex: 0 0 calc(var(--page-margin) - var(--page-friends-gutter));\\n}\\n\\n.files-section .files-row .file-item {\\n  --col-item-width: 2;\\n  flex: 0 0 calc(calc(var(--col-item-width) / var(--ion-grid-columns, 12)) * 100%);\\n  width: calc(calc(var(--col-item-width) / var(--ion-grid-columns, 12)) * 100%);\\n  max-width: calc(calc(var(--col-item-width) / var(--ion-grid-columns, 12)) * 100%);\\n  padding: 2px var(--page-friends-gutter);\\n}\\n\\n.files-section .files-row .file-item .file-name {\\n  display: block;\\n  text-align: center;\\n  margin: var(--page-margin) 0px;\\n  font-size: 14px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2FkZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUk7RUFDSSxpQkFBQTtBQURSOztBQUlJO0VBQ0ksNEJBQUE7RUFDQSxtQkFBQTtBQURSOztBQUlJO0VBQ0ksU0FBQTtBQURSOztBQUlJO0VBQ0ksbUJBQUE7QUFEUjs7QUFJSTtFQUNJLGFBQUE7QUFEUjs7QUFJSTtFQUNJLGtCQUFBO0VBQ0EsK0JBQUE7RUFDQSx1Q0FBQTtFQUNBLGlDQUFBO0FBRFI7O0FBR007RUFDRixpQkFBQTtBQUFKOztBQUVBO0VBQ0ksbUJBQUE7RUFDQSxjQUFBO0VBQ0EsaUJBQUE7QUFDSjs7QUFFQTtFQUNJLDBFQUFBO0VBQ0Esa0NBQUE7RUFDQSxxREFBQTtBQUNKOztBQUNJO0VBQ0UsaUNBQUE7RUFDQSw4QkFBQTtFQUNBLG1CQUFBO0FBQ047O0FBRUk7RUFDRSxxQkFBQTtFQUNBLDhCQUFBO0VBRUEsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLDRCQUFBO0VBQ0EsMENBQUE7RUFDQSwyQ0FBQTtBQUROOztBQWtCWTtFQUVJLFdBQUE7RUFFQSwrREFBQTtBQWxCaEI7O0FBcUJNO0VBQ0UsbUJBQUE7RUFFQSxnRkFBQTtFQUNBLDZFQUFBO0VBQ0EsaUZBQUE7RUFFQSx1Q0FBQTtBQXJCUjs7QUF1QlE7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSw4QkFBQTtFQUNBLGVBQUE7QUFyQlYiLCJmaWxlIjoiYWRkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuXG4gICAgaW9uLXNsaWRlc3tcbiAgICAgICAgbWF4LWhlaWdodDogMzAwcHg7XG4gICAgfVxuXG4gICAgLnN3aXBlci13cmFwcGVye1xuICAgICAgICBtYXgtaGVpZ2h0OiAzMDBweCAhaW1wb3J0YW50O1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZTZlNmU2O1xuICAgIH1cblxuICAgIGlvbi1zbGlkZS5zd2lwZXItc2xpZGUge1xuICAgICAgICBsZWZ0OiAyNSU7XG4gICAgfVxuXG4gICAgLnNsaWRlLXpvb20ge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZTZlNmU2O1xuICAgIH1cblxuICAgIC50aHVtYi1pbWcge1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgIH1cblxuICAgIGlvbi1jb250ZW50IHtcbiAgICAgICAgLS1iYWNrZ3JvdW5kOiBub25lO1xuICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgdG9wO1xuICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0ICFpbXBvcnRhbnQ7XG4gICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXIgIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC5pbnB1dC1ncm91cHtcbiAgICBib3JkZXItcmFkaXVzOiAwJTtcbiAgfVxuLmJ1dHRvbkFkZHtcbiAgICAtLWJhY2tncm91bmQ6IHdoaXRlO1xuICAgIGNvbG9yOnJnYigxMzMsIDEzMiwgMTMyKTtcbiAgICBwYWRkaW5nLWxlZnQ6IDUwJTtcbn1cblxuLmZpbGVzLXNlY3Rpb24ge1xuICAgIG1hcmdpbjogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgKiAyKSB2YXIoLS1wYWdlLW1hcmdpbikgdmFyKC0tcGFnZS1tYXJnaW4pO1xuICAgIHBhZGRpbmctYm90dG9tOiB2YXIoLS1wYWdlLW1hcmdpbik7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1saWdodC1zaGFkZSk7XG4gIFxuICAgIC5oZWFkaW5nLXJvdyB7XG4gICAgICBtYXJnaW4tYm90dG9tOiB2YXIoLS1wYWdlLW1hcmdpbik7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIH1cbiAgXG4gICAgLmZpbGVzLXJvdyB7XG4gICAgICAtLWlvbi1ncmlkLWNvbHVtbnM6IDc7IC8vIFdlIHdhbnQgdG8gc2hvdyB0aHJlZSBmcmllbmRzIGFuZCBhIGhhbGYuIEVhY2ggZnJpZW5kIGZpbGxzIDIgY29scyA9PiAoMy41ICogMiA9IDcgY29scylcbiAgICAgIC0taW9uLWdyaWQtY29sdW1uLXBhZGRpbmc6IDBweDtcbiAgXG4gICAgICBmbGV4LXdyYXA6IG5vd3JhcDtcbiAgICAgIG92ZXJmbG93LXg6IHNjcm9sbDtcbiAgICAgIHdpbGwtY2hhbmdlOiBzY3JvbGwtcG9zaXRpb247XG4gICAgICBtYXJnaW4tbGVmdDogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgKiAtMSk7XG4gICAgICBtYXJnaW4tcmlnaHQ6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pICogLTEpO1xuICBcbiAgICAgLy8gSGlkZSBzY3JvbGxiYXJzOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzg5OTQ4MzcvMTExNjk1OVxuICAgICAgICBAbWl4aW4gaGlkZS1zY3JvbGxiYXJzKCkge1xuICAgICAgICAgICAgLy8gSUUgMTArXG4gICAgICAgICAgICAtbXMtb3ZlcmZsb3ctc3R5bGU6IG5vbmU7XG4gICAgICAgIFxuICAgICAgICAgICAgLy8gRmlyZWZveFxuICAgICAgICAgICAgb3ZlcmZsb3c6IC1tb3otc2Nyb2xsYmFycy1ub25lO1xuICAgICAgICAgICAgc2Nyb2xsYmFyLXdpZHRoOiBub25lO1xuICAgICAgICBcbiAgICAgICAgICAgIC8vIFNhZmFyaSBhbmQgQ2hyb21lXG4gICAgICAgICAgICAmOjotd2Via2l0LXNjcm9sbGJhciB7XG4gICAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAgICAgJjo6YmVmb3JlLFxuICAgICAgICAgICAgJjo6YWZ0ZXIge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgICAgICAgICAgIC8vIC5mcmllbmQtaXRlbSBoYXMgOHB4IG9mIHNpZGUgcGFkZGluZywgd2UgbmVlZCBhbiBleHRyYSA0cHggYXQgdGhlIGJlZ2lubmluZyBhbmQgZW5kIHRvIGZpbGwgdGhlIDEycHggc2lkZSBtYXJnaW4gb2YgdGhlIHZpZXdcbiAgICAgICAgICAgICAgICBmbGV4OiAwIDAgY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLSB2YXIoLS1wYWdlLWZyaWVuZHMtZ3V0dGVyKSk7XG4gICAgICAgICAgICB9XG4gIFxuICAgICAgLmZpbGUtaXRlbSB7XG4gICAgICAgIC0tY29sLWl0ZW0td2lkdGg6IDI7XG4gICAgICAgIC8vIFNTUiBmaXg6IE92ZXJyaWRlIGlvbi1jb2wgc3R5bGVzXG4gICAgICAgIGZsZXg6IDAgMCBjYWxjKGNhbGModmFyKC0tY29sLWl0ZW0td2lkdGgpIC8gdmFyKC0taW9uLWdyaWQtY29sdW1ucywgMTIpKSAqIDEwMCUpO1xuICAgICAgICB3aWR0aDogY2FsYyhjYWxjKHZhcigtLWNvbC1pdGVtLXdpZHRoKSAvIHZhcigtLWlvbi1ncmlkLWNvbHVtbnMsIDEyKSkgKiAxMDAlKTtcbiAgICAgICAgbWF4LXdpZHRoOiBjYWxjKGNhbGModmFyKC0tY29sLWl0ZW0td2lkdGgpIC8gdmFyKC0taW9uLWdyaWQtY29sdW1ucywgMTIpKSAqIDEwMCUpO1xuICBcbiAgICAgICAgcGFkZGluZzogMnB4IHZhcigtLXBhZ2UtZnJpZW5kcy1ndXR0ZXIpO1xuICBcbiAgICAgICAgLmZpbGUtbmFtZSB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgIG1hcmdpbjogdmFyKC0tcGFnZS1tYXJnaW4pIDBweDtcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0iXX0= */\";","export default \"ion-content {\\n  --background: none;\\n  background-position: center top;\\n  background-repeat: no-repeat !important;\\n  background-size: cover !important;\\n}\\n\\nion-card {\\n  border-bottom: 2pt solid #006488;\\n  border-radius: 0%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2FkZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLCtCQUFBO0VBQ0EsdUNBQUE7RUFDQSxpQ0FBQTtBQUNKOztBQUNFO0VBQ0UsZ0NBQUE7RUFDQSxpQkFBQTtBQUVKIiwiZmlsZSI6ImFkZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gICAgLS1iYWNrZ3JvdW5kOiBub25lO1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciB0b3A7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdCAhaW1wb3J0YW50O1xuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXIgIWltcG9ydGFudDtcbiAgfVxuICBpb24tY2FyZHtcbiAgICBib3JkZXItYm90dG9tOiAycHQgc29saWQgIzAwNjQ4ODtcbiAgICBib3JkZXItcmFkaXVzOiAwJTtcbiAgfSJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { AddPageRoutingModule } from './add-routing.module';\nimport { AddPage } from './add.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { Chooser } from '@ionic-native/chooser/ngx';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    AddPageRoutingModule,\n    TranslateModule,\n    ComponentsModule,\n  ],\n  providers:[Chooser],\n  declarations: [AddPage]\n})\nexport class AddPageModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddPageRoutingModule } from './add-routing.module';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AddPage } from './add.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddPageRoutingModule,\n    ComponentsModule,\n    TranslateModule\n  ],\n  declarations: [AddPage]\n})\nexport class AddPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {AuthenticationService} from \"../../../../../services/authentication.service\";\nimport {ActionSheetController, LoadingController} from \"@ionic/angular\";\nimport {HttpErrorResponse} from \"@angular/common/http\";\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { DatePipe } from '@angular/common';\nimport { File } from '@ionic-native/file/ngx';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Plugins, CameraSource, CameraResultType, Capacitor, } from '@capacitor/core';\nimport { DooleService } from 'src/app/services/doole.service';\nimport { Router } from '@angular/router';\nimport { Chooser } from '@ionic-native/chooser/ngx';\nimport { getRandomBackground } from 'src/app/shared/classes/utils';\nconst { Camera, Filesystem } = Plugins;\n@Component({\n  selector: 'app-add',\n  templateUrl: './add.page.html',\n  styleUrls: ['./add.page.scss'],\n  providers: [DatePipe]\n})\nexport class AddPage implements OnInit {\n  \n  backgroundImage: string = getRandomBackground();\n  public isNewTest:boolean = history.state.action == 'add';\n  form: FormGroup;\n  diagnosticTest: any = [];\n  public diagnosticType: any = [];\n  public diagnosticTypeId: string;\n  mediaFiles: any = [];\n  groupedElements: any = [];\n  elementValues: any = [];\n  public types: any;\n  private images : any = [];\n  private mimes : any = [];\n  private imagesTemp : any = [];\n\n  \n  constructor(private authService: AuthenticationService,\n              private loadingController: LoadingController,\n              private router: Router,\n              private fb: FormBuilder,\n              public datepipe: DatePipe,\n              public actionSheetCtrl: ActionSheetController,\n              public doole: DooleService,\n              public file: File, \n              private translate : TranslateService,\n              private chooser: Chooser) { \n                \n              }\n\n  ngOnInit() {\n    this.form = this.fb.group({\n      private: [+false, [Validators.required]],\n      type: ['', [Validators.required]],\n      title: ['', [Validators.required]],\n      date: ['', [Validators.required]],\n      description: ['', [Validators.required]],\n      images:[this.images]\n    });\n    \n    console.log(\"is new? :\", this.isNewTest);\n\n    if(!this.isNewTest) \n      this.getTest();\n    else  \n      this.getTestTypes();\n    \n  }\n\n  goback(){\n    history.back();\n  }\n  // Search user's tests\n  async getTestTypes(){\n    \n    this.authService.get('diagnosticTestTypes/available').subscribe(\n        async (data) => {\n         \n          console.log(\"diagnosticTestTypes/available: \", data);\n          this.types = data.diagnosticTestTypes;\n\n        },\n        (error) => {\n          // Called when error\n          console.log(\"error: \", error);\n          throw new HttpErrorResponse(error);\n        },\n        () => {\n          // Called when operation is complete (both success and error)\n          \n        });\n  }\n\n  async getTest(){\n    \n    let id = history.state.id;\n    this.authService.get('user/diagnosticTest/'+id).subscribe(\n        async (json) => {\n          this.getTestTypes();\n          console.log('getTest: ', await json);\n          \n          console.log('this.id : ', id);\n\n          this.diagnosticTest = json.diagnosticTest;\n          this.diagnosticType = json.diagnosticTestType;\n          this.diagnosticTypeId = this.diagnosticType.id\n\n          console.log(\"this.diagnosticType ID: \",this.diagnosticType.id);\n          if (json.diagnosticTest.media){\n            this.mediaFiles = json.diagnosticTest.media;\n            \n          }\n          // Iterate elements in the tree searching for element groups\n          this.treeIterate(json.elements, '');\n\n          // Order data by group Name\n          this.groupedElements.sort(function(a,b){\n            return a.group.localeCompare(b.group);\n          })\n\n          this.elementValues = json.elementValues;\n\n          let values = {\n            private:this.diagnosticTest.private,\n            type:this.diagnosticTest.name,\n            title:this.diagnosticTest.title,\n            date: this.diagnosticTest.created_at,\n            description: this.diagnosticTest.description,\n            images:[this.images]\n          }\n\n          this.form.patchValue(values);\n\n        },\n        (error) => {\n          // Called when error\n          console.log(\"error: \", error);\n          throw new HttpErrorResponse(error);\n        },\n        () => {\n          // Called when operation is complete (both success and error)\n         \n        });\n  }\n\n  getThumbnail(m){\n   if(m.file)\n    return m.file.split('.').pop() == 'pdf'? 'assets/icons/pdf-thumbnail.svg' : m.temporaryUrl;\n    else if(m.file_name)\n    return m.file_name.split('.').pop() == 'pdf'? 'assets/icons/pdf-thumbnail.svg' : m.temporaryUrl;\n    else  \n    return m.temporaryUrl;\n  }\n  // Save new diagnostic test\n  async submit(){\n\n    console.log('submit');\n    const loading = await this.loadingController.create();\n    await loading.present();\n\n    let date = this.form.get('date').value; \n    var current = new Date(date.split('T')[0]);\n    let data_prestacio = this.datepipe.transform(current, 'dd/MM/YYYY');\n    this.form.get('date').setValue(data_prestacio);\n\n    let private_test = this.form.get('private').value ? 1 : 0;\n    this.form.get('private').setValue(private_test);\n    \n\n    this.mediaFiles.forEach(item => {\n      this.images.push(item.file);\n      this.mimes.push(item.mime);     \n    });\n\n    const endpoint = this.isNewTest ? 'user/diagnosticTests':  'user/diagnosticTest/'+ this.diagnosticTest.id;\n    \n    this.authService.post(endpoint, this.form.value).subscribe(\n        async (data) => {\n          console.log(\"data:\", data);\n          this.router.navigate(['app/home/wellbeing/diagnostictests/add/sucess']);\n          \n        },\n        (error) => {\n          // Called when error\n          loading.dismiss();\n          console.log(\"error: \", error);\n          throw new HttpErrorResponse(error);\n        },\n        () => {\n          // Called when operation is complete (both success and error)\n          loading.dismiss();\n        });\n  }\n\n  async selectImageSource() {\n\n    const buttons = {\n      header: this.translate.instant('Seleccionar'),\n      buttons: [\n        {\n          text: this.translate.instant('Cámara'),\n          handler: () => {\n            this.addImage(CameraSource.Camera);\n          }\n        },{\n          text: this.translate.instant('Archivos'),\n          handler: () => {\n            this.addFile();\n          }\n        },{\n          text: this.translate.instant('Cancelar'),\n          role: 'cancel',\n          handler: () => {\n          }\n        }/*,{\n          text: this.translate.instant('Geolocalización'),\n          handler: () => {\n            this.navCtrl.push('GeolocationPage', {id:this.id, to:this.to});\n          }\n        }*/\n      ]\n    }\n\n    const actionSheet = await this.actionSheetCtrl.create(\n      buttons\n    );\n    await actionSheet.present();    \n    \n  }\n\n  async addFile(){\n    \n    this.chooser.getFile().then(async file => {\n      console.log(file ? file.name : 'canceled');\n      var fileUri = Capacitor.convertFileSrc(file.dataURI);\n      await this.savePicture(fileUri);\n      console.log(\"addfile fileUri: \", fileUri);\n    }).catch((error: any) => {\n      console.error(error)});\n  }\n\n  async addImage(source: CameraSource) {\n    const image = await Camera.getPhoto({\n      quality: 60,\n      allowEditing: false,\n      resultType: CameraResultType.DataUrl,\n      source\n    });\n\n    if(image){\n      console.log(\"image: \", image);\n      var fileUri = Capacitor.convertFileSrc(image.dataUrl);\n      console.log(\"addImage - savePicture fileUri: \", fileUri);\n      await this.savePicture(fileUri);\n    }else{\n      console.log(\"no image\");\n    }\n  }\n\n  async savePicture(fileUri){\n \n    //const loading = await this.loadingController.create();\n    //await loading.present();\n    var filename=new Date().getTime();\n    this.saveBase64(fileUri,filename.toString()).then(res => {\n      console.log(\"saveBase64 res: \",res);\n      this.doole.uploadFile(res).then(data => {\n        console.log(\"uploadFile res: \",res);\n        this.mediaFiles.push(data);\n        this.imagesTemp.push(data);\n        console.log(\" this.mediafiles.: \", this.mediaFiles);\n        //loading.dismiss();\n      }).catch(err => {\n        console.log(\"Error uploadFile: \", err);\n        //loading.dismiss();\n      }).finally(() => {\n        //loading.dismiss();\n      })\n     \n    });\n\n  }\n\n  public saveBase64(base64:string, name:string):Promise<string>{\n    return new Promise((resolve, reject)=>{\n      var realData = base64.split(\",\")[1]\n      let blob=this.b64toBlob(realData, 'image/jpeg');\n\n      this.file.writeFile(this.file.cacheDirectory, name, blob)\n      .then(()=>{\n        resolve(this.file.cacheDirectory+name);\n      })\n      .catch((err)=>{\n        console.log(err);\n        console.log('error writing blob');\n        reject(err);\n      })\n    })\n  }\n\n  b64toBlob(b64Data, contentType) {\n    contentType = contentType || '';\n    var sliceSize = 512;\n    var byteCharacters = atob(b64Data);\n    var byteArrays = [];\n\n    for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n        var slice = byteCharacters.slice(offset, offset + sliceSize);\n        var byteNumbers = new Array(slice.length);\n        for (var i = 0; i < slice.length; i++) {\n            byteNumbers[i] = slice.charCodeAt(i);\n        }\n        var byteArray = new Uint8Array(byteNumbers);\n        byteArrays.push(byteArray);\n    }\n\n  var blob = new Blob(byteArrays, {type: contentType});\n  console.log(\"this is bob: \", blob);\n  return blob;\n  }\n\n  public compareFn(e1: number, e2: number): boolean {\n    console.log('Test for', e1 == e2 );\n    return e1 && e2 ? e1 == e2 : false;\n  }\n\n  treeIterate(obj, stack) {\n    for (var property in obj) {\n      if (obj.hasOwnProperty(property)) {\n        if (typeof obj[property] == \"object\") {\n          this.treeIterate(obj[property], stack + '.' + property);\n        } else {\n          if(property==\"group\")\n            this.groupedElements.push(obj);\n        }\n      }\n    }\n  }\n  openFile(media){\n    console.log(\"media\", media);\n    window.open(media.temporaryUrl, \"\");\n    //this.dooleService.post(\"message/temporaryUrl\", {file:media.fileUrl}).subscribe(data=>{\n    //  console.log('post(\"message/temporaryUrl\"', data);\n    //});\n  }\n}\n","export default \"<custom-header></custom-header>\\n<ion-content\\n  class=\\\"back\\\"\\n  [ngStyle]=\\\"{'background': 'url(' + backgroundImage + ')'}\\\"\\n  fullscreen\\n>\\n  <page-header\\n    title=\\\"{{ 'diagnostics.header' | translate}}\\\"\\n    icon=\\\"assets/icons/i_historia_clinica_digital.svg\\\"\\n  >\\n  </page-header>\\n  <div class=\\\"main-container\\\">\\n    <ion-text>{{  (this.isNewTest ? 'diagnostics.add_text' : 'diagnostics.edit_text') | translate }}</ion-text>\\n   \\n    <ng-container *ngIf=\\\"!this.isNewTest && !this.types;else showForm\\\">\\n      <div style=\\\"margin: 20px 40px; text-align: center;\\\">\\n        <ion-spinner></ion-spinner>\\n        <p>\\n          <b>{{ 'appointments.agenda' | translate }}</b>\\n        </p>\\n      </div>\\n    </ng-container>\\n   \\n    <ng-template #showForm>\\n      <form\\n      (ngSubmit)=\\\"submit()\\\"\\n      [formGroup]=\\\"form\\\"\\n      style=\\\"padding-top: 15%\\\"\\n    >\\n    <div class=\\\"input-group\\\">\\n      <ion-item lines=\\\"none\\\">\\n        <ion-label>{{ 'diagnostics.private' | translate }}</ion-label>\\n        <ion-checkbox color=\\\"primary\\\" formControlName=\\\"private\\\"></ion-checkbox>\\n      </ion-item>\\n      </div>\\n      <div class=\\\"input-group\\\">\\n        <ion-item lines=\\\"none\\\">\\n          <ion-input\\n            formControlName=\\\"title\\\"\\n            placeholder=\\\"{{ 'diagnostics.placeholderTitle' | translate }}\\\"\\n          ></ion-input>\\n        </ion-item>\\n      </div>\\n      <div class=\\\"input-group\\\">\\n        <ion-select placeholder=\\\"{{ 'diagnostics.type' | translate }}\\\" formControlName=\\\"type\\\" style=\\\"padding-top: 5%;\\\" [(ngModel)]=\\\"this.diagnosticTypeId\\\" [compareWith]=\\\"compareFn\\\" interface=\\\"action-sheet\\\">\\n          <ion-select-option *ngFor=\\\"let t of types\\\" value=\\\"{{t.id}}\\\" >\\n            {{t.name}}\\n          </ion-select-option>\\n        </ion-select>\\n      </div>\\n      <div class=\\\"input-group\\\">\\n        <ion-item lines=\\\"none\\\">\\n          <ion-datetime\\n            displayFormat=\\\"DD/MM/YYYY\\\"\\n            formControlName=\\\"date\\\"\\n            placeholder=\\\"{{ 'diagnostics.date' | translate }}\\\"\\n          ></ion-datetime>\\n        </ion-item>\\n      </div>\\n      <div class=\\\"input-group\\\">\\n        <ion-item lines=\\\"none\\\">\\n          <ion-textarea\\n            formControlName=\\\"description\\\"\\n            placeholder=\\\"{{ 'diagnostics.description' | translate }}\\\"\\n          ></ion-textarea>\\n        </ion-item>\\n      </div>\\n      <div class=\\\"input-group\\\">\\n        <ion-input class=\\\"buttonAdd\\\" (click)=\\\"selectImageSource()\\\">\\n          &nbsp;&nbsp;&nbsp;\\n          <ion-icon slot=\\\"end\\\" src=\\\"assets/icons/clip_negro.svg\\\"></ion-icon>\\n          {{ 'diagnostics.placeholderDoc' | translate }}\\n        </ion-input>\\n      </div>\\n\\n      <div class=\\\"files-section\\\">\\n        <ion-row class=\\\"heading-row\\\">\\n        </ion-row>\\n        <ion-row class=\\\"files-row\\\">\\n          <ion-col class=\\\"file-item\\\" *ngFor=\\\"let m of mediaFiles\\\">\\n            <app-aspect-ratio [ratio]=\\\"{w: 1, h: 1}\\\">\\n              <app-image-shell class=\\\"file-picture\\\" [src]=\\\"getThumbnail(m)\\\" (click)=\\\"openFile(m)\\\"></app-image-shell>\\n            </app-aspect-ratio>\\n            <span class=\\\"file-name\\\">\\n             \\n            </span>\\n          </ion-col>\\n        </ion-row>\\n      </div>\\n  \\n        <!-- <ion-row style=\\\"padding-top: 10%\\\"><ion-col col-3><ion-button expand=\\\"block\\\" >CANCELAR\\n        \\n      </ion-button>\\n    </ion-col><ion-col col-3 > <ion-button type=\\\"submit\\\" expand=\\\"block\\\" color=\\\"primary\\\" [disabled]=\\\"!diagnosticTest.valid\\\">\\n      {{'diagnostics.add_test'  | translate  | uppercase}}\\n    </ion-button></ion-col></ion-row> -->\\n        <!-- <ion-button (click)=\\\"selectImageSource()\\\"><ion-icon slot=\\\"end\\\" name=\\\"add\\\"></ion-icon>\\n        {{ 'diagnostics.add_image' | translate }}\\n      </ion-button>\\n    \\n      <ion-button type=\\\"submit\\\" color=\\\"primary\\\" [disabled]=\\\"!diagnosticTest.valid\\\">\\n        {{ 'diagnostics.save' | translate }}\\n      </ion-button> -->\\n\\n      <ion-row style=\\\"text-align: end\\\">\\n        <ion-col size=\\\"6\\\">\\n          <ion-button\\n            color=\\\"primary\\\"\\n           (click)=\\\"this.goback()\\\"\\n            \\n          >\\n            {{'cancelar' | translate | uppercase}}\\n          </ion-button>\\n        </ion-col>\\n        <ion-col size=\\\"6\\\">\\n          <ion-button\\n            color=\\\"primary\\\"\\n            [disabled]=\\\"!form.valid\\\"\\n            (click)=\\\"submit()\\\"\\n          >\\n            {{ (this.isNewTest ? 'diagnostics.add_test' : 'diagnostics.edit_test') | translate | uppercase}}\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </form>\\n    </ng-template>\\n   \\n  </div>\\n</ion-content>\\n\";","import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {HttpErrorResponse} from '@angular/common/http';\nimport { ActionSheetController, AlertController, LoadingController } from \"@ionic/angular\";\nimport {AuthenticationService} from '../../../../../services/authentication.service';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { getRandomBackground } from 'src/app/shared/classes/utils';\n\n@Component({\n  selector: 'app-add',\n  templateUrl: './add.page.html',\n  styleUrls: ['./add.page.scss'],\n})\nexport class AddPage implements OnInit {\n  \n  backgroundImage: string = getRandomBackground();\n\n  public elementList: any = [];\n  public id: any;\n  public idSelected: any;\n  public name: string;\n  public date: any;\n  public value: any;\n  public value2: any;\n  \n\n  constructor(private route: ActivatedRoute,\n              private authService: AuthenticationService,\n              private router: Router,\n              public alertController: AlertController,\n              private translate: TranslateService,\n              private loadingController: LoadingController) {\n    this.id = this.route.snapshot.paramMap.get('id');\n    this.name = this.route.snapshot.paramMap.get('name');\n\n    const tzoffset = (new Date()).getTimezoneOffset() * 60000; // offset in milliseconds\n    const localISOTime = (new Date(Date.now() - tzoffset)).toISOString().slice(0, -1);\n    this.date = localISOTime;\n\n    if (this.id !== null){\n      this.idSelected = this.id;\n    }\n\n  }\n\n  ngOnInit() {\n    this.loadElementsAvailable();\n  }\n\n  async loadElementsAvailable(){\n    const loading = await this.loadingController.create();\n    await loading.present();\n\n    const id = this.id == null ? '' : this.id;\n\n    this.authService.get('element/available/' + id ).subscribe(\n        async (data) => {\n          this.elementList = data.elements;\n        },\n        (error) => {\n          // Called when error\n          console.log('error: ', error);\n          throw new HttpErrorResponse(error);\n        },\n        () => {\n          // Called when operation is complete (both success and error)\n          loading.dismiss();\n        });\n  }\n\n  isValid(){\n\n    if (this.idSelected === '' || this.idSelected === undefined) {\n      //return alert('ElementsPage.text1');\n      return alert(this.translate.instant('ElementsPage.text1'));\n     \n    }\n\n    if (this.value == null || this.value === '') {\n      //return alert('ElementsPage.text2');\n       return alert(this.translate.instant('ElementsPage.text2'));\n    }\n\n    var element = this.elementList.find(elem => elem.id == this.idSelected);\n    console.log(this.elementList);\n    console.log(element);\n\n    if (typeof(parseFloat(element.max))  === 'number' && parseFloat(element.max) < parseFloat(this.value)) {\n       //return alert('ElementsPage.text3' + element.max + ' ' + element.units);\n      return alert(this.translate.instant('ElementsPage.text3')+ element.max + ' ' + element.units);\n    }\n\n    if (typeof(parseFloat(element.min))  === 'number' && parseFloat(element.min) > parseFloat(this.value)) {\n      //return alert('ElementsPage.text4' + element.min + ' ' + element.units);\n       return alert(this.translate.instant('ElementsPage.text4')+ element.min + ' ' + element.units);\n    }\n\n    return true;\n  }\n\n  async addData() {\n\n    if (this.isValid()) {\n      this.id = this.idSelected;\n    }else {\n      return;\n    }\n\n    const loading = await this.loadingController.create();\n    await loading.present();\n\n    const postData = {\n      date_value: this.date,\n      value: this.value,\n      value2: this.value2\n    };\n\n    this.authService.post('user/element/' + this.id + '/value/add', postData).subscribe(\n        async (data) => {\n          let msg = this.translate.instant('ElementsPage.textcorrect');\n       this.router.navigate(['/app/home/wellbeing/elements'], { replaceUrl: true });\n          if (data.scores){\n            if (data.scores.score){\n              msg = this.translate.instant('ElementsPage.textok') + data.scores.score + ' healthies 🥇';\n             \n              alert(msg);\n            }\n          }\n        },\n        (error) => {\n          // Called when error\n          console.log(\"error: \", error);\n          throw new HttpErrorResponse(error);\n        },\n        () => {\n          // Called when operation is complete (both success and error)\n          loading.dismiss();\n        });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddPage } from './add.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddPageRoutingModule {}\n"]}