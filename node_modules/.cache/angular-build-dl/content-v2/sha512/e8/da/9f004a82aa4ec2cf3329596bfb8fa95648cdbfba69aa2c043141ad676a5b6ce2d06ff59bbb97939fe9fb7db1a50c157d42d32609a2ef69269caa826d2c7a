{"version":3,"sources":["webpack:///src/app/pages/home/wellbeing/agenda/agenda-detail/agenda-detail.page.ts","webpack:///src/app/pages/home/wellbeing/agenda/agenda-detail/agenda-detail.module.ts","webpack:///src/app/pages/home/wellbeing/agenda/agenda-detail/agenda-detail-routing.module.ts","webpack:///src/app/pages/home/wellbeing/agenda/agenda-detail/agenda-detail.page.html","webpack:///src/app/pages/home/wellbeing/agenda/agenda-detail/agenda-detail.page.scss"],"names":["AgendaDetailPage","authService","appointmentService","alertController","translate","router","backgroundImage","agenda","hasDoctor","canEdit","fromHome","history","state","home","console","log","agendas","appointmentDate","Date","start_date_iso8601","now","setAgendaInfo","getTeladocUser2","agenda_type_id","showProcessing","location","title","description","instant","then","res","teladocUser","getTeladocCredentials","online","site","deleteAppointmentMGC","deleteTeladocVideocall","deleteAppointmentDoole","navigate","isOnline","appointmentType","isAppointmentChange","action","id","subscribe","data","deleteAppointment","error","user","mutua","ext_id","deleteAppointmentTeladoc","parseInt","project_id","message","route","text","create","cssClass","header","buttons","role","handler","blah","deleteAgenda","alert","present","navigateByUrl","getTeladocToken","client_code","teladocCredentials","getTeladocAppointmentInfo","doctor_id","selector","template","AgendaDetailPageModule","imports","declarations","routes","path","component","loadChildren","m","AgendaEditPageModule","AgendaDetailPageRoutingModule","forChild","exports"],"mappings":"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","file":"agenda-detail-agenda-detail-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AuthenticationService } from \"../../../../../services/authentication.service\";\nimport { TeladocCredentials, TeladocUser } from 'src/app/shared/classes/appointments';\nimport { AppointmentService } from 'src/app/services/appointment.service';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { getRandomBackground } from 'src/app/shared/classes/utils';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { throwError } from 'rxjs';\n\n@Component({\n  selector: 'app-agenda-detail',\n  templateUrl: './agenda-detail.page.html',\n  styleUrls: ['./agenda-detail.page.scss'],\n})\nexport class AgendaDetailPage implements OnInit {\n  \n  backgroundImage: string = getRandomBackground();\n  public agendaItems: [];\n  public agenda: any = {};\n  public location: string;\n  public attachments: string; \n  public description:string;\n  public hasDoctor: boolean = true;\n  public showProcessing: boolean;\n  public canEdit:boolean = true;\n  public fromHome: boolean = history.state?.home;\n  constructor(public authService: AuthenticationService,\n    private appointmentService: AppointmentService,\n    public alertController: AlertController,\n    private translate: TranslateService,\n    private router: Router) {\n\n  }\n\n  ngOnInit() {\n    this.agenda = history.state.agenda;\n    console.log('this.fromHome: ', this.fromHome);\n    console.log(' this.appointmentService.agenda ',  this.appointmentService.agendas);\n   \n    this.appointmentService.agenda = this.agenda;\n    \n    // Hide Edit button if appointment is over\n    let appointmentDate = new Date(this.agenda?.start_date_iso8601); \n    let now = new Date();\n    if (appointmentDate < now)\n      this.canEdit = false;\n  \n    this.setAgendaInfo();\n  }\n\n   async getTeladocUser2(): Promise<TeladocUser> {\n    return await this.appointmentService.getTeladocUser2();\n  }\n  \n  setAgendaInfo(){\n   \n    if(this.agenda.agenda_type_id == 6){\n      this.showProcessing = true;\n      this.location = this.agenda.title;\n      this.description = this.translate.instant('agenda.videocall-info');\n      this.getTeladocUser2().then((res: TeladocUser) => {\n        console.log('ITeladocUser: ', res);\n        this.appointmentService.teladocUser = res;\n        this.getTeladocCredentials();\n      });\n      // this.appointmentService.getTeladocUser().subscribe(\n      //   async (data: TeladocUser) => {\n      //     this.appointmentService.teladocUser = data;\n      //     this.getTeladocCredentials();\n       \n      //   }, async (error) => {\n      //     // Called when error\n      //     this.showProcessing = false;\n      //     error = error;\n      //     console.log(\"error:\", error);\n      //    return throwError(await error);\n      //   });\n  \n    }else if(this.agenda.agenda_type_id == 7){\n      this.location = this.agenda.online ? this.agenda.title: this.agenda.site + ', ' + this.agenda.description;\n      this.description = this.agenda.online ? this.translate.instant('agenda.videocall-info'): this.translate.instant('agenda.empty-description');\n    }else if(this.agenda.agenda_type_id == 8){\n      this.location = this.agenda.site;\n      this.description = this.translate.instant('agenda.empty-description');\n    }else{\n      this.location = this.agenda.site;\n      this.description = this.translate.instant('agenda.empty-description'); \n    }\n  }\n \n  async deleteAgenda() {\n\n    // Set headers and icons \n    console.log(\"this.agenda.agenda_type_id: \", this.agenda.agenda_type_id);\n   \n    switch (+this.agenda.agenda_type_id) {\n      case 5:\n        console.log(\"this.deleteAppointmentMGC()\", this.agenda);\n        this.deleteAppointmentMGC()\n        break;\n      case 6:\n        console.log(\"this.deleteTeladocVideocall();\", this.agenda);\n        this.deleteTeladocVideocall();\n        break;\n      case 7:\n        console.log(\"this.deleteAppointmentMGC()\", this.agenda);\n        this.deleteAppointmentMGC()\n        break;\n      case 8:\n        console.log(\" this.deleteAppointmentDoole();\", this.agenda);\n        this.deleteAppointmentDoole();\n        break;\n    }\n\n  }\n\n  async editAgenda() {\n    console.log(\"edit agenda agenda \", this.agenda);\n    if(this.agenda.agenda_type_id == 8){\n      this.router.navigate(['/app/home/wellbeing/agenda/agenda-add'], { state: { isOnline: this.agenda.online, appointmentType: this.agenda.agenda_type_id, agenda: this.agenda, isAppointmentChange: true, action : 'edit' } });\n    }else\n      this.router.navigate(['/app/home/healthcare/appointments'], { state: { isOnline: this.agenda.online, appointmentType: this.agenda.agenda_type_id, agenda: this.agenda, isAppointmentChange: true } });\n  }\n\n  async deleteAppointmentDoole(){\n    this.showProcessing = true;\n    this.appointmentService.deleteAppointmentDoole(this.agenda.id).subscribe(\n      async (data) => {\n        this.deleteAppointment();\n\n      }, async (error) => {\n        // Called when error\n        throw error;\n      }, \n      () => {\n        this.showProcessing = false;\n      });\n\n  }\n\n  async deleteAppointmentMGC() {\n    this.showProcessing = true;\n   \n    this.appointmentService.deleteAppointment(this.authService.user.mutua, this.agenda.ext_id, this.agenda.agenda_type_id, this.agenda.id).subscribe(\n      async (data) => {\n        console.log('deleteAppointmentMGC DELETE RESPONSE', data);\n        this.appointmentService.deleteAppointmentDoole(this.agenda.id).subscribe(\n          async (data) => {\n            console.log('DELETE DOOOLE AGENDA RESPONSE', data);\n            this.deleteAppointment();\n           \n          });   \n      }, async (error)=>{\n        console.log('deleteAppointmentMGC ERROR', error);\n        this.showProcessing = false;\n        throw error;\n     \n      }, \n      async () => {\n        console.log('deleteAppointmentMGC FINALLY');\n       \n      });\n\n  }\n\n  async deleteTeladocVideocall() {\n\n    this.showProcessing = true;\n\n    this.appointmentService.deleteAppointmentTeladoc(parseInt(this.agenda.ext_id), this.appointmentService.teladocUser.project_id).subscribe(\n      async (data) => {\n          console.log('TELADOC DELETE RESPONSE', data);\n          this.appointmentService.deleteAppointmentDoole(this.agenda.id).subscribe(\n            async (data) => {\n             \n              this.deleteAppointment();\n              \n            });\n          },\n          async (error)=>{\n            throw error;\n          }, \n          () => {\n            this.showProcessing = false;\n          });\n   \n  }\n\n  deleteAppointment(){\n   \n    this.router.navigate(['/app/home/wellbeing/agenda/success'], {state: {message:'agenda.delete_ok', route:'/app/home/wellbeing/agenda'}});\n    // this.authService.get('user/agenda').subscribe(\n    //   async (data) => {\n      \n    //     console.log(\"agendas: \", await data);\n        \n       \n    //   },\n    //   async (error) => {\n    //     // Called when error\n    //     return throwError(await error);\n    //   });\n  \n  }\n\n  async presentAlertConfirm(text) {\n    let message = this.translate.instant(text);\n\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: this.translate.instant('agenda.delete'),\n      message: message,\n      buttons: [\n        {\n          text: this.translate.instant('agenda.cancel'),\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel');\n          }\n        }, {\n          text: this.translate.instant('confirmation.button'),\n          handler: () => {\n            console.log('Deleting...');\n            this.deleteAgenda();\n          \n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  showAlert(message: string) {\n\n    this.alertController.create({\n     \n      message: message,\n      buttons: [{\n        text: 'Ok',\n        handler: () => {\n\n          if(this.fromHome)\n            this.router.navigateByUrl('/app/home');\n          else\n            this.router.navigateByUrl('/app/home/wellbeing/agenda');\n        }\n      }]\n    }).then(res => {\n      res.present();\n    });\n\n  }\n  async getTeladocCredentials() {\n\n    return this.appointmentService.getTeladocToken({ client_code: this.appointmentService.teladocUser.client_code, project_id: this.appointmentService.teladocUser.project_id }).subscribe(\n      async (data: TeladocCredentials) => {\n        this.appointmentService.teladocCredentials = data;\n\n        this.appointmentService.getTeladocAppointmentInfo(this.agenda.ext_id, this.appointmentService.teladocUser.project_id).subscribe(\n          async (res) => {\n            this.showProcessing = false;\n            console.log('info:', res); \n            if(!res.data.doctor_id){\n              this.hasDoctor = false;\n            }     \n          }, async (error) =>{\n            this.showProcessing = false;\n            this.hasDoctor = false;\n            console.error(\"error\", error);\n            return throwError(await error);\n          });\n\n      }, async (error) => {\n        // Called when error\n       return throwError(await error);\n      },\n      () => {\n        // Called when operation is complete (both success and error)\n      });\n\n  }\n\n  goToVideocall(){\n    \n    if(this.hasDoctor)\n      this.router.navigate(['/app/home/wellbeing/agenda/videocall/'+ this.agenda.id], {state: {appointmentType: this.agenda.agenda_type_id, agenda:this.agenda}})\n    else{\n      this.alertController.create({\n        message: this.translate.instant('agenda.no_doctor'),\n        buttons: ['OK']\n      }).then(res => {\n        res.present();\n      });\n    }\n    \n      \n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AgendaDetailPageRoutingModule } from './agenda-detail-routing.module';\n\nimport { AgendaDetailPage } from './agenda-detail.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AgendaDetailPageRoutingModule,\n    TranslateModule,\n    ComponentsModule\n  ],\n  declarations: [AgendaDetailPage]\n})\nexport class AgendaDetailPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AgendaDetailPage } from './agenda-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AgendaDetailPage\n  },\n  {\n    path: 'agenda-edit',\n    loadChildren: () => import('../agenda-edit/agenda-edit.module').then( m => m.AgendaEditPageModule)\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AgendaDetailPageRoutingModule {}\n","export default \"<custom-header></custom-header>\\n<ion-content\\n  class=\\\"back\\\"\\n  [ngStyle]=\\\"{'background': 'url(' + backgroundImage + ')'}\\\"\\n  fullscreen\\n>\\n  <page-header\\n    title=\\\"{{'agenda.header' | translate}}\\\"\\n    icon=\\\"assets/icons/i_agenda.svg\\\"\\n  >\\n  </page-header>\\n  <ion-content\\n    class=\\\"back\\\"\\n    [ngStyle]=\\\"{'background': 'url(' + backgroundImage + ')'}\\\"\\n    fullscreen\\n  >\\n    <div class=\\\"main-container\\\">\\n      <ng-container *ngIf=\\\"this.showProcessing else showAppointment\\\">\\n        <div style=\\\"margin: 20px 40px; text-align: center\\\">\\n          <ion-spinner></ion-spinner>\\n          <p>\\n            \\n          </p>\\n        </div>\\n      </ng-container>\\n\\n      <ng-template #showAppointment>\\n        <ion-text>{{ 'agenda.visit' | translate }} </ion-text>\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col size=\\\"2\\\">\\n              <ion-icon style=\\\"zoom: 1.7\\\" name=\\\"calendar\\\"></ion-icon></ion-col\\n            ><ion-col size=\\\"10\\\">{{ this.agenda?.start_date}}</ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"2\\\">\\n              <ion-icon style=\\\"zoom: 1.7\\\" name=\\\"pin\\\"></ion-icon> </ion-col\\n            ><ion-col size=\\\"10\\\">{{ this.location}}</ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"2\\\">\\n              <ion-icon style=\\\"zoom: 1.7\\\" name=\\\"document\\\"></ion-icon></ion-col\\n            ><ion-col size=\\\"10\\\">{{ this.description }}</ion-col>\\n          </ion-row>\\n        </ion-grid>\\n        <ion-row\\n          ><ion-col col-4\\n            ><ion-button *ngIf=\\\"this.agenda.online\\\"\\n              class=\\\"button_cred\\\"\\n              color=\\\"primary\\\"\\n              expand=\\\"block\\\"\\n\\n              (click)=\\\"this.goToVideocall()\\\"\\n            >\\n              {{ 'agenda.go' | translate | uppercase }}\\n            </ion-button></ion-col\\n          >\\n          <ion-col col-4>\\n            <ion-button\\n              class=\\\"button_cred\\\"\\n              color=\\\"primary\\\"\\n              (click)=\\\"this.presentAlertConfirm('agenda.confirm_delete')\\\"\\n            >\\n              {{ 'agenda.delete' | translate | uppercase}}\\n            </ion-button>\\n          </ion-col>\\n          <ion-col col-4>\\n            <ion-button\\n              *ngIf=\\\"this.canEdit\\\"\\n              class=\\\"button_cred\\\"\\n              color=\\\"primary\\\"\\n              (click)=\\\"this.editAgenda()\\\"\\n            >\\n              {{ 'agenda.edit' | translate | uppercase}}\\n            </ion-button>\\n          </ion-col>\\n        </ion-row>\\n        \\n      </ng-template>\\n    </div>\\n  </ion-content>\\n</ion-content>\\n\";","export default \"ion-content {\\n  --background: none;\\n  background-position: center top;\\n  background-repeat: no-repeat !important;\\n  background-size: cover !important;\\n}\\n\\nion-icon {\\n  color: #006172;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2FnZW5kYS1kZXRhaWwucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSwrQkFBQTtFQUNBLHVDQUFBO0VBQ0EsaUNBQUE7QUFDSjs7QUFDRTtFQUNFLGNBQUE7QUFFSiIsImZpbGUiOiJhZ2VuZGEtZGV0YWlsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IHtcbiAgICAtLWJhY2tncm91bmQ6IG5vbmU7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIHRvcDtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0ICFpbXBvcnRhbnQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlciAhaW1wb3J0YW50O1xuICB9XG4gIGlvbi1pY29ue1xuICAgIGNvbG9yOiAjMDA2MTcyOyBcbn0iXX0= */\";"]}