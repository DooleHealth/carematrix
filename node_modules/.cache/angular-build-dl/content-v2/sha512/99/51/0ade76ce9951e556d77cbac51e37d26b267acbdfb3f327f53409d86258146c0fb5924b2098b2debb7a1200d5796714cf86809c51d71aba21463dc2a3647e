{"version":3,"sources":["./src/app/pages/home/healthcare/appointments/appointments.page.scss","./src/app/pages/home/healthcare/appointments/appointments-routing.module.ts","./src/app/pages/home/healthcare/appointments/appointments.page.ts","./src/app/pages/home/healthcare/appointments/appointments.page.html","./src/app/pages/home/healthcare/appointments/appointments.module.ts"],"names":[],"mappings":"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","file":"appointments-appointments-module-es2015.js","sourcesContent":["export default \"ion-content {\\n  --background: none;\\n  background-position: center top;\\n  background-repeat: no-repeat !important;\\n  background-size: cover !important;\\n}\\n\\nion-card {\\n  border-radius: 0%;\\n  border-bottom: 2pt solid #006488;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2FwcG9pbnRtZW50cy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLCtCQUFBO0VBQ0EsdUNBQUE7RUFDQSxpQ0FBQTtBQUNGOztBQUNBO0VBQ0UsaUJBQUE7RUFDQSxnQ0FBQTtBQUVGIiwiZmlsZSI6ImFwcG9pbnRtZW50cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogbm9uZTtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIHRvcDtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdCAhaW1wb3J0YW50O1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyICFpbXBvcnRhbnQ7XG59XG5pb24tY2FyZHtcbiAgYm9yZGVyLXJhZGl1czogMCU7XG4gIGJvcmRlci1ib3R0b206IDJwdCBzb2xpZCAjMDA2NDg4O1xuXG59XG5cbiJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AppointmentsPage } from './appointments.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AppointmentsPage\n  },\n  {\n    path: 'agenda',\n    loadChildren: () => import('../agenda/agenda.module').then( m => m.AgendaPageModule)\n  },\n  {\n    path: 'success',\n    loadChildren: () => import('./success/success.module').then( m => m.SuccessPageModule)\n  },\n  {\n    path: 'videocall',\n    loadChildren: () => import('../videocalls/videocalls.module').then( m => m.VideocallsPageModule)\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AppointmentsPageRoutingModule {}\n","import { DatePipe } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AppointmentService } from 'src/app/services/appointment.service';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\nimport { Agenda, AgendaAvailability, AgendaAvailabilityRequest, AppointmentConfirmation, AppointmentDetail, IAgenda, ITeladocUser, TeladocAvailability, TeladocCredentials, TeladocUser } from 'src/app/shared/classes/appointments';\nimport { AlertController } from '@ionic/angular';\nimport { getRandomBackground } from 'src/app/shared/classes/utils';\nimport { throwError } from 'rxjs';\nimport { Location } from '@angular/common';\n@Component({\n  selector: 'app-appointments',\n  templateUrl: './appointments.page.html',\n  styleUrls: ['./appointments.page.scss'],\n  providers: [DatePipe]\n})\nexport class AppointmentsPage implements OnInit {\n  backgroundImage: string = getRandomBackground();\n  error: any;\n  agendas: Array<Agenda> = [];\n  schedules: Array<AgendaAvailability>\n  teladocSchedules: Array<TeladocAvailability>;\n  data_inici = new Date();\n  data_fi = new Date();\n  appointment: Date;\n  booking: AppointmentDetail;\n  teladocUser: TeladocUser;\n  appointmentType: number = history.state?.appointmentType;\n  isOnline = history.state?.isOnline;\n  isAppointmentChange = history.state?.isAppointmentChange;\n  fromSymptonChecker: boolean = history.state?.fromSymptonChecker;\n  teladocCredentials: TeladocCredentials;\n  icon: string;\n  infor: string;\n  header: string;\n  showProcessing: boolean = false;\n  constructor(private router: Router, private appointmentService: AppointmentService,\n    private authService: AuthenticationService,\n    public datepipe: DatePipe,\n    public alertController: AlertController,\n    private location: Location) {\n    // Look for appointments between the next 2 hours and 2 months\n    this.data_inici.setHours(this.data_inici.getHours() + 2);\n    this.data_fi.setMonth(this.data_inici.getMonth() + 2);\n  }\n  ngOnInit() {\n    \n    this.setPageHeader();\n    \n    console.log('this.isAppointmentChange: ', this.isAppointmentChange);\n    if (this.appointmentType == 6) // Teladoc\n      this.getTeladocAgenda2();\n    else {\n      // MGC or Medico Tutor\n      if(this.appointmentType == 7 && !this.appointmentService.metgeTutor)\n        this.getMetgeTutor();\n      else if(this.isAppointmentChange)\n        this.editAgenda();\n      else\n        this.getAgenda();\n    }\n      \n  }\n\n  setPageHeader() {\n\n    // Set headers and icons \n    switch (+this.appointmentType) {\n      case 5:\n        this.icon = '../../assets/icons/i_consulta_presencial.svg';\n        this.header = 'appointments.face-to-face';\n        this.infor = '../../assets/icons/interrogant.svg';\n        break;\n      case 6:\n        console.log('this.appointmentType case 6: ', this.appointmentType, 'this is online:', this.isOnline)\n        this.icon = '../../assets/icons/i_videoconsulta.svg';\n        this.header = 'appointments.online';\n        this.infor = '../../assets/icons/interrogant.svg';\n        break;\n      case 7:\n        this.icon = this.isOnline ? '../../assets/icons/i_consulta_online.svg' : '../../assets/icons/i_consulta_presencial.svg';\n        this.header = this.isOnline ? 'appointments.online' : 'appointments.face-to-face';\n        this.infor = '../../assets/icons/interrogant.svg';\n        break;\n      default:\n        console.log('this.appointmentType DEFAULT: ', this.appointmentType, 'this is online:', this.isOnline)\n        this.icon = '../../assets/icons/i_consulta_presencial.svg';\n        this.header = 'appointments.face-to-face';\n        this.infor = '../../assets/icons/interrogant.svg';\n    }\n\n  }\n\n  getTeladocAgenda2(){\n    this.getTeladocUser2().then((res: TeladocUser) => {\n      // here you will have your `rs`\n      \n      console.log('ITeladocUser: ', res);\n      this.teladocUser = res;\n      let data_inici = this.datepipe.transform(this.data_inici, 'YYYY-MM-dd');\n      let data_fi = this.datepipe.transform(this.data_fi, 'YYYY-MM-dd');\n      console.log('this.teladocUser: ', this.teladocUser);\n\n      const params = {\n        date_from: data_inici,\n        date_to: data_fi,\n        project_id: this.teladocUser.project_id,\n        time_zone: \"Europe/Madrid\",\n        language: this.teladocUser.language\n      }\n      this.appointmentService.getTeladocAvailability(params).subscribe(\n      async (data: TeladocAvailability[]) => {\n        console.log(\"2 getTeladocAvailability: \", data.length)\n        this.teladocSchedules = data;\n        this.getNextTeladocAppointment();\n\n      },\n      async (error) => {\n        // Called when error\n        this.location.back();\n        throw error;\n      });\n    this.getTeladocSchedule();\n  }).catch(error => {\n    this.location.back();\n    throw error;\n  });\n  }\n\n  // Function Definition (using async/await as demonstration)\n  async getTeladocUser2(): Promise<TeladocUser> {\n    return await this.appointmentService.getTeladocUser2();\n  }\n\n\n\n  getTeladocAgenda() {\n\n    this.appointmentService.getTeladocUser().subscribe(\n      async (data: TeladocUser) => {\n          this.teladocUser = data;\n          console.log(\"1 teladocUser: \", data)\n      }, async (error) =>{ \n        console.log(\"ERROR: \", error)\n        this.location.back();\n        throw error;\n       \n      });\n  }\n\n  async getTeladocSchedule() {\n\n    \n\n  \n  }\n\n  async editAgenda(){\n    \n    console.log(\"getAppointmentInfo for agenda: \", history.state.agenda);\n    let agenda = history.state.agenda;\n    this.appointmentService.getAppointmentInfo(this.authService.user.mutua, agenda.ext_id).subscribe(\n      async (data: any) => {\n        await data;\n        console.log(\"1 getAppointmentInfo: \", data);\n        this.appointmentService.id_agenda = data.id_agenda;\n        this.appointmentService.codi_servei = data.codi_servei;\n\n        this.appointmentService.getAgenda().subscribe(\n          async (data: Agenda[]) => {\n\n            console.log('2 getAgenda: ', data);\n            // Wait for Provider's Agenda\n            this.agendas = data;\n    \n            await this.getAgendaSchedule();\n          });\n      }, async (error) => {\n        console.log(\"EDIT AGENDA ERROR: \", error)\n        this.location.back();\n        throw error;\n      });\n  }\n\n  async getAgenda() {\n\n    this.appointmentService.getAgenda().subscribe(\n      async (data: Agenda[]) => {\n        // Wait for Provider's Agenda\n        this.agendas = data;\n\n        await this.getAgendaSchedule();\n      }),\n      async (error) => {\n        // Called when error\n        this.location.back();\n        throw error;\n      } \n      ;\n  }\n\n  async getMetgeTutor(){\n   \n    this.appointmentService.get('mgc/metgetutor').subscribe(\n      async (data) => {\n      \n        await data;\n      \n        console.log('mgc/metgetutor', await data);\n        // Validates metgetutor is assigned\n        if(data.tutor && data.meta){\n         \n          this.appointmentService.codi_servei = data.meta.metge_codi_especialitat;\n          this.appointmentService.id_agenda = data.meta.metge_id_agenda;\n          this.appointmentService.tractament = data.meta.metge_tractament;\n          this.appointmentService.metgeTutor = data;\n        }\n        this.getAgenda();\n        this.showProcessing = false;\n        \n      },\n      async (error) => {\n        // Called when error\n        this.location.back();\n        throw error;\n      });\n  }\n  getAppointmentInfo() {\n\n    console.log(\"getAppointmentInfo: \", history.state.agenda);\n    let agenda = history.state.agenda;\n    return this.appointmentService.getAppointmentInfo(this.authService.user.mutua, agenda.ext_id).subscribe(\n      async (data: any) => {\n        await data;\n        console.log(\"isAppointmentChange response: \", data);\n        this.appointmentService.id_agenda = data.id_agenda;\n        this.appointmentService.codi_servei = data.codi_servei;\n      }, async (error) => {\n        // Called when error\n        this.location.back();\n        throw error;\n      });\n\n\n  }\n  async getAgendaSchedule() {\n    let data_inici = this.datepipe.transform(this.data_inici, 'YYYYMMdd');\n    let data_fi = this.datepipe.transform(this.data_fi, 'YYYYMMdd');\n\n    const request = new AgendaAvailabilityRequest(this.appointmentService.id_agenda, data_inici, data_fi);\n\n    this.appointmentService.getAgendaAvailability(request).subscribe(\n      async (data: AgendaAvailability[]) => {\n\n        // Provider's availability for the next 2 months\n        if (data.length < 1)\n          this.error = \"Ho sentim, no hi ha cites disponibles\";\n        else {\n          this.schedules = data;\n\n          if (this.appointment === undefined)\n             this.getNextAvailableAppointment();\n        }\n\n      },\n      async (error) => {\n        // Called when error\n        this.location.back();\n        throw error;\n      });\n  }\n\n  changeDate() {\n\n    //console.log(\"this.appointmentType\", this.appointmentType);\n    this.appointmentService.appointment = this.appointment;\n\n    this.appointmentService.teladocUser = this.teladocUser;\n    if (this.appointmentType == 6) {\n      //console.log(\"teladocAppointment\");\n      this.appointmentService.teladocSchedules = this.teladocSchedules;\n    } else {\n      //console.log(\"mgc|metge-tutor appointment\");\n      this.appointmentService.schedules = this.schedules\n    }\n\n    this.router.navigate(['/app/home/healthcare/appointments/agenda'], { state: { isOnline: this.isOnline, appointmentType: this.appointmentType, isAppointmentChange: this.isAppointmentChange, agenda: history.state.agenda, fromSymptonChecker: this.fromSymptonChecker } });\n  }\n\n  getNextAvailableAppointment() {\n\n    console.log('3 getNextAvailableAppointment')\n    var next_appointment: Date;\n    var endTime: Date;\n    // Iterate for each day\n    this.schedules.every((element) => {\n\n      // convert API date to format YYYY-MM-DD\n      var pattern = /(\\d{4})(\\d{2})(\\d{2})/;\n      var current = new Date(element.data.replace(pattern, '$1-$2-$3'));\n\n      // Iterate for each available hour\n      element.horaris.every((item) => {\n\n        // Check if it's available\n        if (item.disponible) {\n\n          next_appointment = new Date(current);\n          // Time format response is \"HHMM\", so we extracts HH and MM\n          next_appointment.setHours(parseInt(item.hora.substring(0, 2)));\n          next_appointment.setMinutes(parseInt(item.hora.substring(2, 4)));\n\n          // Set end time 15 minutes after start time\n          endTime = new Date(next_appointment);\n          endTime.setMinutes(next_appointment.getMinutes() + 15);\n\n          // Add the time slot to calendar events array\n          this.appointment = next_appointment;\n\n          //console.log(\"FirstAvailableDate: \", this.appointment.toLocaleDateString('es-ES'), \" <- getDate().toLocaleString() -> toLocaleTimeString:\", this.appointment.toLocaleTimeString());\n\n          return false;\n        }\n      });\n    });\n  }\n\n  getNextTeladocAppointment() {\n    var next_appointment: Date;\n    var endTime: Date;\n    var flag = false;\n    // Iterate for each day\n    //console.log(\"this.teladocSchedules: \", this.teladocSchedules);\n\n    for (let element of this.teladocSchedules) {\n\n      // convert API date to format YYYY-MM-DD\n      var pattern = /(\\d{4})(\\d{2})(\\d{2})/;\n      var current = new Date(element.date);\n\n      // Iterate for each available hour\n      //console.log('entry', element.date)\n      for (let item of element.day_slots) {\n        //console.log('entry', item.availability);\n        if (item.availability) {\n          // Check if it's available\n\n          next_appointment = new Date(current);\n          // Time format response is \"HHMM\", so we extracts HH and MM\n          next_appointment.setHours(parseInt(item.time_ini.substring(0, 2)));\n          next_appointment.setMinutes(parseInt(item.time_ini.substring(3, 5)));\n\n          // Set end time 15 minutes after start time\n          endTime = new Date(next_appointment);\n          endTime.setMinutes(next_appointment.getMinutes() + 15);\n\n          // Add the time slot to calendar events array\n          this.appointment = next_appointment;\n\n          console.log(\"FirstAvailableDate: \", this.appointment.toLocaleDateString('es-ES'), \" <- getDate().toLocaleString() -> toLocaleTimeString:\", this.appointment.toLocaleTimeString());\n\n          //console.log(\"FOUND\");\n          flag = true;\n          break;\n        }\n      }\n      if (flag) {\n        break;\n      }\n    }\n  }\n\n  async makeAppointment() {\n    this.appointmentService.appointment = this.appointment;\n\n    // Teladoc appointmentType = 6\n    if (this.appointmentType == 6) {\n      this.appointmentService.teladocUser = this.teladocUser;\n      this.router.navigate(['/app/home/healthcare/appointments/videocall'], { state: { isOnline: this.isOnline, appointmentType: this.appointmentType, isAppointmentChange: this.isAppointmentChange, agenda: history.state.agenda, fromSymptonChecker: this.fromSymptonChecker} });\n    } else {\n      this.showProcessing = true;\n      let date = this.datepipe.transform(this.appointmentService.appointment, \"yyyyMMdd\");\n      let time = this.datepipe.transform(this.appointmentService.appointment, \"HHmm\");\n\n      // Iff appointment is with metge tutor (7), assign staff_id\n      let staff_id = this.appointmentType == 7 ? this.appointmentService.metgeTutor?.tutor.id : \"\";\n      console.log(\" this.appointmentType: \",  this.appointmentType);\n     \n      console.log(\"staff_id: \", staff_id);\n\n      // save apointment\n      this.saveAppointment(date + time, staff_id)\n    }\n  }\n\n  saveAppointment(date, staff_id) {\n\n    return this.appointmentService.bookAppointment(this.authService.mutua, date, this.isOnline, this.appointmentType, \"\", \"\", staff_id).subscribe(\n      async (res: AppointmentConfirmation) => {\n        console.log(\"Appointment OK: \", res.dades);\n\n        this.booking = res.dades;\n        this.appointmentService.booking = res.dades;\n\n        if (this.isAppointmentChange) {\n          let previousAppointment: IAgenda = history.state.agenda;\n          this.deletePreviousAppointment(previousAppointment);\n        }else{\n          this.router.navigate(['/app/home/healthcare/appointments/success'], { state: { isOnline: this.isOnline, appointmentType: this.appointmentType, isAppointmentChange: this.isAppointmentChange, agenda: history.state.agenda} });\n        }},\n      async (error) => {\n        this.showProcessing = false;\n        console.log(\"** ERROR saveAppointment\", error);\n      }, \n      ()=>{});\n  }\n\n  deletePreviousAppointment(previousAppointment) {\n    console.log(\"deletePreviousAppointment appointmentType: \", this.appointmentType);\n\n      return this.appointmentService.deleteAppointment(this.authService.mutua, previousAppointment.ext_id, this.appointmentType, previousAppointment).subscribe(\n        async (data: any) => {\n          \n          console.log(\"1 - deleted appointment MGC\");\n          this.deleteAppointmentDoole(previousAppointment.id);\n          \n        }, async (error) => {\n          // Called when error\n          console.log(\"error:\", await error);\n          this.location.back();\n        throw error;\n        });\n    \n  }\n\n  deleteAppointmentDoole(id){\n    return this.appointmentService.deleteAppointmentDoole(id).subscribe(\n      async (data: any) => {\n        console.log(\"2 - deleted appointment doole \", data);\n       \n        this.router.navigate(['/app/home/healthcare/appointments/success'], { state: { isOnline: this.isOnline, appointmentType: this.appointmentType, isAppointmentChange: this.isAppointmentChange, agenda: history.state.agenda} });\n    \n        return data;\n\n      });\n  }\n}\n","export default \"<custom-header></custom-header>\\n<ion-content class=\\\"back\\\" [ngStyle]=\\\"{'background': 'url(' + backgroundImage + ')'}\\\" fullscreen>\\n  <page-header title=\\\"{{this.header | translate}}\\\" icon=\\\"{{this.icon}}\\\" info=\\\"{{ 'appointments.info' | translate}}\\\" >\\n  </page-header>\\n  <div class=\\\"main-container\\\">\\n    <ng-container *ngIf=\\\"this.showProcessing else showSchedule\\\">\\n      <div style=\\\"margin: 20px 40px; text-align: center;\\\">\\n        <ion-spinner></ion-spinner>\\n        <p>\\n          <b>{{ 'appointments.save' | translate }}</b>\\n        </p>\\n      </div>\\n    </ng-container>\\n    <ng-template #showSchedule>\\n      <ng-container *ngIf=\\\"!this.appointment && !this.error\\\">\\n        <div style=\\\"margin: 20px 40px; text-align: center;\\\">\\n          <ion-spinner></ion-spinner>\\n          <p>\\n            <b>{{ 'appointments.fetching' | translate }}</b>\\n          </p>\\n        </div>\\n      </ng-container>\\n    \\n      <ng-container *ngIf=\\\"appointment && !error\\\">\\n      \\n        <p>{{ 'appointments.availability' | translate }}</p>\\n      \\n      <div *ngIf=\\\"appointmentType==6; else elseBlock\\\"> \\n    \\n          <ion-card>\\n            <ion-card-content style=\\\"text-align: center;\\\">\\n            <ion-card-title>{{ appointment.toLocaleDateString('es-ES',{ hour12: false }) + \\\",\\\" }} {{  appointment.toLocaleTimeString([], {hour12: false , hour: '2-digit', minute:'2-digit'}) + \\\" h\\\" }}</ion-card-title>\\n            <ion-card-header>\\n              <h3>{{'appointments.general-speciality'| translate }}</h3>\\n            </ion-card-header>\\n              \\n          </ion-card-content>\\n        </ion-card>\\n      </div>\\n      \\n        <ng-template #elseBlock>\\n          <ion-card *ngFor=\\\"let agenda of agendas\\\">\\n          <ion-card-content style=\\\"text-align: center;\\\">\\n            <ion-card-title> {{ appointment.toLocaleDateString('es-ES',{ hour12: false }) + \\\",\\\" }} {{  appointment.toLocaleTimeString([], { hour12: false, hour: '2-digit', minute:'2-digit'}) + \\\" h\\\" }}</ion-card-title>\\n            <ion-card-header>\\n           \\n              <h3>{{'appointments.speciality'| translate }} {{ this.agenda.servei_nom}}</h3>\\n              {{ this.agenda.centre_telefon }}\\n            </ion-card-header>\\n            </ion-card-content>\\n          </ion-card>\\n    \\n        </ng-template>\\n       \\n        <ion-row style=\\\"margin-top: -4%; margin-left: 2%; margin-right: 2%;\\\">\\n          <ion-col size=\\\"6\\\" style=\\\"text-align: left;\\\"><ion-button (click)=\\\"changeDate()\\\">{{ 'appointments.calendar' | translate | uppercase}}</ion-button></ion-col>\\n          <ion-col size=\\\"6\\\" style=\\\"text-align: right;\\\"><ion-button (click)=\\\"makeAppointment()\\\">{{ 'appointments.book' | translate | uppercase}}</ion-button></ion-col>\\n        </ion-row>\\n       \\n      </ng-container>\\n    \\n      <ng-container *ngIf=\\\"this.error\\\">\\n      <div style=\\\"margin: 20px 40px; text-align: center;\\\">\\n        <p>\\n          <b>{{ this.error | translate }}</b>\\n        </p>\\n      </div>\\n      </ng-container>\\n    </ng-template>\\n \\n</div> \\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AppointmentsPageRoutingModule } from './appointments-routing.module';\n\nimport { AppointmentsPage } from './appointments.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AppointmentsPageRoutingModule,\n    TranslateModule,\n    ComponentsModule\n  ],\n  declarations: [AppointmentsPage]\n})\nexport class AppointmentsPageModule {}\n"],"sourceRoot":"webpack:///"}