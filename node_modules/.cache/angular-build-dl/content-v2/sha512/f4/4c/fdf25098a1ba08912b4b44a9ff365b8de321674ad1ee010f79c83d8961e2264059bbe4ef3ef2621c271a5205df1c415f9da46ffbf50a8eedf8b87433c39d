{"version":3,"sources":["./src/app/pages/home/wellbeing/metgetutor/messageslist/messageslist.page.scss","./src/app/pages/home/wellbeing/metgetutor/messageslist/messageslist.page.html","./src/app/pages/home/wellbeing/metgetutor/messageslist/messageslist.module.ts","./src/app/pages/home/wellbeing/metgetutor/messageslist/messageslist.page.ts","./src/app/pages/home/wellbeing/metgetutor/messageslist/messageslist-routing.module.ts"],"names":[],"mappings":"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","file":"messageslist-messageslist-module-es2015.js","sourcesContent":["export default \"app-messageslist .scroll-content {\\n  background-color: aliceblue;\\n}\\napp-messageslist .card {\\n  border-radius: 5px;\\n  padding: 10%;\\n}\\napp-messageslist .whoItem {\\n  float: left;\\n  margin-right: 5px !important;\\n  padding-top: 10% !important;\\n}\\napp-messageslist .whoItem h2 {\\n  font-size: small;\\n  font-weight: bold;\\n  text-align: center;\\n  margin-top: 7px;\\n  padding-top: 10% !important;\\n}\\napp-messageslist ion-avatar[item-start] {\\n  display: block;\\n}\\napp-messageslist .last-label {\\n  font-weight: bold;\\n  color: black;\\n}\\napp-messageslist .last-value {\\n  color: gray;\\n  margin-left: 5px;\\n}\\nion-content {\\n  --background: none;\\n  background-position: center top;\\n  background-repeat: no-repeat !important;\\n  background-size: cover !important;\\n}\\nion-list {\\n  --background: transparent !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL21lc3NhZ2VzbGlzdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0k7RUFDSSwyQkFBQTtBQUZSO0FBVUk7RUFDSSxrQkFBQTtFQUNBLFlBQUE7QUFSUjtBQVlJO0VBQ0ksV0FBQTtFQUNBLDRCQUFBO0VBQ0EsMkJBQUE7QUFWUjtBQWNJO0VBQ0ksZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLDJCQUFBO0FBWlI7QUFlSTtFQUNJLGNBQUE7QUFiUjtBQW1CSTtFQUNJLGlCQUFBO0VBQ0EsWUFBQTtBQWpCUjtBQW9CSTtFQUNJLFdBQUE7RUFDQSxnQkFBQTtBQWxCUjtBQXdCQTtFQUNJLGtCQUFBO0VBQ0EsK0JBQUE7RUFDQSx1Q0FBQTtFQUNBLGlDQUFBO0FBckJKO0FBd0JBO0VBQ0ksb0NBQUE7QUFyQkoiLCJmaWxlIjoibWVzc2FnZXNsaXN0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuYXBwLW1lc3NhZ2VzbGlzdCB7XG5cbiAgICAuc2Nyb2xsLWNvbnRlbnR7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IGFsaWNlYmx1ZTtcbiAgICB9XG5cbiAgICAvLyBpb24tYXZhdGFyIGltZ3tcbiAgICAvLyAgICAgbWFyZ2luOiAxMHB4XG4gICAgLy8gICAgIHBhZGRpbmctdG9wOiAxMCUgIWltcG9ydGFudDtcbiAgICAvLyB9XG5cbiAgICAuY2FyZHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgICBwYWRkaW5nOiAxMCU7XG4gICAgfVxuICBcblxuICAgIC53aG9JdGVte1xuICAgICAgICBmbG9hdDpsZWZ0O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweCAhaW1wb3J0YW50O1xuICAgICAgICBwYWRkaW5nLXRvcDogMTAlICFpbXBvcnRhbnQ7XG4gICAgICAgIFxuICAgIH1cblxuICAgIC53aG9JdGVtIGgye1xuICAgICAgICBmb250LXNpemU6IHNtYWxsO1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBtYXJnaW4tdG9wOiA3cHg7XG4gICAgICAgIHBhZGRpbmctdG9wOiAxMCUgIWltcG9ydGFudDtcbiAgICB9XG5cbiAgICBpb24tYXZhdGFyW2l0ZW0tc3RhcnRde1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICBcbiAgICAgICBcbiAgICAgICAgXG4gICAgfVxuXG4gICAgLmxhc3QtbGFiZWx7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICBjb2xvcjogYmxhY2s7XG4gICAgfVxuXG4gICAgLmxhc3QtdmFsdWV7XG4gICAgICAgIGNvbG9yOiBncmF5O1xuICAgICAgICBtYXJnaW4tbGVmdDogNXB4O1xuICAgIH1cblxuICAgXG4gICBcbn1cbmlvbi1jb250ZW50IHtcbiAgICAtLWJhY2tncm91bmQ6IG5vbmU7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIHRvcDtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0ICFpbXBvcnRhbnQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlciAhaW1wb3J0YW50O1xuICAgIFxuICB9XG5pb24tbGlzdHtcbiAgICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG59Il19 */\";","export default \"<custom-header></custom-header>\\n\\n<ion-content class=\\\"back\\\" [ngStyle]=\\\"{'background': 'url(' + backgroundImage + ')'}\\\" fullscreen>\\n  <page-header title=\\\"{{'menu.messages' | translate}}\\\" icon=\\\"assets/icons/i_missatges.svg\\\" >\\n  </page-header>\\n  <div class=\\\"main-container\\\">\\n \\n  <div *ngFor=\\\"let post of posts\\\" style=\\\"--background: red;\\\">\\n\\n    <!-- <ion-card [routerLink]=\\\"['messagedetail']\\\" [queryParams]=\\\"{ id: post.message.message_header_id }\\\">\\n\\n      <ion-item class=\\\"ion-padding-top\\\" lines=\\\"full\\\" >\\n        <div class=\\\"whoItem\\\" *ngFor=\\\"let who of post.recipients\\\">\\n          <ion-avatar item-start *ngIf=\\\"who.id != authService._user.id_usuari_amiq \\\">\\n            <img src=\\\"{{who.image}}\\\">\\n          </ion-avatar>\\n          <p *ngIf=\\\"who.id != authService._user.id_usuari_amiq \\\">{{who.name}}</p>\\n        </div>\\n      </ion-item>\\n\\n      <ion-card-content>\\n        <div *ngIf=\\\"post.message.temporaryUrl != ''\\\">\\n          <img src=\\\"{{ post.message.temporaryUrl }}\\\">\\n        \\n        </div>\\n\\n      <ion-text>{{post.message.content}}</ion-text>\\n\\n      </ion-card-content>\\n\\n\\n\\n      <ion-row>\\n     \\n        <ion-col>\\n          <button ion-button icon-left clear small>\\n            <div><span class=\\\"last-label\\\">{{ 'Ãšltimo mensaje'}}:</span><span\\n                class=\\\"last-value\\\">{{post.message.created_at}}</span></div>\\n          </button>\\n        </ion-col>\\n      </ion-row>\\n\\n    </ion-card> -->\\n\\n\\n    <!-- <div class=\\\"whoItem\\\" [routerLink]=\\\"['messagedetail']\\\" [queryParams]=\\\"{ id: post.message.message_header_id }\\\">\\n  <ion-list *ngFor=\\\"let who of post.recipients\\\">\\n    <ion-list-header>\\n      Recent Conversations\\n    </ion-list-header>\\n\\n    <ion-item>\\n      <ion-avatar slot=\\\"start\\\">\\n        <img src=\\\"./avatar-finn.png\\\">\\n      </ion-avatar>\\n      <ion-label>\\n        <h2>{{who.name}}</h2>\\n        <h3>I'm a big deal</h3>\\n        <p>Listen, I've had a pretty messed up day...</p>\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n</div> -->\\n   \\n      <ion-list style=\\\"background: rgba(0, 255, 115, 0)!important;\\\"  lines=\\\"none\\\">\\n        <div  *ngFor=\\\"let who of post.recipients\\\">\\n          <ion-item  *ngIf=\\\"who.id != authService.user.id_usuari_amiq\\\" [routerLink]=\\\"['messagedetail']\\\" [queryParams]=\\\"{ id: post.message.message_header_id }\\\" [state]=\\\"{name:who.name }\\\"  style=\\\"--background: rgba(255, 0, 0, 0);\\\">\\n            <ion-avatar style=\\\"margin-right: 8%;margin-bottom: 5%;\\\" item-start>\\n              <img src=\\\"{{who.image}}\\\">\\n            </ion-avatar>\\n            <ion-label>\\n              <ion-label>{{who.name | titlecase }}</ion-label>\\n              <ion-text *ngIf=\\\"post.message.content\\\" style=\\\"color: grey\\\">{{post.message.content}}</ion-text><br>\\n              <span style=\\\"color: rgb(0, 133, 167);font-size: x-small;\\\">{{post.message.created_at | date: \\\"dd/MM/yyyy\\\" }}</span>\\n            </ion-label>\\n          </ion-item>\\n        </div>\\n        \\n        <!-- <span style=\\\"color: rgb(0, 110, 255);font-size: x-small;\\\">{{post.message.created_at}}</span> -->\\n\\n      </ion-list>\\n \\n  </div>\\n</div> \\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MessageslistPageRoutingModule } from './messageslist-routing.module';\n\nimport { MessageslistPage } from './messageslist.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MessageslistPageRoutingModule,\n    ComponentsModule,\n    TranslateModule\n  ],\n  declarations: [MessageslistPage]\n})\nexport class MessageslistPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {HttpErrorResponse} from \"@angular/common/http\";\nimport {AuthenticationService} from \"../../../../../services/authentication.service\";\nimport {LoadingController} from \"@ionic/angular\";\nimport { getRandomBackground } from 'src/app/shared/classes/utils';\n\n\n@Component({\n  selector: 'app-messageslist',\n  templateUrl: './messageslist.page.html',\n  styleUrls: ['./messageslist.page.scss'],\n})\nexport class MessageslistPage implements OnInit {\n  backgroundImage: string = getRandomBackground();\n  k=0;\n  posts: any = [];\n  loading: any;\n  numMessages=0;\n  o = new Array;\n  constructor(public authService: AuthenticationService,\n              private loadingController: LoadingController) { }\n\n  ngOnInit() {\n   \n  }\n\n  ionViewDidEnter(){\n    this.posts=[];\n    this.getData();\n  }\n\n\n  async getData(){\n\n    const loading = await this.loadingController.create();\n    await loading.present();\n\n    this.authService.get('message/user').subscribe(\n        async (data) => {\n          this.numMessages=data.messages?.length;\n         \n          console.log(\"this.numMessages: \", this.numMessages);\n          \n          this.posts=data.messages;\n          console.log(this.posts);\n        },\n        (error) => {\n          // Called when error\n          console.log(\"error: \", error);\n          throw new HttpErrorResponse(error);\n        },\n        () => {\n          // Called when operation is complete (both success and error)\n          loading.dismiss();\n        });\n    \n  }\n\ndoInfinite(infiniteScroll) {\n  if(this.k>=this.numMessages){\n    infiniteScroll.enable(false);\n    return;\n  } \n  this.k+=25;\n  this.getData().then(()=>{\n    infiniteScroll.complete();\n  });\n\n  \n}\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MessageslistPage } from './messageslist.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MessageslistPage\n  },\n  {\n    path: 'messagedetail',\n    loadChildren: () => import('./messagedetail/messagedetail.module').then( m => m.MessagedetailPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MessageslistPageRoutingModule {}\n"],"sourceRoot":"webpack:///"}