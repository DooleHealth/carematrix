{"version":3,"sources":["webpack:///node_modules/@ionic-native/base64/__ivy_ngcc__/ngx/index.js","webpack:///src/app/pages/home/healthcare/authorizations/file/file.page.html","webpack:///src/app/pages/home/healthcare/authorizations/file/file.module.ts","webpack:///src/app/pages/home/healthcare/authorizations/file/file-routing.module.ts","webpack:///src/app/pages/home/healthcare/authorizations/file/file.page.ts","webpack:///src/app/pages/home/healthcare/authorizations/file/file.page.scss"],"names":["Base64","_super","apply","arguments","prototype","encodeFile","filePath","pluginName","plugin","pluginRef","repo","platforms","ɵfac","Base64_Factory","t","ɵBase64_BaseFactory","ɵprov","token","factory","ngDevMode","type","FilePageModule","imports","declarations","routes","path","component","FilePageRoutingModule","forChild","exports","providers","Camera","FilePage","fb","router","platform","service","actionSheetCtrl","sanitizer","translate","chooser","doole","backgroundImage","url","imagesTemp","mediaFiles","form","group","auto","required","event","eventObj","target","file","files","toBase64","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","e","Error","console","log","setValue","authorizationFile","buttons","text","instant","icon","handler","addImage","addFile","role","is","push","fileInput","nativeElement","click","create","header","actionSheet","present","getFile","then","name","dataURI","sanitize","RESOURCE_URL","bypassSecurityTrustResourceUrl","fileUri","filename","Date","getTime","saveBase64","toString","res","uploadFile","data","err","base64","realData","split","blob","b64toBlob","writeFile","cacheDirectory","b64Data","contentType","sliceSize","byteCharacters","atob","byteArrays","offset","length","slice","byteNumbers","Array","i","charCodeAt","byteArray","Uint8Array","Blob","source","getPhoto","quality","allowEditing","resultType","image","file64","format","base64String","navigate","selector","template","providedIn"],"mappings":"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","file":"file-file-module-es5.js","sourcesContent":["import { __extends } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { IonicNativePlugin, cordova } from '@ionic-native/core';\nimport * as ɵngcc0 from '@angular/core';\nvar Base64 = /** @class */ (function (_super) {\n    __extends(Base64, _super);\n    function Base64() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Base64.prototype.encodeFile = function (filePath) { return cordova(this, \"encodeFile\", {}, arguments); };\n    Base64.pluginName = \"Base64\";\n    Base64.plugin = \"com-badrit-base64\";\n    Base64.pluginRef = \"plugins.Base64\";\n    Base64.repo = \"https://github.com/hazemhagrass/phonegap-base64\";\n    Base64.platforms = [\"Android\", \"iOS\"];\nBase64.ɵfac = function Base64_Factory(t) { return ɵBase64_BaseFactory(t || Base64); };\nBase64.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: Base64, factory: function (t) { return Base64.ɵfac(t); } });\nvar ɵBase64_BaseFactory = /*@__PURE__*/ ɵngcc0.ɵɵgetInheritedFactory(Base64);\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(Base64, [{\n        type: Injectable\n    }], null, null); })();\n    return Base64;\n}(IonicNativePlugin));\nexport { Base64 };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9AaW9uaWMtbmF0aXZlL3BsdWdpbnMvYmFzZTY0L25neC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLDhCQUFzQyxNQUFNLG9CQUFvQixDQUFDOztBQUN4RTtBQUtFLElBMkIwQiwwQkFBaUI7QUFBQztBQUU5QjtBQUMyQjtBQUMzQyxJQUdFLDJCQUFVLGFBQUMsUUFBZ0I7QUFJVjtBQUFrQztBQUF5QztBQUF5QztBQUFxRTswQ0FaM00sVUFBVTs7Ozs7MEJBQ0w7QUFBQyxpQkFsQ1A7QUFBRSxFQWtDMEIsaUJBQWlCO0FBQzVDLFNBRFksTUFBTTtBQUFJIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29yZG92YSwgSW9uaWNOYXRpdmVQbHVnaW4sIFBsdWdpbiB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvY29yZSc7XG5cbi8qKlxuICogQGJldGFcbiAqIEBuYW1lIEJhc2U2NFxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIFBsdWdpbiBpcyB1c2VkIHRvIGVuY29kZSBiYXNlNjQgb2YgYW55IGZpbGUsIGl0IHVzZXMganMgY29kZSBmb3IgaU9TLCBidXQgaW4gY2FzZSBvZiBhbmRyb2lkIGl0IHVzZXMgbmF0aXZlIGNvZGUgdG8gaGFuZGxlIGFuZHJvaWQgdmVyc2lvbnMgbG93ZXIgdGhhbiB2LjNcbiAqXG4gKiBAdXNhZ2VcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IEJhc2U2NCB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvYmFzZTY0L25neCc7XG4gKlxuICogY29uc3RydWN0b3IocHJpdmF0ZSBiYXNlNjQ6IEJhc2U2NCkgeyB9XG4gKlxuICogLi4uXG4gKlxuICogbGV0IGZpbGVQYXRoOiBzdHJpbmcgPSAnZmlsZTovLy8uLi4nO1xuICogdGhpcy5iYXNlNjQuZW5jb2RlRmlsZShmaWxlUGF0aCkudGhlbigoYmFzZTY0RmlsZTogc3RyaW5nKSA9PiB7XG4gKiAgIGNvbnNvbGUubG9nKGJhc2U2NEZpbGUpO1xuICogfSwgKGVycikgPT4ge1xuICogICBjb25zb2xlLmxvZyhlcnIpO1xuICogfSk7XG4gKlxuICogYGBgXG4gKi9cbkBQbHVnaW4oe1xuICBwbHVnaW5OYW1lOiAnQmFzZTY0JyxcbiAgcGx1Z2luOiAnY29tLWJhZHJpdC1iYXNlNjQnLFxuICBwbHVnaW5SZWY6ICdwbHVnaW5zLkJhc2U2NCcsXG4gIHJlcG86ICdodHRwczovL2dpdGh1Yi5jb20vaGF6ZW1oYWdyYXNzL3Bob25lZ2FwLWJhc2U2NCcsXG4gIHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUyddLFxufSlcbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBCYXNlNjQgZXh0ZW5kcyBJb25pY05hdGl2ZVBsdWdpbiB7XG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGVuY29kZXMgYmFzZTY0IG9mIGFueSBmaWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlUGF0aCBBYnNvbHV0ZSBmaWxlIHBhdGhcbiAgICogQHJldHVybiB7UHJvbWlzZTxzdHJpbmc+fSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGZpbGUgaXMgc3VjY2Vzc2Z1bGx5IGVuY29kZWRcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZW5jb2RlRmlsZShmaWxlUGF0aDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm47XG4gIH1cbn1cbiJdfQ==","export default \"<custom-header></custom-header>\\n<ion-content class=\\\"back\\\" [ngStyle]=\\\"{'background': 'url(' + backgroundImage + ')'}\\\" fullscreen>\\n  <page-header title=\\\"{{'healthcare.authorizations' | translate}}\\\" icon=\\\"assets/icons/i_autoritzacions.svg\\\" info=\\\"{{ 'authorization.info' | translate}}\\\" >\\n  </page-header>\\n  <div class=\\\"main-container\\\">\\n\\n  <ion-item class=\\\"bloque\\\"lines=\\\"none\\\">\\n  <form (ngSubmit)=\\\"submit()\\\" [formGroup]=\\\"form\\\" >\\n    <div class=\\\"input-group\\\">\\n  \\n     <ion-text><p>{{ 'authorization.file.text' | translate }}</p></ion-text>\\n      <ion-nav-link (click)=\\\"selectImageSource()\\\" expand=\\\"block\\\" color=\\\"dark\\\">  <ion-icon size=\\\"large\\\" name=\\\"attach\\\"></ion-icon>{{ 'authorization.file.select-file' | translate }}</ion-nav-link>\\n      <input\\n      type=\\\"file\\\"\\n      #fileInput\\n      (change)=\\\"uploadFile($event)\\\"\\n      hidden=\\\"true\\\"\\n      accept=\\\"image/jpeg,image/gif,image/png,application/pdf,image/x-eps\\\"\\n    />\\n      <img [src]=\\\"file64\\\" >\\n      </div>\\n      \\n      <ion-button type=\\\"submit\\\" expand=\\\"block\\\" color=\\\"primary\\\" [disabled]=\\\"!form.valid\\\">\\n        {{ 'authorization.file.submit' | translate | uppercase}}</ion-button>\\n</form>\\n</ion-item>\\n</div> \\n\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { FilePageRoutingModule } from './file-routing.module';\nimport { FilePage } from './file.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FilePageRoutingModule,\n    ReactiveFormsModule,\n    TranslateModule,\n    ComponentsModule\n  ],\n  declarations: [FilePage]\n})\nexport class FilePageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { Base64 } from '@ionic-native/base64/ngx';\nimport { Chooser } from '@ionic-native/chooser/ngx';\n\n\nimport { FilePage } from './file.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FilePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers:[Base64,Chooser]\n})\nexport class FilePageRoutingModule {}\n","import { Component, ElementRef, Injectable, OnInit, SecurityContext, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { CameraResultType, CameraSource, Plugins } from '@capacitor/core';\nimport { ActionSheetController, Platform } from '@ionic/angular';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\nimport { HealthcareService } from 'src/app/services/healthcare.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Chooser } from '@ionic-native/chooser/ngx';\nimport { DooleService } from 'src/app/services/doole.service';\nimport { getRandomBackground } from 'src/app/shared/classes/utils';\nconst { Camera } = Plugins;\n\nexport interface FilePickerResult {\n  uri: string;\n  name: string;\n  mimeType: string;\n  extension: string;\n}\n\nexport interface ApiImage {\n  _id: string;\n  name: string;\n  createdAt: Date;\n  url: string;\n}\n\n@Component({\n  selector: 'app-file',\n  templateUrl: './file.page.html',\n  styleUrls: ['./file.page.scss'],\n})\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FilePage implements OnInit {\n  backgroundImage: string = getRandomBackground();\n\n  file64: SafeResourceUrl;\n  form: FormGroup;\n  file: any;\n  url: string = '/app/home/healthcare/authorizations';\n  private imagesTemp : any = [];\n  mediaFiles: any = [];\n  @ViewChild('fileInput', { static: false }) fileInput: ElementRef;\n  \n  constructor(private fb: FormBuilder, private router: Router, public platform: Platform, private service: HealthcareService, private actionSheetCtrl: ActionSheetController,\n    private sanitizer: DomSanitizer, private translate : TranslateService, private chooser: Chooser, private doole: DooleService) { }\n\n  ngOnInit() {\n\n    this.form = this.fb.group({\n      auto: ['', [Validators.required]]\n    });\n\n  }\n\n  // Used for browser direct file upload\n  async uploadFile(event: EventTarget) {\n    const eventObj: MSInputMethodContext = event as MSInputMethodContext;\n    const target: HTMLInputElement = eventObj.target as HTMLInputElement;\n    const file: File = target.files[0];\n    const toBase64 = file => new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = error => reject(error);\n    });\n    const result = await toBase64(file).catch(e => Error(e));\n    console.log(\"toBase64\", result);\n    this.form.setValue({\n      auto: result\n    });\n    this.service.authorizationFile = result as string;\n   \n    //this.api.uploadImageFile(file).subscribe((newImage: ApiImage) => {\n    //  this.images.push(newImage);\n    //});\n  }\n\n\n  async selectImageSource() {\n    const buttons = [\n      {\n        text: this.translate.instant('Cámara'),\n        icon: 'camera',\n        handler: () => {\n          this.addImage(CameraSource.Camera);\n        }\n      },\n      {\n        text: this.translate.instant('authorization.file.choose'),\n        icon: 'document',\n        handler: () => {\n          this.addFile();\n        }\n      },{\n        text: this.translate.instant('Cancelar'),\n        role: 'cancel',\n        handler: () => {\n        }}\n    ];\n\n    // Only allow file selection inside a browser\n    \n    if (!this.platform.is('hybrid')) {\n      buttons.push({\n        text: this.translate.instant('authorization.file.choosepdf'),\n        icon: 'attach',\n        handler: () => {\n          this.fileInput.nativeElement.click();\n           // Access the uploaded file through the ElementRef\n        }\n      });\n    }\n    const actionSheet = await this.actionSheetCtrl.create({\n      header: 'Select Image Source',\n      buttons\n    });\n    await actionSheet.present();\n  }\n    \n  addFile(){\n    this.chooser.getFile().then(async file => {\n      console.log(file ? file.name : 'canceled');\n      if(file){\n        console.log(\"toBase64\", file.dataURI);\n        this.form.setValue({\n          auto: file.dataURI\n        });\n        this.service.authorizationFile = this.sanitizer.sanitize(SecurityContext.RESOURCE_URL, this.sanitizer.bypassSecurityTrustResourceUrl(file.dataURI));\n      }\n    }).catch((error: any) => {\n      console.error(error)});\n  }\n\n  async savePicture(fileUri){\n    //const loading = await this.loadingController.create();\n    //await loading.present();\n    var filename=new Date().getTime();\n    this.saveBase64(fileUri,filename.toString()).then(res => {\n      console.log(\"saveBase64 res: \",res);\n      this.doole.uploadFile(res).then(data => {\n        console.log(\"uploadFile res: \",res);\n        this.mediaFiles.push(data);\n        this.imagesTemp.push(data);\n        console.log(\" this.mediafiles.: \", this.mediaFiles);\n        //loading.dismiss();\n      }).catch(err => {\n        console.log(\"Error uploadFile: \", err);\n        //loading.dismiss();\n      }).finally(() => {\n        //loading.dismiss();\n      })\n     \n    });\n\n  }\n\n  public saveBase64(base64:string, name:string):Promise<string>{\n    return new Promise((resolve, reject)=>{\n      var realData = base64.split(\",\")[1]\n      let blob=this.b64toBlob(realData, 'image/jpeg');\n\n      this.file.writeFile(this.file.cacheDirectory, name, blob)\n      .then(()=>{\n        resolve(this.file.cacheDirectory+name);\n      })\n      .catch((err)=>{\n        console.log(err);\n        console.log('error writing blob');\n        reject(err);\n      })\n    })\n  }\n\n  b64toBlob(b64Data, contentType) {\n    contentType = contentType || '';\n    var sliceSize = 512;\n    var byteCharacters = atob(b64Data);\n    var byteArrays = [];\n\n    for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n        var slice = byteCharacters.slice(offset, offset + sliceSize);\n        var byteNumbers = new Array(slice.length);\n        for (var i = 0; i < slice.length; i++) {\n            byteNumbers[i] = slice.charCodeAt(i);\n        }\n        var byteArray = new Uint8Array(byteNumbers);\n        byteArrays.push(byteArray);\n    }\n\n  var blob = new Blob(byteArrays, {type: contentType});\n  console.log(\"this is bob: \", blob);\n  return blob;\n  }\n\n  async addImage(source: CameraSource) {\n    console.log(\"source: \", source);\n    const image = await Camera.getPhoto({\n      quality: 60,\n      allowEditing: false,\n      resultType: CameraResultType.Base64,\n      source\n    }).catch((e) => {\n\t\t\tconsole.log('cancelled');\n\t\t\t\n\t\t});\n\n    if(image){\n      this.file64 = this.sanitizer.bypassSecurityTrustResourceUrl('data:' + `image/${image.format}` + ';base64,'+ image.base64String)\n      \n      this.form.setValue({\n        auto: 'data:' + `image/${image.format}` + ';base64,'+ image.base64String\n      });\n      this.service.authorizationFile = 'data:' + `image/${image.format}` + ';base64,'+ image.base64String;\n    }\n  \n  }\n \n  fileError(error) {\n    console.log(error);\n  }\n\n  submit() {  \n    this.router.navigate([this.url]);\n  }\n\n}\n","export default \".category-block {\\n  background-color: rgba(255, 250, 250, 0);\\n}\\n\\nion-item-divider {\\n  background-color: #fdfdfc;\\n  margin-bottom: 15px;\\n  padding: 3%;\\n}\\n\\nion-content {\\n  --background: none;\\n  background-position: center top;\\n  background-repeat: no-repeat !important;\\n  background-size: cover !important;\\n}\\n\\n.bloque {\\n  border-bottom: 2pt solid #006488;\\n  border-radius: 0%;\\n}\\n\\nform {\\n  padding-bottom: 5%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2ZpbGUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksd0NBQUE7QUFDSjs7QUFDRTtFQUNFLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0FBRUo7O0FBRUU7RUFDRSxrQkFBQTtFQUNBLCtCQUFBO0VBQ0EsdUNBQUE7RUFDQSxpQ0FBQTtBQUNKOztBQUNFO0VBQ0UsZ0NBQUE7RUFDQSxpQkFBQTtBQUVKOztBQUNFO0VBQUssa0JBQUE7QUFHUCIsImZpbGUiOiJmaWxlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYXRlZ29yeS1ibG9jayB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1MCwgMjUwLCAwKTtcbiAgfVxuICBpb24taXRlbS1kaXZpZGVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjUzLCAyNTMsIDI1Mik7XG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgICBwYWRkaW5nOiAzJTtcbiAgICBcbiAgfVxuICBcbiAgaW9uLWNvbnRlbnQge1xuICAgIC0tYmFja2dyb3VuZDogbm9uZTtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgdG9wO1xuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQgIWltcG9ydGFudDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyICFpbXBvcnRhbnQ7XG4gIH1cbiAgLmJsb3F1ZXtcbiAgICBib3JkZXItYm90dG9tOiAycHQgc29saWQgIzAwNjQ4ODtcbiAgICBib3JkZXItcmFkaXVzOiAwJTtcbiAgICBcbiAgfVxuICBmb3Jte3BhZGRpbmctYm90dG9tOiA1JTt9Il19 */\";"]}