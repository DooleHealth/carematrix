{"version":3,"sources":["./src/app/pages/home/healthcare/authorizations/authorizations.module.ts","./src/app/pages/home/healthcare/authorizations/authorizations.page.ts","./src/app/pages/home/healthcare/authorizations/authorizations-routing.module.ts","./src/app/pages/home/healthcare/authorizations/authorizations.page.scss","./src/app/pages/home/healthcare/authorizations/authorizations.page.html"],"names":[],"mappings":"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","file":"authorizations-authorizations-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { AuthorizationsPageRoutingModule } from './authorizations-routing.module';\nimport { AuthorizationsPage } from './authorizations.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule, \n    IonicModule,\n    ReactiveFormsModule,\n    AuthorizationsPageRoutingModule,\n    TranslateModule,\n    ComponentsModule\n  ],\n  declarations: [AuthorizationsPage]\n})\nexport class AuthorizationsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { LoadingController } from '@ionic/angular';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\nimport { HealthcareService } from 'src/app/services/healthcare.service';\nimport { IAuthorizationRequest } from 'src/app/shared/classes/credential-data';\nimport { DatePipe } from '@angular/common';\nimport { getRandomBackground } from 'src/app/shared/classes/utils';\n\n@Component({\n  selector: 'app-authorizations',\n  templateUrl: './authorizations.page.html',\n  styleUrls: ['./authorizations.page.scss'],\n  providers: [DatePipe]\n})\nexport class AuthorizationsPage implements OnInit {\n  backgroundImage: string = getRandomBackground();\n  providers: any[];\n  providerInfo: any;\n  form: FormGroup;\n  params: IAuthorizationRequest;\n  constructor(private loadingController: LoadingController, \n    public service: HealthcareService,\n    private auth: AuthenticationService,\n    private router: Router, public datepipe: DatePipe,\n    private fb: FormBuilder) { }\n\n  ngOnInit() {\n\n    if(this.service.authorizationFile === undefined)\n      this.router.navigate(['app/home/healthcare/authorizations/file']);\n\n    this.form = this.fb.group({\n      data_prestacio: [''],\n      centre: [''],\n      cp: [''],\n      observacions: ['']\n    });\n\n  }\n\n  /**\n   * setAuthorization\n   */\n  async setAuthorization() {\n    \n    let date = this.form.get('data_prestacio').value; \n    if(date){\n      var current = new Date(date.split('T')[0]);\n      let data_prestacio = this.datepipe.transform(current, 'dd/MM/YYYY');\n      this.form.get('data_prestacio').setValue(data_prestacio);\n    }\n    \n    let params = this.form.value;\n    params.auto = this.service.authorizationFile;\n    params.mutua = this.auth.user.mutua;\n    params.idioma = this.auth.user.idioma;\n    params.mutua = this.auth.user.mutua;\n   \n    const loading = await this.loadingController.create();\n    await loading.present();\n    return this.service.setAuthorization(params).subscribe(\n      async (data) => {\n        await loading.dismiss();\n        console.log(\"response: \", data);\n        this.router.navigate(['app/home/healthcare/authorizations/success']);\n      },\n      (error) => {\n        // Called when error\n        loading.dismiss();\n       throw error;\n        \n      },\n       () => {\n        // Called when operation is complete (both success and error)\n        loading.dismiss();\n      });  \n    \n  }\n\n  openCalendar(){\n    \n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AuthorizationsPage } from './authorizations.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AuthorizationsPage\n  },\n  {\n    path: 'file',\n    loadChildren: () => import('./file/file.module').then( m => m.FilePageModule)\n  },\n  {\n    path: 'success',\n    loadChildren: () => import('./success/success.module').then( m => m.SuccessPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AuthorizationsPageRoutingModule {}\n","export default \"ion-content {\\n  --background: none;\\n  background-position: center top;\\n  background-repeat: no-repeat !important;\\n  background-size: cover !important;\\n}\\n\\n.input-group {\\n  background: rgba(255, 255, 255, 0);\\n  border-radius: 0%;\\n  padding: 5%;\\n}\\n\\nform {\\n  background: rgba(255, 255, 255, 0);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2F1dGhvcml6YXRpb25zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsK0JBQUE7RUFDQSx1Q0FBQTtFQUNBLGlDQUFBO0FBQ0Y7O0FBQ0E7RUFDRSxrQ0FBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtBQUVGOztBQUFBO0VBQ0Usa0NBQUE7QUFHRiIsImZpbGUiOiJhdXRob3JpemF0aW9ucy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogbm9uZTtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIHRvcDtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdCAhaW1wb3J0YW50O1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyICFpbXBvcnRhbnQ7XG59XG4uaW5wdXQtZ3JvdXB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMCk7XG4gIGJvcmRlci1yYWRpdXM6IDAlO1xuICBwYWRkaW5nOiA1JTtcbn1cbmZvcm17XG4gIGJhY2tncm91bmQ6ICAgcmdiYSgyNTUsIDI1NSwgMjU1LCAwKTtcbn1cbiJdfQ== */\";","export default \"<custom-header></custom-header>\\n<ion-content class=\\\"back\\\" [ngStyle]=\\\"{'background': 'url(' + backgroundImage + ')'}\\\" fullscreen>\\n  <page-header title=\\\"{{'healthcare.authorizations' | translate}}\\\" icon=\\\"assets/icons/i_autoritzacions.svg\\\" info=\\\"{{ 'authorization.info' | translate}}\\\" >\\n  </page-header>\\n  <div class=\\\"main-container\\\">\\n  \\n  <form (ngSubmit)=\\\"setAuthorization()\\\" [formGroup]=\\\"form\\\">\\n    <div class=\\\"input-group\\\">\\n      <ion-text>\\n        <h3>{{ 'authorization.text' | translate }}</h3>\\n      </ion-text>\\n      <ion-text>\\n        <p>{{ 'authorization.text-data' | translate }}</p>\\n      </ion-text>\\n      <ion-item>\\n        <ion-datetime displayFormat=\\\"DD/MM/YYYY\\\" placeholder=\\\"{{ 'authorization.placeholder-data' | translate}}\\\" formControlName=\\\"data_prestacio\\\" ></ion-datetime>\\n      </ion-item>\\n      <ion-text>\\n        <p>{{ 'authorization.text-cp' | translate }}</p>\\n      </ion-text>\\n      <ion-item>\\n        <ion-input placeholder=\\\"{{ 'authorization.placeholder-cp' | translate}}\\\" formControlName=\\\"centre\\\">\\n        </ion-input>\\n      </ion-item>\\n      <!-- <p>{{ 'authorization.text-observations' | translate }}</p> -->\\n      <ion-text>\\n        <p>{{ 'authorization.text-observations' | translate }}</p>\\n      </ion-text>\\n      <ion-item>\\n        <ion-input placeholder=\\\"{{ 'authorization.placeholder-observations' | translate}}\\\"\\n          formControlName=\\\"observacions\\\"></ion-input>\\n      </ion-item>\\n    </div><ion-row><ion-col col-6></ion-col><ion-col col-6>\\n    <ion-button type=\\\"submit\\\" expand=\\\"block\\\" color=\\\"primary\\\" [disabled]=\\\"!form.valid\\\">\\n      {{ 'authorization.submit-button' | translate | uppercase}}</ion-button></ion-col></ion-row>\\n  </form>\\n</div> \\n</ion-content>\";"],"sourceRoot":"webpack:///"}