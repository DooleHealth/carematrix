(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["diagnostictests-diagnostictests-module"],{

/***/ "0qGz":
/*!********************************************************************************!*\
  !*** ./src/app/pages/home/wellbeing/diagnostictests/diagnostictests.page.scss ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("ion-content {\n  --background: none;\n  background-position: center top;\n  background-repeat: no-repeat !important;\n  background-size: cover !important;\n}\n\nion-card {\n  border-bottom: 2pt solid #006488;\n  border-radius: 0%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2RpYWdub3N0aWN0ZXN0cy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLCtCQUFBO0VBQ0EsdUNBQUE7RUFDQSxpQ0FBQTtBQUNGOztBQUVBO0VBQ0UsZ0NBQUE7RUFDQSxpQkFBQTtBQUNGIiwiZmlsZSI6ImRpYWdub3N0aWN0ZXN0cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogbm9uZTtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIHRvcDtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdCAhaW1wb3J0YW50O1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyICFpbXBvcnRhbnQ7XG59XG5cbmlvbi1jYXJke1xuICBib3JkZXItYm90dG9tOiAycHQgc29saWQgIzAwNjQ4ODtcbiAgYm9yZGVyLXJhZGl1czogMCU7XG59Il19 */");

/***/ }),

/***/ "dOIn":
/*!****************************************************************************************!*\
  !*** ./src/app/pages/home/wellbeing/diagnostictests/diagnostictests-routing.module.ts ***!
  \****************************************************************************************/
/*! exports provided: DiagnostictestsPageRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiagnostictestsPageRoutingModule", function() { return DiagnostictestsPageRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _diagnostictests_page__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./diagnostictests.page */ "yX9h");




const routes = [
    {
        path: '',
        component: _diagnostictests_page__WEBPACK_IMPORTED_MODULE_3__["DiagnostictestsPage"]
    },
    {
        path: 'add',
        loadChildren: () => __webpack_require__.e(/*! import() | add-add-module */ "add-add-module").then(__webpack_require__.bind(null, /*! ./add/add.module */ "LO2v")).then(m => m.AddPageModule)
    },
    {
        path: 'edit',
        loadChildren: () => __webpack_require__.e(/*! import() | add-add-module */ "add-add-module").then(__webpack_require__.bind(null, /*! ./add/add.module */ "LO2v")).then(m => m.AddPageModule)
    },
    {
        path: 'diagnosticdetail',
        loadChildren: () => __webpack_require__.e(/*! import() | diagnosticdetail-diagnosticdetail-module */ "diagnosticdetail-diagnosticdetail-module").then(__webpack_require__.bind(null, /*! ./diagnosticdetail/diagnosticdetail.module */ "k84n")).then(m => m.DiagnosticdetailPageModule)
    },
];
let DiagnostictestsPageRoutingModule = class DiagnostictestsPageRoutingModule {
};
DiagnostictestsPageRoutingModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forChild(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]],
    })
], DiagnostictestsPageRoutingModule);



/***/ }),

/***/ "h0FG":
/*!********************************************************************************!*\
  !*** ./src/app/pages/home/wellbeing/diagnostictests/diagnostictests.module.ts ***!
  \********************************************************************************/
/*! exports provided: DiagnostictestsPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiagnostictestsPageModule", function() { return DiagnostictestsPageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _diagnostictests_routing_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./diagnostictests-routing.module */ "dOIn");
/* harmony import */ var _diagnostictests_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./diagnostictests.page */ "yX9h");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var src_app_components_components_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/components/components.module */ "j1ZV");









let DiagnostictestsPageModule = class DiagnostictestsPageModule {
};
DiagnostictestsPageModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
            _diagnostictests_routing_module__WEBPACK_IMPORTED_MODULE_5__["DiagnostictestsPageRoutingModule"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__["TranslateModule"],
            src_app_components_components_module__WEBPACK_IMPORTED_MODULE_8__["ComponentsModule"]
        ],
        declarations: [_diagnostictests_page__WEBPACK_IMPORTED_MODULE_6__["DiagnostictestsPage"]]
    })
], DiagnostictestsPageModule);



/***/ }),

/***/ "wq8D":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/home/wellbeing/diagnostictests/diagnostictests.page.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<custom-header></custom-header>\n<ion-content\n  class=\"back\"\n  [ngStyle]=\"{'background': 'url(' + backgroundImage + ')'}\"\n  fullscreen\n>\n  <page-header\n    title=\"{{'diagnostics.header' | translate}}\"\n    icon=\"assets/icons/i_historia_clinica_digital.svg\"\n    info=\"{{'diagnostics.info' | translate}}\"\n  >\n  </page-header>\n  <div class=\"main-container\">\n    <ion-text *ngIf=\"!firstTime\">{{'diagnostics.title' | translate}}</ion-text><br /><br />\n\n    <div *ngIf=\"firstTime\">\n     \n       \n          <p>{{'diagnostics.text1' | translate}}<strong>{{'diagnostics.text2' | translate}}</strong>? </p>\n    \n          <p>{{'diagnostics.text3' | translate}}<strong>{{'diagnostics.text4' | translate}}</strong>\n            {{'diagnostics.text5' | translate}}</p>\n          <ion-img src=\"assets/images/ilustr_microscopi.svg\"></ion-img>\n          <ion-button color=\"primary\" (click)=\"load()\" style=\"float: right;\">{{'commons.start' | translate}}</ion-button><br><br><br><br>\n    \n      \n      \n    </div>\n    <!-- <ion-item *ngIf=\"!firstTime\">\n      <ion-label>\n        NOT First Time\n      </ion-label>\n    </ion-item> -->\n\n\n<div *ngIf=\"!firstTime\" >\n    <ng-container *ngIf=\"this.showProcessing ; else showTests\">\n      <div style=\"margin: 20px 40px; text-align: center\">\n        <ion-spinner></ion-spinner>\n        <p>\n          <b>{{ 'diagnostics.fetching' | translate }}</b>\n        </p>\n      </div>\n    </ng-container>\n\n     \n      <ng-template #showTests>\n        <ng-container *ngIf=\"this.tests?.length == 0\">\n          <ion-card lines=\"none\" class=\"no_agenda\">  \n            <ion-avatar slot=\"start\">\n            <ion-img src=\"assets/icons/i_diagnostic.svg\"></ion-img>\n          </ion-avatar>\n            <ion-card-content>\n              {{ 'diagnostics.empty' | translate }}\n            </ion-card-content>\n          </ion-card>\n        </ng-container>\n        <ng-container *ngIf=\"this.tests?.length > 0\">\n        <ion-row>\n          <ion-col style=\"background: #bbdce0\" size=\"6\">\n            <ion-select\n              placeholder=\"{{ 'diagnostics.type' | translate }}\"\n              (ionChange)=\"filterTestsByType($event)\"\n              [(ngModel)]=\"search_type\"\n              interface=\"action-sheet\"\n            >\n              <ion-select-option value=\"all\"\n                >{{ 'diagnostics.all_types' | translate }}</ion-select-option\n              >\n              <ion-select-option *ngFor=\"let t of types\" value=\"{{t.id}}\"\n                >{{t.name}}</ion-select-option\n              >\n            </ion-select> </ion-col\n          ><ion-col size=\"1\"></ion-col>\n  \n          <ion-col style=\"background: #bbdce0\" size=\"5\">\n            <ion-select\n              placeholder=\"{{'diagnostics.search_by_dates' | translate}}\"\n              (ionChange)=\"filterTestsByDate($event)\"\n              [(ngModel)]=\"search_date\"\n              interface=\"action-sheet\"\n            >\n              <ion-select-option value=\"all\"\n                >{{ 'diagnostics.all_dates' | translate }}</ion-select-option\n              >\n              <ion-select-option *ngFor=\"let date of dates\" [value]=\"date\"\n                >{{date}}</ion-select-option\n              >\n            </ion-select>\n          </ion-col> \n        </ion-row>\n          <br />\n          <ion-list lines=\"full\">\n            <ng-container *ngFor=\"let t of this.tests\">\n              <ion-item\n                *ngIf=\"t.show\"\n                class=\"diagnostic-tests-card\"\n                [routerLink]=\"['diagnosticdetail']\"\n                [queryParams]=\"{ id: t.id }\"\n              >\n                <p>{{t.date | date:'dd/MM/YYYY'}}</p>\n                <p style=\"color: #006488\">{{' - ' + t.title}}</p>\n              </ion-item>\n            </ng-container>\n          </ion-list>\n        </ng-container>\n      </ng-template>\n  </div>\n</div>\n</ion-content>\n<div *ngIf=\"!firstTime\">\n<ion-footer>\n  <ion-toolbar style=\"--background: #d9e7ea;\" >\n    <ion-button color=\"primary\" [routerLink]=\"['add']\" [state]=\"{action : 'add' }\" slot=\"end\">\n      {{ 'diagnostics.add_text' | translate }}\n    </ion-button>\n  </ion-toolbar>\n</ion-footer>\n</div>\n");

/***/ }),

/***/ "yX9h":
/*!******************************************************************************!*\
  !*** ./src/app/pages/home/wellbeing/diagnostictests/diagnostictests.page.ts ***!
  \******************************************************************************/
/*! exports provided: DiagnostictestsPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiagnostictestsPage", function() { return DiagnostictestsPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _raw_loader_diagnostictests_page_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! raw-loader!./diagnostictests.page.html */ "wq8D");
/* harmony import */ var _diagnostictests_page_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./diagnostictests.page.scss */ "0qGz");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "tk/3");
/* harmony import */ var _services_authentication_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../services/authentication.service */ "ej43");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var src_app_services_storage_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/storage.service */ "n90K");
/* harmony import */ var src_app_shared_classes_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/shared/classes/utils */ "hNG5");










let DiagnostictestsPage = class DiagnostictestsPage {
    constructor(dooleService, router, storageService, datepipe) {
        this.dooleService = dooleService;
        this.router = router;
        this.storageService = storageService;
        this.datepipe = datepipe;
        this.backgroundImage = Object(src_app_shared_classes_utils__WEBPACK_IMPORTED_MODULE_9__["getRandomBackground"])();
        this.showProcessing = true;
        this.dates = new Array();
    }
    ngOnInit() {
        this.storageService.isFirstTimeLoad().then(((result) => {
            this.firstTime = result;
        }));
        //if first time update first time 
        if (this.firstTime) {
            // this.storageService.saveFirstTimeLoad();
        }
        this.getTypes();
    }
    ionViewWillEnter() {
        this.getTests();
    }
    load() {
        this.firstTime = false;
        this.storageService.saveFirstTimeLoad(false);
    }
    getTypes() {
        return this.dooleService.get('diagnosticTestTypes/available').subscribe((data) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.types = data.diagnosticTestTypes;
            console.log("this.types: ", this.types);
        }), (error) => {
            // Called when error
            //loading.dismiss();
            console.log("error: ", error);
            throw new _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpErrorResponse"](error);
        }, () => {
            // Called when operation is complete (both success and error)
            //loading.dismiss();
        });
    }
    getTests() {
        return this.dooleService.get('user/diagnosticTests').subscribe((data) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            var _a;
            yield data;
            this.showProcessing = false;
            this.tests = [];
            (_a = data.diagnosticTests) === null || _a === void 0 ? void 0 : _a.forEach(element => {
                this.tests.push({ id: parseInt(element['id']), title: element['title'], type_id: parseInt(element['diagnostic_test_type_id']), date: new Date(element['data']), show: true });
                let date = this.datepipe.transform(new Date(element['data']), 'MMMM YYYY');
                // To filter tests by date
                if (this.dates.indexOf(date) === -1)
                    this.dates.push(date);
            });
            return data;
        }), (error) => {
            // Called when error
            console.log("error: ", error);
            throw new _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpErrorResponse"](error);
        }, () => {
            // Called when operation is complete (both success and error)
        });
    }
    filterTestsByDate(event) {
        this.tests.forEach(element => {
            element.show = this.showElement(element);
        });
    }
    filterTestsByType(event) {
        this.tests.forEach(element => {
            element.show = this.showElement(element);
        });
    }
    showElement(e) {
        console.log("showElement", e);
        console.log("this.search_type: ", this.search_type);
        console.log("this.search_date: ", this.search_date);
        console.log(" e.date.getMonth() == new Date(this.search_date).getMonth())", e.date.getMonth(), new Date(this.search_date));
        return (!this.search_type || this.search_type == "all" || e.type_id == this.search_type) &&
            (!this.search_date || this.search_date == "all" || e.date.getMonth() == new Date(this.search_date).getMonth()) ? true : false;
    }
    ;
    addTest() {
        this.router.navigate(['/add']);
    }
};
DiagnostictestsPage.ctorParameters = () => [
    { type: _services_authentication_service__WEBPACK_IMPORTED_MODULE_5__["AuthenticationService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"] },
    { type: src_app_services_storage_service__WEBPACK_IMPORTED_MODULE_8__["StorageService"] },
    { type: _angular_common__WEBPACK_IMPORTED_MODULE_7__["DatePipe"] }
];
DiagnostictestsPage = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'app-diagnostictests',
        template: _raw_loader_diagnostictests_page_html__WEBPACK_IMPORTED_MODULE_1__["default"],
        providers: [_angular_common__WEBPACK_IMPORTED_MODULE_7__["DatePipe"]],
        styles: [_diagnostictests_page_scss__WEBPACK_IMPORTED_MODULE_2__["default"]]
    })
], DiagnostictestsPage);



/***/ })

}]);
//# sourceMappingURL=diagnostictests-diagnostictests-module-es2015.js.map