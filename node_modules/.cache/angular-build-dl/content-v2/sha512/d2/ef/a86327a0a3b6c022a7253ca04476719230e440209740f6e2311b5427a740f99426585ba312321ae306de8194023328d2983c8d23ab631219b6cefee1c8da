{"version":3,"sources":["./src/app/pages/home/wellbeing/agenda/agenda-add/agenda-add.module.ts","./src/app/pages/home/wellbeing/agenda/agenda-add/agenda-add.page.html","./src/app/pages/home/wellbeing/agenda/agenda-add/agenda-add.page.ts","./src/app/pages/home/wellbeing/agenda/agenda-add/agenda-add.page.scss","./src/app/pages/home/wellbeing/agenda/agenda-add/agenda-add-routing.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACmB;AAErB;AAC2B;AACC;AACnB;AAEJ;IAcrC,mBAAmB,SAAnB,mBAAmB;CAAG;AAAtB,mBAAmB;IAZ/B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,kEAAmB;YACnB,qFAA0B;YAC1B,mEAAe;YACf,qFAAgB;SACjB;QACD,YAAY,EAAE,CAAC,8DAAa,CAAC;KAC9B,CAAC;GACW,mBAAmB,CAAG;AAAH;;;;;;;;;;;;;ACvBhC;AAAe,0IAA2E,6CAA6C,yCAAyC,6BAA6B,6LAA6L,mFAAmF,mCAAmC,gGAAgG,+BAA+B,8JAA8J,mCAAmC,mLAAmL,mCAAmC,yQAAyQ,mCAAmC,sOAAsO,mCAAmC,gPAAgP,gCAAgC,wLAAwL,yCAAyC,4GAA4G,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAtnE;AACK;AACU;AACX;AACc;AACM;AACjC;AACE;AAEwB;IAQtD,aAAa,SAAb,aAAa;IAOxB,YAAoB,WAA+B,EACzC,aAA4B,EAC5B,QAAkB,EAClB,MAAc,EACd,EAAe,EAChB,QAAkB;QALP,gBAAW,GAAX,WAAW,CAAoB;QACzC,kBAAa,GAAb,aAAa,CAAe;QAC5B,aAAQ,GAAR,QAAQ,CAAU;QAClB,WAAM,GAAN,MAAM,CAAQ;QACd,OAAE,GAAF,EAAE,CAAa;QAChB,aAAQ,GAAR,QAAQ,CAAU;QAV3B,oBAAe,GAAW,yFAAmB,EAAE,CAAC;QAEzC,SAAI,GAAW,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC;IAU7C,CAAC;IAEC,QAAQ;QAEN,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACxB,KAAK,EAAE,CAAC,EAAE,EAAG,yDAAU,CAAC,QAAQ,CAAC;YACjC,IAAI,EAAE,CAAC,EAAE,EAAG,yDAAU,CAAC,QAAQ,CAAC;YAChC,QAAQ,EAAE,CAAC,EAAE,CAAC;YACd,WAAW,EAAE,CAAC,EAAE,CAAC;YACjB,WAAW,EAAE,CAAC,GAAG,CAAC;YAClB,QAAQ,EAAE,CAAC,EAAE,CAAC;YACd,MAAM,EAAE,CAAC,KAAK,CAAC;YACf,IAAI,EAAE,CAAC,MAAM,CAAC;YACd,OAAO,EAAE,CAAC,EAAE,CAAC;YACb,SAAS,EAAE,CAAC,EAAE,CAAC;YACf,UAAU,EAAE,CAAC,EAAE,CAAC;YAChB,SAAS,EAAE,CAAC,EAAE,CAAC;YACf,aAAa,EAAE,CAAC,EAAE,CAAC;YACnB,eAAe,EAAE,CAAC,EAAE,CAAC;YACrB,cAAc,EAAE,CAAC,EAAE,CAAC;SAErB,CAAC,CAAC;QAEH,IAAG,IAAI,CAAC,IAAI;YACV,IAAI,CAAC,aAAa,EAAE,CAAC;IAGzB,CAAC;IAED,aAAa;QACX,IAAI,MAAM,GAAa,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC;QAC1C,IAAI,MAAM,GAAG;YACX,KAAK,EAAE,MAAM,CAAC,KAAK;YACnB,IAAI,EAAE,MAAM,CAAC,kBAAkB;YAC/B,QAAQ,EAAE,MAAM,CAAC,IAAI;YACrB,WAAW,EAAE,MAAM,CAAC,WAAW;YAC/B,WAAW,EAAE,MAAM,CAAC,cAAc;YAClC,IAAI,EAAE,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,EAAC,EAAE,CAAC;SACxC;QAED,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;IACjC,CAAC;IAEK,MAAM;;YAEV,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC;YACvC,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC;YACzC,IAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC;YAC/C,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC3C,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAC/C,IAAG,IAAI,EAAC;gBACN,IAAI,OAAO,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC3C,IAAI,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;gBAClE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;aAChD;YACD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAC,IAAI,EAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAC,CAAC,CAAC;YAE9C,4EAA4E;YAC5E,IAAG,CAAC,IAAI,CAAC,IAAI,EAAC;gBACZ,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,EAAE,EAAC,IAAI,EAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAC,CAAC,CAAC,SAAS,CACnE,CAAO,IAAI,EAAE,EAAE,CAAC;oBACd,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;oBAC5B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,oCAAoC,CAAC,EAAE,EAAC,KAAK,EAAE,EAAC,OAAO,EAAC,YAAY,EAAE,KAAK,EAAC,4BAA4B,EAAC,EAAC,CAAC,CAAC;oBAClI,oKAAoK;gBACtK,CAAC,GACD,CAAO,KAAK,EAAE,EAAE,CAAC;oBACf,oBAAoB;oBACpB,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;oBAC9B,MAAM,IAAI,sEAAiB,CAAC,KAAK,CAAC,CAAC;gBACrC,CAAC,GACD,GAAG,EAAE;oBACH,6DAA6D;oBAC7D,+BAA+B;gBACjC,CAAC,CAAC,CAAC;aACN;iBAAI;gBACH,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,oCAAoC,CAAC,EAAE,EAAC,KAAK,EAAE,EAAC,OAAO,EAAC,YAAY,EAAE,KAAK,EAAC,4BAA4B,EAAC,EAAC,CAAC,CAAC;gBAClI,2KAA2K;aAC5K;QACH,CAAC;KAAA;CACF;;YA1GQ,uFAAkB;YAHlB,8EAAa;YACb,mEAAQ;YAGR,sDAAM;YAFK,0DAAW;YAGtB,yDAAQ;;AAUJ,aAAa;IANzB,+DAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;QAC1B,kFAAqC;QAErC,SAAS,EAAE,CAAC,yDAAQ,CAAC;;KACtB,CAAC;GACW,aAAa,CA8FzB;AA9FyB;;;;;;;;;;;;;ACjB1B;AAAe,6EAAc,uBAAuB,oCAAoC,4CAA4C,sCAAsC,GAAG,cAAc,mBAAmB,GAAG,kBAAkB,iBAAiB,iBAAiB,mBAAmB,sBAAsB,uBAAuB,GAAG,iBAAiB,2CAA2C,iFAAiF,GAAG,6CAA6C,miCAAmiC,E;;;;;;;;;;;;;;;;;;;ACA//C;AACc;AAEL;AAElD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,8DAAa;KACzB;IACD;QACE,IAAI,EAAE,QAAQ;QACd,YAAY,EAAE,GAAG,EAAE,CAAC,mKAAoC,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,gBAAgB,CAAC;KACxF;CACF,CAAC;IAMW,0BAA0B,SAA1B,0BAA0B;CAAG;AAA7B,0BAA0B;IAJtC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,0BAA0B,CAAG;AAAH","file":"agenda-add-agenda-add-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { AgendaAddPageRoutingModule } from './agenda-add-routing.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { AgendaAddPage } from './agenda-add.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    AgendaAddPageRoutingModule,\n    TranslateModule,\n    ComponentsModule\n  ],\n  declarations: [AgendaAddPage]\n})\nexport class AgendaAddPageModule {}\n","export default \"<custom-header></custom-header>\\n<ion-content class=\\\"back\\\" [ngStyle]=\\\"{'background': 'url(' + backgroundImage + ')'}\\\" fullscreen>\\n  <page-header title=\\\"{{'agenda.header' | translate}}\\\" icon=\\\"assets/icons/i_agenda.svg\\\" >\\n  </page-header>\\n <div class=\\\"main-container\\\">\\n  <ng-container *ngIf=\\\"this.showProcessing else showForm\\\">\\n    <div style=\\\"margin: 20px 40px; text-align: center\\\">\\n      <ion-spinner></ion-spinner>\\n      <p>\\n        <b>{{ 'appointments.save' | translate }}</b>\\n      </p>\\n    </div>\\n  </ng-container>\\n\\n  <ng-template #showForm>\\n\\n  <ion-text>  {{ 'agenda.added2' | translate }}</ion-text>\\n  <form (ngSubmit)=\\\"submit()\\\" [formGroup]=\\\"form\\\">\\n\\n<ion-row>\\n  <ion-col>\\n    <ion-item lines=\\\"none\\\">\\n      <ion-input placeholder=\\\"{{'agenda.placeholder1' | translate}}\\\" formControlName=\\\"title\\\"></ion-input>\\n    </ion-item>\\n  </ion-col>\\n</ion-row>\\n\\n<ion-row>\\n  <ion-col>\\n    <ion-item lines=\\\"none\\\">\\n      <ion-datetime placeholder=\\\"{{'agenda.placeholder2' | translate}}\\\" formControlName=\\\"data\\\" displayFormat=\\\"DD/MM/YYYY\\\"></ion-datetime>\\n      <ion-icon slot=\\\"end\\\" name=\\\"calendar\\\"></ion-icon>\\n    </ion-item>\\n  </ion-col>\\n</ion-row>\\n<ion-row>\\n  <ion-col>\\n    <ion-item lines=\\\"none\\\">\\n      <ion-input placeholder=\\\"{{'agenda.placeholder3' | translate}}\\\" formControlName=\\\"location\\\">\\n      </ion-input>\\n      <ion-icon name=\\\"pin\\\"></ion-icon>\\n    </ion-item>\\n  </ion-col>\\n</ion-row>\\n<ion-row>\\n  <ion-col>\\n    <ion-item lines=\\\"none\\\">\\n      <ion-textarea placeholder=\\\"{{'agenda.placeholder4' | translate}}\\\" formControlName=\\\"indications\\\"></ion-textarea>\\n    </ion-item>\\n  </ion-col>\\n</ion-row>\\n<ion-row><ion-col col-8></ion-col>\\n  <ion-col col-2>\\n    <ion-button class=\\\"button_cred\\\" color=\\\"primary\\\" routerLink=\\\"agenda\\\"  >\\n      {{ 'commons.cancel' | translate }}\\n    </ion-button>\\n  </ion-col>\\n  <ion-col col-2>\\n\\n    <ion-button class=\\\"button_cred\\\" color=\\\"primary\\\" type=\\\"submit\\\" color=\\\"primary\\\" [disabled]=\\\"!form.valid\\\" >\\n      {{ 'commons.save' | translate | uppercase}}\\n\\n\\n    </ion-button>\\n  </ion-col>\\n</ion-row>\\n  </form>\\n  </ng-template>\\n</div> \\n\\n</ion-content>\\n\";","import { Component, OnInit } from '@angular/core';\nimport {HttpErrorResponse} from \"@angular/common/http\";\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\nimport { Calendar } from '@ionic-native/calendar/ngx';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { AppointmentService } from 'src/app/services/appointment.service';\nimport { Router } from '@angular/router';\nimport { DatePipe } from '@angular/common';\nimport { IAgenda } from 'src/app/shared/classes/appointments';\nimport { getRandomBackground } from 'src/app/shared/classes/utils';\n\n@Component({\n  selector: 'app-agenda-add',\n  templateUrl: './agenda-add.page.html',\n  styleUrls: ['./agenda-add.page.scss'],\n  providers: [DatePipe]\n})\nexport class AgendaAddPage implements OnInit {\n  \n  backgroundImage: string = getRandomBackground();\n  form: FormGroup;\n  public edit:boolean = history.state.action;\n  public agenda: IAgenda;\n  public showProcessing: boolean;\n  constructor(private appointment: AppointmentService,\n    private socialSharing: SocialSharing,\n    private calendar: Calendar,\n    private router: Router,\n    private fb: FormBuilder,\n    public datepipe: DatePipe, ) {\n\n}\n\n  ngOnInit() {\n    \n    this.form = this.fb.group({\n      title: ['',  Validators.required],\n      data: ['',  Validators.required],\n      location: [''],\n      indications: [''],\n      agenda_type: ['8'],\n      staff_id: [''],\n      online: [false],\n      hora: ['1200'],\n      id_cita: [''],\n      metge_nom: [''],\n      centre_nom: [''],\n      centre_cp: [''],\n      centre_adreca: [''],\n      centre_poblacio: [''],\n      centre_telefon: [''],\n     \n    });\n\n    if(this.edit) \n      this.setFormValues();\n      \n    \n  }\n\n  setFormValues(){\n    let agenda : IAgenda = history.state.agenda;\n      let values = {\n        title: agenda.title,\n        data: agenda.start_date_iso8601,\n        location: agenda.site,\n        indications: agenda.description,\n        agenda_type: agenda.agenda_type_id,\n        hora: agenda.start_time.replace(\":\",\"\")\n      }\n\n      this.form.patchValue(values);\n  }\n\n  async submit(){\n    \n    this.showProcessing = true;\n    let date = this.form.get('data').value;\n    let title = this.form.get('title').value;\n    let location = this.form.get('location').value;\n    this.form.get('metge_nom').setValue(title);\n    this.form.get('centre_nom').setValue(location);\n    if(date){\n      var current = new Date(date.split('T')[0]);\n      let data_prestacio = this.datepipe.transform(current, 'yyyyMMdd');\n      this.form.get('data').setValue(data_prestacio);\n    }\n    console.log(\"data: \", {data:this.form.value});\n    \n    //const endpoint = this.edit ? 'mgc/agenda':  'mgc/agenda/'+ this.agenda.id;\n    if(!this.edit){\n      this.appointment.post('mgc/agenda', {data:this.form.value}).subscribe(\n        async (data) => {\n          console.log(\"data: \", data);\n          this.router.navigate(['/app/home/wellbeing/agenda/success'], {state: {message:'agenda.add', route:'/app/home/wellbeing/agenda'}});\n          //this.router.navigate(['/app/home/healthcare/appointments/success'], { state: { isOnline: false, appointmentType: 8, isAppointmentChange: false, agenda: data } });\n        },\n        async (error) => {\n          // Called when error\n          console.log('error: ', error);\n          throw new HttpErrorResponse(error);\n        },\n        () => {\n          // Called when operation is complete (both success and error)\n          // this.showProcessing = false;\n        });\n    }else{\n      this.router.navigate(['/app/home/wellbeing/agenda/success'], {state: {message:'agenda.add', route:'/app/home/wellbeing/agenda'}});\n      //this.router.navigate(['/app/home/healthcare/appointments/success'], { state: { isOnline: false, appointmentType: 8, isAppointmentChange: false, agenda: this.agenda } });\n    }\n  }\n}","export default \"ion-content {\\n  --background: none;\\n  background-position: center top;\\n  background-repeat: no-repeat !important;\\n  background-size: cover !important;\\n}\\n\\nion-icon {\\n  color: #006172;\\n}\\n\\n.logo-header {\\n  width: 170px;\\n  height: auto;\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\n.header-one {\\n  --background: rgba(255, 255, 255, 0.9);\\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2FnZW5kYS1hZGQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSwrQkFBQTtFQUNBLHVDQUFBO0VBQ0EsaUNBQUE7QUFDSjs7QUFDQTtFQUNJLGNBQUE7QUFFSjs7QUFDQTtFQUNFLFlBQUE7RUFFQSxZQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFDQTtFQUNFLHNDQUFBO0VBQ0EsNEVBQUE7QUFFRiIsImZpbGUiOiJhZ2VuZGEtYWRkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IHtcbiAgICAtLWJhY2tncm91bmQ6IG5vbmU7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIHRvcDtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0ICFpbXBvcnRhbnQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlciAhaW1wb3J0YW50O1xuICB9XG5pb24taWNvbntcbiAgICBjb2xvcjogIzAwNjE3MjsgXG59XG5cbi5sb2dvLWhlYWRlciB7XG4gIHdpZHRoOiAxNzBweDtcblxuICBoZWlnaHQ6IGF1dG87XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xufVxuLmhlYWRlci1vbmUge1xuICAtLWJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC45KTtcbiAgYm94LXNoYWRvdzogMCA0cHggOHB4IDAgcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDZweCAyMHB4IDAgcmdiYSgwLCAwLCAwLCAwLjE5KTtcbn1cbiJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AgendaAddPage } from './agenda-add.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AgendaAddPage\n  },\n  {\n    path: 'agenda',\n    loadChildren: () => import('../../agenda/agenda.module').then( m => m.AgendaPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AgendaAddPageRoutingModule {}\n"],"sourceRoot":"webpack:///"}